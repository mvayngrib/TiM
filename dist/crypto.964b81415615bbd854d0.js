webpackJsonp([5,7],{885:function(e,t,r){(function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,i){function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function BN(e,t,r){return BN.isBN(e)?e:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))))}function parseHex(e,t,r){for(var i=0,n=Math.min(e.length,r),s=t;s<n;s++){var o=e.charCodeAt(s)-48;i<<=4,i|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return i}function parseBase(e,t,r,i){for(var n=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}function toBitArray(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}function smallMulTo(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],s=0|t.words[0],o=n*s,a=67108863&o,f=o/67108864|0;r.words[0]=a;for(var d=1;d<i;d++){for(var u=f>>>26,h=67108863&f,c=Math.min(d,t.length-1),l=Math.max(0,d-e.length+1);l<=c;l++){var p=d-l|0;n=0|e.words[p],s=0|t.words[l],o=n*s+h,u+=o/67108864|0,h=67108863&o}r.words[d]=0|h,f=0|u}return 0!==f?r.words[d]=0|f:r.length--,r.strip()}function bigMulTo(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,f=Math.min(s,t.length-1),d=Math.max(0,s-e.length+1);d<=f;d++){var u=s-d,h=0|e.words[u],c=0|t.words[d],l=h*c,p=67108863&l;o=o+(l/67108864|0)|0,p=p+a|0,a=67108863&p,o=o+(p>>>26)|0,n+=o>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}function jumboMulTo(e,t,r){var i=new FFTM;return i.mulp(e,t,r)}function FFTM(e,t){this.x=e,this.y=t}function MPrime(e,t){this.name=e,this.p=new BN(t,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(e){if("string"==typeof e){var t=BN._prime(e);this.m=t.p,this.prime=t}else assert(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function Mont(e){Red.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"===("undefined"==typeof e?"undefined":t(e))?e.exports=BN:i.BN=BN,BN.BN=BN,BN.wordSize=26;var n;try{n=r(807).Buffer}catch(s){}BN.isBN=function(e){return e instanceof BN||null!==e&&"object"===("undefined"==typeof e?"undefined":t(e))&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)},BN.max=function(e,t){return e.cmp(t)>0?e:t},BN.min=function(e,t){return e.cmp(t)<0?e:t},BN.prototype._init=function(e,r,i){if("number"==typeof e)return this._initNumber(e,r,i);if("object"===("undefined"==typeof e?"undefined":t(e)))return this._initArray(e,r,i);"hex"===r&&(r=16),assert(r===(0|r)&&r>=2&&r<=36),e=e.toString().replace(/\s+/g,"");var n=0;"-"===e[0]&&n++,16===r?this._parseHex(e,n):this._parseBase(e,r,n),"-"===e[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),r,i)},BN.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(assert(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},BN.prototype._initArray=function(e,t,r){if(assert("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s,o=0;if("be"===r)for(i=e.length-1,n=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[n]|=s<<o&67108863,this.words[n+1]=s>>>26-o&67108863,o+=24,o>=26&&(o-=26,n++);else if("le"===r)for(i=0,n=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[n]|=s<<o&67108863,this.words[n+1]=s>>>26-o&67108863,o+=24,o>=26&&(o-=26,n++);return this.strip()},BN.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,n,s=0;for(r=e.length-6,i=0;r>=t;r-=6)n=parseHex(e,r,r+6),this.words[i]|=n<<s&67108863,this.words[i+1]|=n>>>26-s&4194303,s+=24,s>=26&&(s-=26,i++);r+6!==t&&(n=parseHex(e,t,r+6),this.words[i]|=n<<s&67108863,this.words[i+1]|=n>>>26-s&4194303),this.strip()},BN.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,o=s%i,a=Math.min(s,s-o)+r,f=0,d=r;d<a;d+=i)f=parseBase(e,d,d+i,t),this.imuln(n),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==o){var u=1;for(f=parseBase(e,d,e.length,t),d=0;d<o;d++)u*=t;this.imuln(u),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}},BN.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},BN.prototype.clone=function(){var e=new BN(null);return this.copy(e),e},BN.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var o=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],a=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(e,t){e=e||10,t=0|t||1;var r;if(16===e||"hex"===e){r="";for(var i=0,n=0,s=0;s<this.length;s++){var d=this.words[s],u=(16777215&(d<<i|n)).toString(16);n=d>>>24-i&16777215,r=0!==n||s!==this.length-1?o[6-u.length]+u+r:u+r,i+=2,i>=26&&(i-=26,s--)}for(0!==n&&(r=n.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var h=a[e],c=f[e];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var p=l.modn(c).toString(e);l=l.idivn(c),r=l.isZero()?p+r:o[h-p.length]+p+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toBuffer=function(e,t){return assert("undefined"!=typeof n),this.toArrayLike(n,e,t)},BN.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},BN.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),n=r||Math.max(1,i);assert(i<=n,"byte array longer than desired length"),assert(n>0,"Requested array length <= 0"),this.strip();var s,o,a="le"===t,f=new e(n),d=this.clone();if(a){for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),f[o]=s;for(;o<n;o++)f[o]=0}else{for(o=0;o<n-i;o++)f[o]=0;for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),f[n-o-1]=s}return f},Math.clz32?BN.prototype._countBits=function(e){return 32-Math.clz32(e)}:BN.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},BN.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},BN.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},BN.prototype.ior=function(e){return assert(0===(this.negative|e.negative)),this.iuor(e)},BN.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},BN.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},BN.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},BN.prototype.iand=function(e){return assert(0===(this.negative|e.negative)),this.iuand(e)},BN.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},BN.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},BN.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},BN.prototype.ixor=function(e){return assert(0===(this.negative|e.negative)),this.iuxor(e)},BN.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},BN.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},BN.prototype.inotn=function(e){assert("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},BN.prototype.notn=function(e){return this.clone().inotn(e)},BN.prototype.setn=function(e,t){assert("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this.strip()},BN.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var r,i;this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,s=0;s<i.length;s++)t=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&t,n=t>>>26;for(;0!==n&&s<r.length;s++)t=(0|r.words[s])+n,this.words[s]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},BN.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},BN.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var i,n;r>0?(i=this,n=e):(i=e,n=this);for(var s=0,o=0;o<n.length;o++)t=(0|i.words[o])-(0|n.words[o])+s,s=t>>26,this.words[o]=67108863&t;for(;0!==s&&o<i.length;o++)t=(0|i.words[o])+s,s=t>>26,this.words[o]=67108863&t;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var i,n,s,o=e.words,a=t.words,f=r.words,d=0,u=0|o[0],h=8191&u,c=u>>>13,l=0|o[1],p=8191&l,b=l>>>13,y=0|o[2],v=8191&y,m=y>>>13,g=0|o[3],w=8191&g,_=g>>>13,S=0|o[4],M=8191&S,A=S>>>13,E=0|o[5],N=8191&E,B=E>>>13,I=0|o[6],P=8191&I,x=I>>>13,R=0|o[7],k=8191&R,C=R>>>13,K=0|o[8],T=8191&K,L=K>>>13,D=0|o[9],q=8191&D,O=D>>>13,z=0|a[0],j=8191&z,U=z>>>13,F=0|a[1],V=8191&F,Y=F>>>13,J=0|a[2],H=8191&J,G=J>>>13,W=0|a[3],Z=8191&W,X=W>>>13,$=0|a[4],Q=8191&$,ee=$>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],se=8191&ne,oe=ne>>>13,ae=0|a[7],fe=8191&ae,de=ae>>>13,ue=0|a[8],he=8191&ue,ce=ue>>>13,le=0|a[9],pe=8191&le,be=le>>>13;r.negative=e.negative^t.negative,r.length=19,i=Math.imul(h,j),n=Math.imul(h,U),n=n+Math.imul(c,j)|0,s=Math.imul(c,U);var ye=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(p,j),n=Math.imul(p,U),n=n+Math.imul(b,j)|0,s=Math.imul(b,U),i=i+Math.imul(h,V)|0,n=n+Math.imul(h,Y)|0,n=n+Math.imul(c,V)|0,s=s+Math.imul(c,Y)|0;var ve=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(v,j),n=Math.imul(v,U),n=n+Math.imul(m,j)|0,s=Math.imul(m,U),i=i+Math.imul(p,V)|0,n=n+Math.imul(p,Y)|0,n=n+Math.imul(b,V)|0,s=s+Math.imul(b,Y)|0,i=i+Math.imul(h,H)|0,n=n+Math.imul(h,G)|0,n=n+Math.imul(c,H)|0,s=s+Math.imul(c,G)|0;var me=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(w,j),n=Math.imul(w,U),n=n+Math.imul(_,j)|0,s=Math.imul(_,U),i=i+Math.imul(v,V)|0,n=n+Math.imul(v,Y)|0,n=n+Math.imul(m,V)|0,s=s+Math.imul(m,Y)|0,i=i+Math.imul(p,H)|0,n=n+Math.imul(p,G)|0,n=n+Math.imul(b,H)|0,s=s+Math.imul(b,G)|0,i=i+Math.imul(h,Z)|0,n=n+Math.imul(h,X)|0,n=n+Math.imul(c,Z)|0,s=s+Math.imul(c,X)|0;var ge=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(M,j),n=Math.imul(M,U),n=n+Math.imul(A,j)|0,s=Math.imul(A,U),i=i+Math.imul(w,V)|0,n=n+Math.imul(w,Y)|0,n=n+Math.imul(_,V)|0,s=s+Math.imul(_,Y)|0,i=i+Math.imul(v,H)|0,n=n+Math.imul(v,G)|0,n=n+Math.imul(m,H)|0,s=s+Math.imul(m,G)|0,i=i+Math.imul(p,Z)|0,n=n+Math.imul(p,X)|0,n=n+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,i=i+Math.imul(h,Q)|0,n=n+Math.imul(h,ee)|0,n=n+Math.imul(c,Q)|0,s=s+Math.imul(c,ee)|0;var we=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(N,j),n=Math.imul(N,U),n=n+Math.imul(B,j)|0,s=Math.imul(B,U),i=i+Math.imul(M,V)|0,n=n+Math.imul(M,Y)|0,n=n+Math.imul(A,V)|0,s=s+Math.imul(A,Y)|0,i=i+Math.imul(w,H)|0,n=n+Math.imul(w,G)|0,n=n+Math.imul(_,H)|0,s=s+Math.imul(_,G)|0,i=i+Math.imul(v,Z)|0,n=n+Math.imul(v,X)|0,n=n+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0,i=i+Math.imul(p,Q)|0,n=n+Math.imul(p,ee)|0,n=n+Math.imul(b,Q)|0,s=s+Math.imul(b,ee)|0,i=i+Math.imul(h,re)|0,n=n+Math.imul(h,ie)|0,n=n+Math.imul(c,re)|0,s=s+Math.imul(c,ie)|0;var _e=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(P,j),n=Math.imul(P,U),n=n+Math.imul(x,j)|0,s=Math.imul(x,U),i=i+Math.imul(N,V)|0,n=n+Math.imul(N,Y)|0,n=n+Math.imul(B,V)|0,s=s+Math.imul(B,Y)|0,i=i+Math.imul(M,H)|0,n=n+Math.imul(M,G)|0,n=n+Math.imul(A,H)|0,s=s+Math.imul(A,G)|0,i=i+Math.imul(w,Z)|0,n=n+Math.imul(w,X)|0,n=n+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(v,Q)|0,n=n+Math.imul(v,ee)|0,n=n+Math.imul(m,Q)|0,s=s+Math.imul(m,ee)|0,i=i+Math.imul(p,re)|0,n=n+Math.imul(p,ie)|0,n=n+Math.imul(b,re)|0,s=s+Math.imul(b,ie)|0,i=i+Math.imul(h,se)|0,n=n+Math.imul(h,oe)|0,n=n+Math.imul(c,se)|0,s=s+Math.imul(c,oe)|0;var Se=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(k,j),n=Math.imul(k,U),n=n+Math.imul(C,j)|0,s=Math.imul(C,U),i=i+Math.imul(P,V)|0,n=n+Math.imul(P,Y)|0,n=n+Math.imul(x,V)|0,s=s+Math.imul(x,Y)|0,i=i+Math.imul(N,H)|0,n=n+Math.imul(N,G)|0,n=n+Math.imul(B,H)|0,s=s+Math.imul(B,G)|0,i=i+Math.imul(M,Z)|0,n=n+Math.imul(M,X)|0,n=n+Math.imul(A,Z)|0,s=s+Math.imul(A,X)|0,i=i+Math.imul(w,Q)|0,n=n+Math.imul(w,ee)|0,n=n+Math.imul(_,Q)|0,s=s+Math.imul(_,ee)|0,i=i+Math.imul(v,re)|0,n=n+Math.imul(v,ie)|0,n=n+Math.imul(m,re)|0,s=s+Math.imul(m,ie)|0,i=i+Math.imul(p,se)|0,n=n+Math.imul(p,oe)|0,n=n+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,i=i+Math.imul(h,fe)|0,n=n+Math.imul(h,de)|0,n=n+Math.imul(c,fe)|0,s=s+Math.imul(c,de)|0;var Me=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(T,j),n=Math.imul(T,U),n=n+Math.imul(L,j)|0,s=Math.imul(L,U),i=i+Math.imul(k,V)|0,n=n+Math.imul(k,Y)|0,n=n+Math.imul(C,V)|0,s=s+Math.imul(C,Y)|0,i=i+Math.imul(P,H)|0,n=n+Math.imul(P,G)|0,n=n+Math.imul(x,H)|0,s=s+Math.imul(x,G)|0,i=i+Math.imul(N,Z)|0,n=n+Math.imul(N,X)|0,n=n+Math.imul(B,Z)|0,s=s+Math.imul(B,X)|0,i=i+Math.imul(M,Q)|0,n=n+Math.imul(M,ee)|0,n=n+Math.imul(A,Q)|0,s=s+Math.imul(A,ee)|0,i=i+Math.imul(w,re)|0,n=n+Math.imul(w,ie)|0,n=n+Math.imul(_,re)|0,s=s+Math.imul(_,ie)|0,i=i+Math.imul(v,se)|0,n=n+Math.imul(v,oe)|0,n=n+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0,i=i+Math.imul(p,fe)|0,n=n+Math.imul(p,de)|0,n=n+Math.imul(b,fe)|0,s=s+Math.imul(b,de)|0,i=i+Math.imul(h,he)|0,n=n+Math.imul(h,ce)|0,n=n+Math.imul(c,he)|0,s=s+Math.imul(c,ce)|0;var Ae=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(q,j),n=Math.imul(q,U),n=n+Math.imul(O,j)|0,s=Math.imul(O,U),i=i+Math.imul(T,V)|0,n=n+Math.imul(T,Y)|0,n=n+Math.imul(L,V)|0,s=s+Math.imul(L,Y)|0,i=i+Math.imul(k,H)|0,n=n+Math.imul(k,G)|0,n=n+Math.imul(C,H)|0,s=s+Math.imul(C,G)|0,i=i+Math.imul(P,Z)|0,n=n+Math.imul(P,X)|0,n=n+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,i=i+Math.imul(N,Q)|0,n=n+Math.imul(N,ee)|0,n=n+Math.imul(B,Q)|0,s=s+Math.imul(B,ee)|0,i=i+Math.imul(M,re)|0,n=n+Math.imul(M,ie)|0,n=n+Math.imul(A,re)|0,s=s+Math.imul(A,ie)|0,i=i+Math.imul(w,se)|0,n=n+Math.imul(w,oe)|0,n=n+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,i=i+Math.imul(v,fe)|0,n=n+Math.imul(v,de)|0,n=n+Math.imul(m,fe)|0,s=s+Math.imul(m,de)|0,i=i+Math.imul(p,he)|0,n=n+Math.imul(p,ce)|0,n=n+Math.imul(b,he)|0,s=s+Math.imul(b,ce)|0,i=i+Math.imul(h,pe)|0,n=n+Math.imul(h,be)|0,n=n+Math.imul(c,pe)|0,s=s+Math.imul(c,be)|0;var Ee=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(q,V),n=Math.imul(q,Y),n=n+Math.imul(O,V)|0,s=Math.imul(O,Y),i=i+Math.imul(T,H)|0,n=n+Math.imul(T,G)|0,n=n+Math.imul(L,H)|0,s=s+Math.imul(L,G)|0,i=i+Math.imul(k,Z)|0,n=n+Math.imul(k,X)|0,n=n+Math.imul(C,Z)|0,s=s+Math.imul(C,X)|0,i=i+Math.imul(P,Q)|0,n=n+Math.imul(P,ee)|0,n=n+Math.imul(x,Q)|0,s=s+Math.imul(x,ee)|0,i=i+Math.imul(N,re)|0,n=n+Math.imul(N,ie)|0,n=n+Math.imul(B,re)|0,s=s+Math.imul(B,ie)|0,i=i+Math.imul(M,se)|0,n=n+Math.imul(M,oe)|0,n=n+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,i=i+Math.imul(w,fe)|0,n=n+Math.imul(w,de)|0,n=n+Math.imul(_,fe)|0,s=s+Math.imul(_,de)|0,i=i+Math.imul(v,he)|0,n=n+Math.imul(v,ce)|0,n=n+Math.imul(m,he)|0,s=s+Math.imul(m,ce)|0,i=i+Math.imul(p,pe)|0,n=n+Math.imul(p,be)|0,n=n+Math.imul(b,pe)|0,s=s+Math.imul(b,be)|0;var Ne=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,i=Math.imul(q,H),n=Math.imul(q,G),n=n+Math.imul(O,H)|0,s=Math.imul(O,G),i=i+Math.imul(T,Z)|0,n=n+Math.imul(T,X)|0,n=n+Math.imul(L,Z)|0,s=s+Math.imul(L,X)|0,i=i+Math.imul(k,Q)|0,n=n+Math.imul(k,ee)|0,n=n+Math.imul(C,Q)|0,s=s+Math.imul(C,ee)|0,i=i+Math.imul(P,re)|0,n=n+Math.imul(P,ie)|0,n=n+Math.imul(x,re)|0,s=s+Math.imul(x,ie)|0,i=i+Math.imul(N,se)|0,n=n+Math.imul(N,oe)|0,n=n+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,i=i+Math.imul(M,fe)|0,n=n+Math.imul(M,de)|0,n=n+Math.imul(A,fe)|0,s=s+Math.imul(A,de)|0,i=i+Math.imul(w,he)|0,n=n+Math.imul(w,ce)|0,n=n+Math.imul(_,he)|0,s=s+Math.imul(_,ce)|0,i=i+Math.imul(v,pe)|0,n=n+Math.imul(v,be)|0,n=n+Math.imul(m,pe)|0,s=s+Math.imul(m,be)|0;var Be=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,i=Math.imul(q,Z),n=Math.imul(q,X),n=n+Math.imul(O,Z)|0,s=Math.imul(O,X),i=i+Math.imul(T,Q)|0,n=n+Math.imul(T,ee)|0,n=n+Math.imul(L,Q)|0,s=s+Math.imul(L,ee)|0,i=i+Math.imul(k,re)|0,n=n+Math.imul(k,ie)|0,n=n+Math.imul(C,re)|0,s=s+Math.imul(C,ie)|0,i=i+Math.imul(P,se)|0,n=n+Math.imul(P,oe)|0,n=n+Math.imul(x,se)|0,s=s+Math.imul(x,oe)|0,i=i+Math.imul(N,fe)|0,n=n+Math.imul(N,de)|0,n=n+Math.imul(B,fe)|0,s=s+Math.imul(B,de)|0,i=i+Math.imul(M,he)|0,n=n+Math.imul(M,ce)|0,n=n+Math.imul(A,he)|0,s=s+Math.imul(A,ce)|0,i=i+Math.imul(w,pe)|0,n=n+Math.imul(w,be)|0,n=n+Math.imul(_,pe)|0,s=s+Math.imul(_,be)|0;var Ie=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(q,Q),n=Math.imul(q,ee),n=n+Math.imul(O,Q)|0,s=Math.imul(O,ee),i=i+Math.imul(T,re)|0,n=n+Math.imul(T,ie)|0,n=n+Math.imul(L,re)|0,s=s+Math.imul(L,ie)|0,i=i+Math.imul(k,se)|0,n=n+Math.imul(k,oe)|0,n=n+Math.imul(C,se)|0,s=s+Math.imul(C,oe)|0,i=i+Math.imul(P,fe)|0,n=n+Math.imul(P,de)|0,n=n+Math.imul(x,fe)|0,s=s+Math.imul(x,de)|0,i=i+Math.imul(N,he)|0,n=n+Math.imul(N,ce)|0,n=n+Math.imul(B,he)|0,s=s+Math.imul(B,ce)|0,i=i+Math.imul(M,pe)|0,n=n+Math.imul(M,be)|0,n=n+Math.imul(A,pe)|0,s=s+Math.imul(A,be)|0;var Pe=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(q,re),n=Math.imul(q,ie),n=n+Math.imul(O,re)|0,s=Math.imul(O,ie),i=i+Math.imul(T,se)|0,n=n+Math.imul(T,oe)|0,n=n+Math.imul(L,se)|0,s=s+Math.imul(L,oe)|0,i=i+Math.imul(k,fe)|0,n=n+Math.imul(k,de)|0,n=n+Math.imul(C,fe)|0,s=s+Math.imul(C,de)|0,i=i+Math.imul(P,he)|0,n=n+Math.imul(P,ce)|0,n=n+Math.imul(x,he)|0,s=s+Math.imul(x,ce)|0,i=i+Math.imul(N,pe)|0,n=n+Math.imul(N,be)|0,n=n+Math.imul(B,pe)|0,s=s+Math.imul(B,be)|0;var xe=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(q,se),n=Math.imul(q,oe),n=n+Math.imul(O,se)|0,s=Math.imul(O,oe),i=i+Math.imul(T,fe)|0,n=n+Math.imul(T,de)|0,n=n+Math.imul(L,fe)|0,s=s+Math.imul(L,de)|0,i=i+Math.imul(k,he)|0,n=n+Math.imul(k,ce)|0,n=n+Math.imul(C,he)|0,s=s+Math.imul(C,ce)|0,i=i+Math.imul(P,pe)|0,n=n+Math.imul(P,be)|0,n=n+Math.imul(x,pe)|0,s=s+Math.imul(x,be)|0;var Re=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(q,fe),n=Math.imul(q,de),n=n+Math.imul(O,fe)|0,s=Math.imul(O,de),i=i+Math.imul(T,he)|0,n=n+Math.imul(T,ce)|0,n=n+Math.imul(L,he)|0,s=s+Math.imul(L,ce)|0,i=i+Math.imul(k,pe)|0,n=n+Math.imul(k,be)|0,n=n+Math.imul(C,pe)|0,s=s+Math.imul(C,be)|0;var ke=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(q,he),n=Math.imul(q,ce),n=n+Math.imul(O,he)|0,s=Math.imul(O,ce),i=i+Math.imul(T,pe)|0,n=n+Math.imul(T,be)|0,n=n+Math.imul(L,pe)|0,s=s+Math.imul(L,be)|0;var Ce=(d+i|0)+((8191&n)<<13)|0;d=(s+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(q,pe),n=Math.imul(q,be),n=n+Math.imul(O,pe)|0,s=Math.imul(O,be);var Ke=(d+i|0)+((8191&n)<<13)|0;return d=(s+(n>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,f[0]=ye,f[1]=ve,f[2]=me,f[3]=ge,f[4]=we,f[5]=_e,f[6]=Se,f[7]=Me,f[8]=Ae,f[9]=Ee,f[10]=Ne,f[11]=Be,f[12]=Ie,f[13]=Pe,f[14]=xe,f[15]=Re,f[16]=ke,f[17]=Ce,f[18]=Ke,0!==d&&(f[19]=d,r.length++),r};Math.imul||(d=smallMulTo),BN.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):i<63?smallMulTo(this,e,t):i<1024?bigMulTo(this,e,t):jumboMulTo(this,e,t)},FFTM.prototype.makeRBT=function(e){for(var t=new Array(e),r=BN.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},FFTM.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},FFTM.prototype.permute=function(e,t,r,i,n,s){for(var o=0;o<s;o++)i[o]=t[e[o]],n[o]=r[e[o]]},FFTM.prototype.transform=function(e,t,r,i,n,s){this.permute(s,e,t,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,f=Math.cos(2*Math.PI/a),d=Math.sin(2*Math.PI/a),u=0;u<n;u+=a)for(var h=f,c=d,l=0;l<o;l++){var p=r[u+l],b=i[u+l],y=r[u+l+o],v=i[u+l+o],m=h*y-c*v;v=h*v+c*y,y=m,r[u+l]=p+y,i[u+l]=b+v,r[u+l+o]=p-y,i[u+l+o]=b-v,l!==a&&(m=f*h-d*c,c=f*c+d*h,h=m)}},FFTM.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},FFTM.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},FFTM.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},FFTM.prototype.convert13b=function(e,t,r,i){for(var n=0,s=0;s<t;s++)n+=0|e[s],r[2*s]=8191&n,n>>>=13,r[2*s+1]=8191&n,n>>>=13;for(s=2*t;s<i;++s)r[s]=0;assert(0===n),assert(0===(n&-8192))},FFTM.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},FFTM.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),f=new Array(i),d=new Array(i),u=new Array(i),h=new Array(i),c=r.words;c.length=i,this.convert13b(e.words,e.length,o,i),this.convert13b(t.words,t.length,d,i),this.transform(o,s,a,f,i,n),this.transform(d,s,u,h,i,n);for(var l=0;l<i;l++){var p=a[l]*u[l]-f[l]*h[l];f[l]=a[l]*h[l]+f[l]*u[l],a[l]=p}return this.conjugate(a,f,i),this.transform(a,f,c,s,i,n),this.conjugate(c,s,i),this.normalize13b(c,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},BN.prototype.mul=function(e){var t=new BN(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},BN.prototype.mulf=function(e){var t=new BN(null);return t.words=new Array(this.length+e.length),jumboMulTo(this,e,t)},BN.prototype.imul=function(e){return this.clone().mulTo(e,this)},BN.prototype.imuln=function(e){assert("number"==typeof e),assert(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,n=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=n>>>26,this.words[r]=67108863&n}return 0!==t&&(this.words[r]=t,this.length++),this},BN.prototype.muln=function(e){return this.clone().imuln(e)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(e){var t=toBitArray(e);if(0===t.length)return new BN(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},BN.prototype.iushln=function(e){assert("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,n=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&n,a=(0|this.words[t])-o<<r;this.words[t]=a|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},BN.prototype.ishln=function(e){return assert(0===this.negative),this.iushln(e)},BN.prototype.iushrn=function(e,t,r){assert("number"==typeof e&&e>=0);var i;i=t?(t-t%26)/26:0;var n=e%26,s=Math.min((e-n)/26,this.length),o=67108863^67108863>>>n<<n,a=r;if(i-=s,i=Math.max(0,i),a){for(var f=0;f<s;f++)a.words[f]=this.words[f];a.length=s}if(0===s);else if(this.length>s)for(this.length-=s,f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var d=0;for(f=this.length-1;f>=0&&(0!==d||f>=i);f--){var u=0|this.words[f];this.words[f]=d<<26-n|u>>>n,d=u&o}return a&&0!==d&&(a.words[a.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function(e,t,r){return assert(0===this.negative),this.iushrn(e,t,r)},BN.prototype.shln=function(e){return this.clone().ishln(e)},BN.prototype.ushln=function(e){return this.clone().iushln(e)},BN.prototype.shrn=function(e){return this.clone().ishrn(e)},BN.prototype.ushrn=function(e){return this.clone().iushrn(e)},BN.prototype.testn=function(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return!1;var n=this.words[r];return!!(n&i)},BN.prototype.imaskn=function(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},BN.prototype.maskn=function(e){return this.clone().imaskn(e)},BN.prototype.iaddn=function(e){return assert("number"==typeof e),assert(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},BN.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},BN.prototype.isubn=function(e){if(assert("number"==typeof e),assert(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},BN.prototype.addn=function(e){return this.clone().iaddn(e)},BN.prototype.subn=function(e){return this.clone().isubn(e)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(e,t,r){var i,n=e.length+r;this._expand(n);var s,o=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+o;var a=(0|e.words[i])*t;s-=67108863&a,o=(s>>26)-(a/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)s=(0|this.words[i+r])+o,o=s>>26,this.words[i+r]=67108863&s;if(0===o)return this.strip();for(assert(o===-1),o=0,i=0;i<this.length;i++)s=-(0|this.words[i])+o,o=s>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},BN.prototype._wordDiv=function(e,t){var r=this.length-e.length,i=this.clone(),n=e,s=0|n.words[n.length-1],o=this._countBits(s);r=26-o,0!==r&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var a,f=i.length-n.length;if("mod"!==t){a=new BN(null),a.length=f+1,a.words=new Array(a.length);for(var d=0;d<a.length;d++)a.words[d]=0}var u=i.clone()._ishlnsubmul(n,1,f);0===u.negative&&(i=u,a&&(a.words[f]=1));for(var h=f-1;h>=0;h--){var c=67108864*(0|i.words[n.length+h])+(0|i.words[n.length+h-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(n,c,h);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(n,1,h),i.isZero()||(i.negative^=1);a&&(a.words[h]=c)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},BN.prototype.divmod=function(e,t,r){if(assert(!e.isZero()),this.isZero())return{div:new BN(0),mod:new BN(0)};var i,n,s;return 0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(n=s.mod.neg(),r&&0!==n.negative&&n.iadd(e)),{div:i,mod:n}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),
"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(n=s.mod.neg(),r&&0!==n.negative&&n.isub(e)),{div:s.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new BN(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new BN(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new BN(this.modn(e.words[0]))}:this._wordDiv(e,t)},BN.prototype.div=function(e){return this.divmod(e,"div",!1).div},BN.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},BN.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},BN.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},BN.prototype.modn=function(e){assert(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},BN.prototype.idivn=function(e){assert(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},BN.prototype.divn=function(e){return this.clone().idivn(e)},BN.prototype.egcd=function(e){assert(0===e.negative),assert(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new BN(1),n=new BN(0),s=new BN(0),o=new BN(1),a=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++a;for(var f=r.clone(),d=t.clone();!t.isZero();){for(var u=0,h=1;0===(t.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(t.iushrn(u);u-- >0;)(i.isOdd()||n.isOdd())&&(i.iadd(f),n.isub(d)),i.iushrn(1),n.iushrn(1);for(var c=0,l=1;0===(r.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(r.iushrn(c);c-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(f),o.isub(d)),s.iushrn(1),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),n.isub(o)):(r.isub(t),s.isub(i),o.isub(n))}return{a:s,b:o,gcd:r.iushln(a)}},BN.prototype._invmp=function(e){assert(0===e.negative),assert(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new BN(1),n=new BN(0),s=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var o=0,a=1;0===(t.words[0]&a)&&o<26;++o,a<<=1);if(o>0)for(t.iushrn(o);o-- >0;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var f=0,d=1;0===(r.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(r.iushrn(f);f-- >0;)n.isOdd()&&n.iadd(s),n.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(n)):(r.isub(t),n.isub(i))}var u;return u=0===t.cmpn(1)?i:n,u.cmpn(0)<0&&u.iadd(e),u},BN.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},BN.prototype.invm=function(e){return this.egcd(e).a.umod(e)},BN.prototype.isEven=function(){return 0===(1&this.words[0])},BN.prototype.isOdd=function(){return 1===(1&this.words[0])},BN.prototype.andln=function(e){return this.words[0]&e},BN.prototype.bincn=function(e){assert("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var n=i,s=r;0!==n&&s<this.length;s++){var o=0|this.words[s];o+=n,n=o>>>26,o&=67108863,this.words[s]=o}return 0!==n&&(this.words[s]=n,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(e){var t=e<0;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var r;if(this.length>1)r=1;else{t&&(e=-e),assert(e<=67108863,"Number is too big");var i=0|this.words[0];r=i===e?0:i<e?-1:1}return 0!==this.negative?0|-r:r},BN.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},BN.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},BN.prototype.gtn=function(e){return 1===this.cmpn(e)},BN.prototype.gt=function(e){return 1===this.cmp(e)},BN.prototype.gten=function(e){return this.cmpn(e)>=0},BN.prototype.gte=function(e){return this.cmp(e)>=0},BN.prototype.ltn=function(e){return this.cmpn(e)===-1},BN.prototype.lt=function(e){return this.cmp(e)===-1},BN.prototype.lten=function(e){return this.cmpn(e)<=0},BN.prototype.lte=function(e){return this.cmp(e)<=0},BN.prototype.eqn=function(e){return 0===this.cmpn(e)},BN.prototype.eq=function(e){return 0===this.cmp(e)},BN.red=function(e){return new Red(e)},BN.prototype.toRed=function(e){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(e){return this.red=e,this},BN.prototype.forceRed=function(e){return assert(!this.red,"Already a number in reduction context"),this._forceRed(e)},BN.prototype.redAdd=function(e){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},BN.prototype.redIAdd=function(e){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},BN.prototype.redSub=function(e){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},BN.prototype.redISub=function(e){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},BN.prototype.redShl=function(e){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},BN.prototype.redMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},BN.prototype.redIMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(e){return assert(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var u={k256:null,p224:null,p192:null,p25519:null};MPrime.prototype._tmp=function(){var e=new BN(null);return e.words=new Array(Math.ceil(this.n/13)),e},MPrime.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),t=r.bitLength();while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r.strip(),r},MPrime.prototype.split=function(e,t){e.iushrn(this.n,0,t)},MPrime.prototype.imulK=function(e){return e.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[n-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},K256.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},BN._prime=function prime(e){if(u[e])return u[e];var prime;if("k256"===e)prime=new K256;else if("p224"===e)prime=new P224;else if("p192"===e)prime=new P192;else{if("p25519"!==e)throw new Error("Unknown prime "+e);prime=new P25519}return u[e]=prime,prime},Red.prototype._verify1=function(e){assert(0===e.negative,"red works only with positives"),assert(e.red,"red works only with red numbers")},Red.prototype._verify2=function(e,t){assert(0===(e.negative|t.negative),"red works only with positives"),assert(e.red&&e.red===t.red,"red works only with red numbers")},Red.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},Red.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},Red.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},Red.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},Red.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},Red.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},Red.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},Red.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},Red.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},Red.prototype.isqr=function(e){return this.imul(e,e.clone())},Red.prototype.sqr=function(e){return this.mul(e,e)},Red.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(assert(t%2===1),3===t){var r=this.m.add(new BN(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),n=0;!i.isZero()&&0===i.andln(1);)n++,i.iushrn(1);assert(!i.isZero());var s=new BN(1).toRed(this),o=s.redNeg(),a=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new BN(2*f*f).toRed(this);0!==this.pow(f,a).cmp(o);)f.redIAdd(o);for(var d=this.pow(f,i),u=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),c=n;0!==h.cmp(s);){for(var l=h,p=0;0!==l.cmp(s);p++)l=l.redSqr();assert(p<c);var b=this.pow(d,new BN(1).iushln(c-p-1));u=u.redMul(b),d=b.redSqr(),h=h.redMul(d),c=p}return u},Red.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},Red.prototype.pow=function(e,t){if(t.isZero())return new BN(1);if(0===t.cmpn(1))return e.clone();var r=4,i=new Array(1<<r);i[0]=new BN(1).toRed(this),i[1]=e;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],e);var s=i[0],o=0,a=0,f=t.bitLength()%26;for(0===f&&(f=26),n=t.length-1;n>=0;n--){for(var d=t.words[n],u=f-1;u>=0;u--){var h=d>>u&1;s!==i[0]&&(s=this.sqr(s)),0!==h||0!==o?(o<<=1,o|=h,a++,(a===r||0===n&&0===u)&&(s=this.mul(s,i[o]),a=0,o=0)):a=0}f=26}return s},Red.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},Red.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},BN.mont=function(e){return new Mont(e)},inherits(Mont,Red),Mont.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Mont.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},Mont.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},Mont.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new BN(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},Mont.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}}("undefined"==typeof e||e,void 0)}).call(t,r(294)(e))},895:[2473,896,897,898,905,910,912,915],896:function(e,t){e.exports={_args:[[{raw:"elliptic@https://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"https://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz",spec:"https://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz",type:"remote"},"/Users/tenaciousmv/Code/tradle-app-web"]],_from:"elliptic@6.3.2",_id:"elliptic@6.3.2",_inCache:!0,_location:"/elliptic",_phantomChildren:{},_requested:{raw:"elliptic@https://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"https://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz",spec:"https://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz",type:"remote"},_requiredBy:["/","/@tradle/protocol","/browserify-sign","/create-ecdh","/secp256k1"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz",_shasum:"e4c81e0829cf0a65ab70e998b8232723b5c1bc48",_shrinkwrap:null,_spec:"elliptic@https://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz",_where:"/Users/tenaciousmv/Code/tradle-app-web",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0",inherits:"^2.0.1"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",optionalDependencies:{},readme:"# Elliptic [![Build Status](https://secure.travis-ci.org/indutny/elliptic.png)](http://travis-ci.org/indutny/elliptic) [![Coverage Status](https://coveralls.io/repos/indutny/elliptic/badge.svg?branch=master&service=github)](https://coveralls.io/github/indutny/elliptic?branch=master) [![Code Climate](https://codeclimate.com/github/indutny/elliptic/badges/gpa.svg)](https://codeclimate.com/github/indutny/elliptic)\n\n[![Saucelabs Test Status](https://saucelabs.com/browser-matrix/gh-indutny-elliptic.svg)](https://saucelabs.com/u/gh-indutny-elliptic)\n\nFast elliptic-curve cryptography in a plain javascript implementation.\n\nNOTE: Please take a look at http://safecurves.cr.yp.to/ before choosing a curve\nfor your cryptography operations.\n\n## Incentive\n\nECC is much slower than regular RSA cryptography, the JS implementations are\neven more slower.\n\n## Benchmarks\n\n```bash\n$ node benchmarks/index.js\nBenchmarking: sign\nelliptic#sign x 262 ops/sec ±0.51% (177 runs sampled)\neccjs#sign x 55.91 ops/sec ±0.90% (144 runs sampled)\n------------------------\nFastest is elliptic#sign\n========================\nBenchmarking: verify\nelliptic#verify x 113 ops/sec ±0.50% (166 runs sampled)\neccjs#verify x 48.56 ops/sec ±0.36% (125 runs sampled)\n------------------------\nFastest is elliptic#verify\n========================\nBenchmarking: gen\nelliptic#gen x 294 ops/sec ±0.43% (176 runs sampled)\neccjs#gen x 62.25 ops/sec ±0.63% (129 runs sampled)\n------------------------\nFastest is elliptic#gen\n========================\nBenchmarking: ecdh\nelliptic#ecdh x 136 ops/sec ±0.85% (156 runs sampled)\n------------------------\nFastest is elliptic#ecdh\n========================\n```\n\n## API\n\n### ECDSA\n\n```javascript\nvar EC = require('elliptic').ec;\n\n// Create and initialize EC context\n// (better do it once and reuse it)\nvar ec = new EC('secp256k1');\n\n// Generate keys\nvar key = ec.genKeyPair();\n\n// Sign message (must be an array, or it'll be treated as a hex sequence)\nvar msg = [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ];\nvar signature = key.sign(msg);\n\n// Export DER encoded signature in Array\nvar derSign = signature.toDER();\n\n// Verify signature\nconsole.log(key.verify(msg, derSign));\n\n// CHECK WITH NO PRIVATE KEY\n\n// Public key as '04 + x + y'\nvar pub = '04bb1fa3...';\n\n// Signature MUST be either:\n// 1) hex-string of DER-encoded signature; or\n// 2) DER-encoded signature as buffer; or\n// 3) object with two hex-string properties (r and s)\n\nvar signature = 'b102ac...'; // case 1\nvar signature = new Buffer('...'); // case 2\nvar signature = { r: 'b1fc...', s: '9c42...' }; // case 3\n\n// Import public key\nvar key = ec.keyFromPublic(pub, 'hex');\n\n// Verify signature\nconsole.log(key.verify(msg, signature));\n```\n\n### EdDSA\n\n```javascript\nvar EdDSA = require('elliptic').eddsa;\n\n// Create and initialize EdDSA context\n// (better do it once and reuse it)\nvar ec = new EdDSA('ed25519');\n\n// Create key pair from secret\nvar key = ec.keyFromSecret('693e3c...'); // hex string, array or Buffer\n\n// Sign message (must be an array, or it'll be treated as a hex sequence)\nvar msg = [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ];\nvar signature = key.sign(msg).toHex();\n\n// Verify signature\nconsole.log(key.verify(msg, signature));\n\n// CHECK WITH NO PRIVATE KEY\n\n// Import public key\nvar pub = '0a1af638...';\nvar key = ec.keyFromPublic(pub, 'hex');\n\n// Verify signature\nvar signature = '70bed1...';\nconsole.log(key.verify(msg, signature));\n```\n\n### ECDH\n\n```javascript\nvar ECDH = require('elliptic').ec;\nvar ec = new ECDH('curve25519');\n\n// Generate keys\nvar key1 = ec.genKeyPair();\nvar key2 = ec.genKeyPair();\n\nvar shared1 = key1.derive(key2.getPublic());\nvar shared2 = key2.derive(key1.getPublic());\n\nconsole.log('Both shared secrets are BN instances');\nconsole.log(shared1.toString(16));\nconsole.log(shared2.toString(16));\n```\n\nNOTE: `.derive()` returns a [BN][1] instance.\n\n## Supported curves\n\nElliptic.js support following curve types:\n\n* Short Weierstrass\n* Montgomery\n* Edwards\n* Twisted Edwards\n\nFollowing curve 'presets' are embedded into the library:\n\n* `secp256k1`\n* `p192`\n* `p224`\n* `p256`\n* `p384`\n* `p521`\n* `curve25519`\n* `ed25519`\n\nNOTE: That `curve25519` could not be used for ECDSA, use `ed25519` instead.\n\n### Implementation details\n\nECDSA is using deterministic `k` value generation as per [RFC6979][0]. Most of\nthe curve operations are performed on non-affine coordinates (either projective\nor extended), various windowing techniques are used for different cases.\n\nAll operations are performed in reduction context using [bn.js][1], hashing is\nprovided by [hash.js][2]\n\n### Related projects\n\n* [eccrypto][3]: isomorphic implementation of ECDSA, ECDH and ECIES for both\n  browserify and node (uses `elliptic` for browser and [secp256k1-node][4] for\n  node)\n\n#### LICENSE\n\nThis software is licensed under the MIT License.\n\nCopyright Fedor Indutny, 2014.\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to permit\npersons to whom the Software is furnished to do so, subject to the\nfollowing conditions:\n\nThe above copyright notice and this permission notice shall be included\nin all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\nOR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\nNO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\nDAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\nOTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\nUSE OR OTHER DEALINGS IN THE SOFTWARE.\n\n[0]: http://tools.ietf.org/html/rfc6979\n[1]: https://github.com/indutny/bn.js\n[2]: https://github.com/indutny/hash.js\n[3]: https://github.com/bitchan/eccrypto\n[4]: https://github.com/wanderer/secp256k1-node\n",readmeFilename:"README.md",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.3.2"}},897:function(e,t,r){"use strict";function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)r[i]=0|e[i];return r}if(t){if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e);for(var i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}}else for(var i=0;i<e.length;i++){var n=e.charCodeAt(i),s=n>>8,o=255&n;s?r.push(s,o):r.push(o)}return r}function zero2(e){return 1===e.length?"0"+e:e}function toHex(e){for(var t="",r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t}function getNAF(e,t){for(var r=[],i=1<<t+1,n=e.clone();n.cmpn(1)>=0;){var s;if(n.isOdd()){var o=n.andln(i-1);s=o>(i>>1)-1?(i>>1)-o:o,n.isubn(s)}else s=0;r.push(s);for(var a=0!==n.cmpn(0)&&0===n.andln(i-1)?t+1:1,f=1;f<a;f++)r.push(0);n.iushrn(a)}return r}function getJSF(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i=0,n=0;e.cmpn(-i)>0||t.cmpn(-n)>0;){var s=e.andln(3)+i&3,o=t.andln(3)+n&3;3===s&&(s=-1),3===o&&(o=-1);var a;if(0===(1&s))a=0;else{var f=e.andln(7)+i&7;a=3!==f&&5!==f||2!==o?s:-s}r[0].push(a);var d;if(0===(1&o))d=0;else{var f=t.andln(7)+n&7;d=3!==f&&5!==f||2!==s?o:-o}r[1].push(d),2*i===a+1&&(i=1-i),2*n===d+1&&(n=1-n),e.iushrn(1),t.iushrn(1)}return r}function cachedProperty(e,t,r){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}}function parseBytes(e){return"string"==typeof e?i.toArray(e,"hex"):e}function intFromLE(e){return new n(e,"hex","le")}var i=t,n=r(885);i.assert=function(e,t){if(!e)throw new Error(t||"Assertion failed")},i.toArray=toArray,i.zero2=zero2,i.toHex=toHex,i.encode=function(e,t){return"hex"===t?toHex(e):e},i.getNAF=getNAF,i.getJSF=getJSF,i.cachedProperty=cachedProperty,i.parseBytes=parseBytes,i.intFromLE=intFromLE},898:[2474,895],905:[2475,906,907,908,909],906:function(e,t,r){"use strict";function BaseCurve(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(e,t){this.curve=e,this.type=t,this.precomputed=null}var i=r(885),n=r(895),s=n.utils,o=s.getNAF,a=s.getJSF,f=s.assert;e.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(e,t){f(e.precomputed);var r=e._getDoubles(),i=o(t,1),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;for(var s=[],a=0;a<i.length;a+=r.step){for(var d=0,t=a+r.step-1;t>=a;t--)d=(d<<1)+i[t];s.push(d)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=n;c>0;c--){for(var a=0;a<s.length;a++){var d=s[a];d===c?h=h.mixedAdd(r.points[a]):d===-c&&(h=h.mixedAdd(r.points[a].neg()))}u=u.add(h)}return u.toP()},BaseCurve.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=o(t,r),a=this.jpoint(null,null,null),d=s.length-1;d>=0;d--){for(var t=0;d>=0&&0===s[d];d--)t++;if(d>=0&&t++,a=a.dblp(t),d<0)break;var u=s[d];f(0!==u),a="affine"===e.type?u>0?a.mixedAdd(n[u-1>>1]):a.mixedAdd(n[-u-1>>1].neg()):u>0?a.add(n[u-1>>1]):a.add(n[-u-1>>1].neg())}return"affine"===e.type?a.toP():a},BaseCurve.prototype._wnafMulAdd=function(e,t,r,i,n){for(var s=this._wnafT1,f=this._wnafT2,d=this._wnafT3,u=0,h=0;h<i;h++){var c=t[h],l=c._getNAFPoints(e);s[h]=l.wnd,f[h]=l.points}for(var h=i-1;h>=1;h-=2){var p=h-1,b=h;if(1===s[p]&&1===s[b]){var y=[t[p],null,null,t[b]];0===t[p].y.cmp(t[b].y)?(y[1]=t[p].add(t[b]),y[2]=t[p].toJ().mixedAdd(t[b].neg())):0===t[p].y.cmp(t[b].y.redNeg())?(y[1]=t[p].toJ().mixedAdd(t[b]),y[2]=t[p].add(t[b].neg())):(y[1]=t[p].toJ().mixedAdd(t[b]),y[2]=t[p].toJ().mixedAdd(t[b].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],m=a(r[p],r[b]);u=Math.max(m[0].length,u),d[p]=new Array(u),d[b]=new Array(u);for(var g=0;g<u;g++){var w=0|m[0][g],_=0|m[1][g];d[p][g]=v[3*(w+1)+(_+1)],d[b][g]=0,f[p]=y}}else d[p]=o(r[p],s[p]),d[b]=o(r[b],s[b]),u=Math.max(d[p].length,u),u=Math.max(d[b].length,u)}for(var S=this.jpoint(null,null,null),M=this._wnafT4,h=u;h>=0;h--){for(var A=0;h>=0;){for(var E=!0,g=0;g<i;g++)M[g]=0|d[g][h],0!==M[g]&&(E=!1);if(!E)break;A++,h--}if(h>=0&&A++,S=S.dblp(A),h<0)break;for(var g=0;g<i;g++){var c,N=M[g];0!==N&&(N>0?c=f[g][N-1>>1]:N<0&&(c=f[g][-N-1>>1].neg()),S="affine"===c.type?S.mixedAdd(c):S.add(c))}}for(var h=0;h<i;h++)f[h]=null;return n?S:S.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(e,t){e=s.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r){6===e[0]?f(e[e.length-1]%2===0):7===e[0]&&f(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint.prototype.encode=function(e,t){return s.encode(this._encode(t),e)},BasePoint.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},BasePoint.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},907:function(e,t,r){"use strict";function ShortCurve(e){a.call(this,"short",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(e,t,r,i){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(t,16),this.y=new s(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(e,t,r,i){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(t,16),this.y=new s(r,16),this.z=new s(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var i=r(905),n=r(895),s=r(885),o=r(821),a=i.base,f=n.utils.assert;o(ShortCurve,a),e.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new s(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new s(e.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))?r=n[0]:(r=n[1],f(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}var o;return o=e.basis?e.basis.map(function(e){return{a:new s(e.a,16),b:new s(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}},ShortCurve.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:s.mont(e),r=new s(2).toRed(t).redInvm(),i=r.redNeg(),n=new s(3).toRed(t).redNeg().redSqrt().redMul(r),o=i.redAdd(n).fromRed(),a=i.redSub(n).fromRed();return[o,a]},ShortCurve.prototype._getEndoBasis=function(e){for(var t,r,i,n,o,a,f,d,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=e,l=this.n.clone(),p=new s(1),b=new s(0),y=new s(0),v=new s(1),m=0;0!==c.cmpn(0);){var g=l.div(c);d=l.sub(g.mul(c)),u=y.sub(g.mul(p));var w=v.sub(g.mul(b));if(!i&&d.cmp(h)<0)t=f.neg(),r=p,i=d.neg(),n=u;else if(i&&2===++m)break;f=d,l=c,c=d,y=p,p=u,v=b,b=w}o=d.neg(),a=u;var _=i.sqr().add(n.sqr()),S=o.sqr().add(a.sqr());return S.cmp(_)>=0&&(o=t,a=r),i.negative&&(i=i.neg(),n=n.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:i,b:n},{a:o,b:a}]},ShortCurve.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),f=n.mul(r.b),d=s.mul(i.b),u=e.sub(o).sub(a),h=f.add(d).neg();return{k1:u,k2:h}},ShortCurve.prototype.pointFromX=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},ShortCurve.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],f=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),f=f.neg(!0)),i[2*s]=a,i[2*s+1]=f,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var d=this._wnafMulAdd(1,i,n,2*s,r),u=0;u<2*s;u++)i[u]=null,n[u]=null;return d},o(Point,a.BasePoint),ShortCurve.prototype.point=function(e,t,r){return new Point(this,e,t,r)},ShortCurve.prototype.pointFromJSON=function(e,t){return Point.fromJSON(this,e,t)},Point.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,
points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(e,t,r){function obj2point(t){return e.point(t[0],t[1],r)}"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;var n=t[2];return i.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[i].concat(n.doubles.points.map(obj2point))},naf:n.naf&&{wnd:n.naf.wnd,points:[i].concat(n.naf.points.map(obj2point))}},i},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Point.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(e){return e=new s(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Point.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Point.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},o(JPoint,a.BasePoint),ShortCurve.prototype.jpoint=function(e,t,r){return new JPoint(this,e,t,r)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=i.redSub(n),f=s.redSub(o);if(0===a.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var d=a.redSqr(),u=d.redMul(a),h=i.redMul(d),c=f.redSqr().redIAdd(u).redISub(h).redISub(h),l=f.redMul(h.redISub(c)).redISub(s.redMul(u)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(c,l,p)},JPoint.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),d=f.redMul(o),u=r.redMul(f),h=a.redSqr().redIAdd(d).redISub(u).redISub(u),c=a.redMul(u.redISub(h)).redISub(n.redMul(d)),l=this.z.redMul(o);return this.curve.jpoint(h,c,l)},JPoint.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}for(var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,f=a.redSqr().redSqr(),d=o.redAdd(o),r=0;r<e;r++){var u=s.redSqr(),h=d.redSqr(),c=h.redSqr(),l=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(f)),p=s.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),v=l.redMul(y);v=v.redIAdd(v).redISub(c);var m=d.redMul(a);r+1<e&&(f=f.redMul(c)),s=b,a=m,d=v}return this.curve.jpoint(s,d.redMul(n),a)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),f=a.redSqr().redISub(o).redISub(o),d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),e=f,t=a.redMul(o.redISub(f)).redISub(d),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),c=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(u).redISub(c);l=l.redIAdd(l);var p=u.redAdd(u).redIAdd(u),b=p.redSqr(),y=c.redIAdd(c);y=y.redIAdd(y),y=y.redIAdd(y),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(y),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=a.redSqr().redISub(o).redISub(o);e=f;var d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),t=a.redMul(o.redISub(f)).redISub(d),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),c=this.x.redMul(h),l=this.x.redSub(u).redMul(this.x.redAdd(u));l=l.redAdd(l).redIAdd(l);var p=c.redIAdd(c);p=p.redIAdd(p);var b=p.redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var y=h.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y),t=l.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},JPoint.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),f=t.redAdd(t);f=f.redIAdd(f);var d=f.redMul(o),u=a.redSqr().redISub(d.redAdd(d)),h=d.redISub(u),c=o.redSqr();c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var l=a.redMul(h).redISub(c),p=r.redAdd(r).redMul(i);return this.curve.jpoint(u,l,p)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var a=o.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var d=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(f),u=t.redMul(d);u=u.redIAdd(u),u=u.redIAdd(u);var h=this.x.redMul(a).redISub(u);h=h.redIAdd(h),h=h.redIAdd(h);var c=this.y.redMul(d.redMul(f.redISub(d)).redISub(o.redMul(a)));c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var l=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,c,l)},JPoint.prototype.mul=function(e,t){return e=new s(e,t),this.curve._wnafMul(this,e)},JPoint.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},JPoint.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}return!1},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},908:function(e,t,r){"use strict";function MontCurve(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var i=r(905),n=r(885),s=r(821),o=i.base,a=r(895),f=a.utils;s(MontCurve,o),e.exports=MontCurve,MontCurve.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t),n=i.redSqrt();return 0===n.redSqr().cmp(i)},s(Point,o.BasePoint),MontCurve.prototype.decodePoint=function(e,t){return this.point(f.toArray(e,t),1)},MontCurve.prototype.point=function(e,t){return new Point(this,e,t)},MontCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(e,t){return new Point(e,t[0],t[1]||e.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),r=this.x.redSub(this.z),i=r.redSqr(),n=t.redSub(i),s=t.redMul(i),o=n.redMul(i.redAdd(this.curve.a24.redMul(n)));return this.curve.point(s,o)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(r),a=n.redMul(i),f=t.z.redMul(o.redAdd(a).redSqr()),d=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(f,d)},Point.prototype.mul=function(e){for(var t=e.clone(),r=this,i=this.curve.point(null,null),n=this,s=[];0!==t.cmpn(0);t.iushrn(1))s.push(t.andln(1));for(var o=s.length-1;o>=0;o--)0===s[o]?(r=r.diffAdd(i,n),i=i.dbl()):(i=r.diffAdd(i,n),r=r.dbl());return i},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},909:function(e,t,r){"use strict";function EdwardsCurve(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&(0|e.a)===-1,this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new s(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),f(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function Point(e,t,r,i,n){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(t,16),this.y=new s(r,16),this.z=i?new s(i,16):this.curve.one,this.t=n&&new s(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var i=r(905),n=r(895),s=r(885),o=r(821),a=i.base,f=n.utils.assert;o(EdwardsCurve,a),e.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},EdwardsCurve.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},EdwardsCurve.prototype.jpoint=function(e,t,r,i){return this.point(e,t,r,i)},EdwardsCurve.prototype.pointFromX=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),n=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=i.redMul(n.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var f=a.fromRed().isOdd();return(t&&!f||!t&&f)&&(a=a.redNeg()),this.point(e,a)},EdwardsCurve.prototype.pointFromY=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.one),n=r.redMul(this.d).redAdd(this.one),o=i.redMul(n.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},EdwardsCurve.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),i=t.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===i.cmp(n)},o(Point,a.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)},EdwardsCurve.prototype.point=function(e,t,r,i){return new Point(this,e,t,r,i)},Point.fromJSON=function(e,t){return new Point(e,t[0],t[1],t[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},Point.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=i.redAdd(t),o=s.redSub(r),a=i.redSub(t),f=n.redMul(o),d=s.redMul(a),u=n.redMul(a),h=o.redMul(s);return this.curve.point(f,d,h,u)},Point.prototype._projDbl=function(){var e,t,r,i=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var o=this.curve._mulA(n),a=o.redAdd(s);if(this.zOne)e=i.redSub(n).redSub(s).redMul(a.redSub(this.curve.two)),t=a.redMul(o.redSub(s)),r=a.redSqr().redSub(a).redSub(a);else{var f=this.z.redSqr(),d=a.redSub(f).redISub(f);e=i.redSub(n).redISub(s).redMul(d),t=a.redMul(o.redSub(s)),r=a.redMul(d)}}else{var o=n.redAdd(s),f=this.curve._mulC(this.c.redMul(this.z)).redSqr(),d=o.redSub(f).redSub(f);e=this.curve._mulC(i.redISub(o)).redMul(d),t=this.curve._mulC(o).redMul(n.redISub(s)),r=o.redMul(d)}return this.curve.point(e,t,r)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=n.redSub(i),a=n.redAdd(i),f=r.redAdd(t),d=s.redMul(o),u=a.redMul(f),h=s.redMul(f),c=o.redMul(a);return this.curve.point(d,u,c,h)},Point.prototype._projAdd=function(e){var t,r,i=this.z.redMul(e.z),n=i.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),f=n.redSub(a),d=n.redAdd(a),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),h=i.redMul(f).redMul(u);return this.curve.twisted?(t=i.redMul(d).redMul(o.redSub(this.curve._mulA(s))),r=f.redMul(d)):(t=i.redMul(d).redMul(o.redSub(s)),r=this.curve._mulC(f).redMul(d)),this.curve.point(h,t,r)},Point.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Point.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Point.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Point.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}return!1},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},910:[2476,895,911],911:function(e,t){"use strict";e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}}},912:function(e,t,r){"use strict";function EC(e){return this instanceof EC?("string"==typeof e&&(a(s.curves.hasOwnProperty(e),"Unknown curve "+e),e=s.curves[e]),e instanceof s.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),void(this.hash=e.hash||e.curve.hash)):new EC(e)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=r(885),s=r(895),o=s.utils,a=o.assert,f=r(913),d=r(914);e.exports=EC,EC.prototype.keyPair=function(e){return new f(this,e)},EC.prototype.keyFromPrivate=function(e,t){return f.fromPrivate(this,e,t)},EC.prototype.keyFromPublic=function(e,t){return f.fromPublic(this,e,t)},EC.prototype.genKeyPair=function(e){e||(e={});for(var t=new s.hmacDRBG({hash:this.hash,pers:e.pers,entropy:e.entropy||s.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new n(2));;){var o=new n(t.generate(r));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}},EC.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC.prototype.sign=function(e,t,r,o){"object"===("undefined"==typeof r?"undefined":i(r))&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),f=t.getPrivate().toArray("be",a),u=e.toArray("be",a),h=new s.hmacDRBG({hash:this.hash,entropy:f,nonce:u,pers:o.pers,persEnc:o.persEnc}),c=this.n.sub(new n(1)),l=0;!0;l++){var p=o.k?o.k(l):new n(h.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(c)>=0)){var b=this.g.mul(p);if(!b.isInfinity()){var y=b.getX(),v=y.umod(this.n);if(0!==v.cmpn(0)){var m=p.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(m=m.umod(this.n),0!==m.cmpn(0)){var g=(b.getY().isOdd()?1:0)|(0!==y.cmp(v)?2:0);return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),g^=1),new d({r:v,s:m,recoveryParam:g})}}}}}},EC.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i),t=new d(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),f=a.mul(e).umod(this.n),u=a.mul(s).umod(this.n);if(!this.curve._maxwellTrick){var h=this.g.mulAdd(f,r.getPublic(),u);return!h.isInfinity()&&0===h.getX().umod(this.n).cmp(s)}var h=this.g.jmulAdd(f,r.getPublic(),u);return!h.isInfinity()&&h.eqXToP(s)},EC.prototype.recoverPubKey=function(e,t,r,i){a((3&r)===r,"The recovery param is more than two bits"),t=new d(t,i);var s=this.n,o=new n(e),f=t.r,u=t.s,h=1&r,c=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");f=c?this.curve.pointFromX(f.add(this.curve.n),h):this.curve.pointFromX(f,h);var l=t.r.invm(s),p=s.sub(o).mul(l).umod(s),b=u.mul(l).umod(s);return this.g.mulAdd(p,f,b)},EC.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new d(t,i),null!==t.recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch(e){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}},913:function(e,t,r){"use strict";function KeyPair(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var i=r(885);e.exports=KeyPair,KeyPair.fromPublic=function(e,t,r){return t instanceof KeyPair?t:new KeyPair(e,{pub:t,pubEnc:r})},KeyPair.fromPrivate=function(e,t,r){return t instanceof KeyPair?t:new KeyPair(e,{priv:t,privEnc:r})},KeyPair.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(e,t){return e.x||e.y?void(this.pub=this.ec.curve.point(e.x,e.y)):void(this.pub=this.ec.curve.decodePoint(e,t))},KeyPair.prototype.derive=function(e){return e.mul(this.priv).getX()},KeyPair.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},914:function(e,t,r){"use strict";function Signature(e,t){return e instanceof Signature?e:void(this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam))}function Position(){this.place=0}function getLength(e,t){var r=e[t.place++];if(!(128&r))return r;for(var i=15&r,n=0,s=0,o=t.place;s<i;s++,o++)n<<=8,n|=e[o];return t.place=o,n}function rmPadding(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength(e,t){if(t<128)return void e.push(t);var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}var i=r(885),n=r(895),s=n.utils,o=s.assert;e.exports=Signature,Signature.prototype._importDER=function(e,t){e=s.toArray(e,t);var r=new Position;if(48!==e[r.place++])return!1;var n=getLength(e,r);if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=getLength(e,r),a=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var f=getLength(e,r);if(e.length!==f+r.place)return!1;var d=e.slice(r.place,f+r.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===d[0]&&128&d[1]&&(d=d.slice(1)),this.r=new i(a),this.s=new i(d),this.recoveryParam=null,!0},Signature.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding(t),r=rmPadding(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];constructLength(i,t.length),i=i.concat(t),i.push(2),constructLength(i,r.length);var n=i.concat(r),o=[48];return constructLength(o,n.length),o=o.concat(n),s.encode(o,e)}},915:[2477,895,916,917],916:function(e,t,r){"use strict";function KeyPair(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}var i=r(895),n=i.utils,s=n.assert,o=n.parseBytes,a=n.cachedProperty;KeyPair.fromPublic=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{pub:t})},KeyPair.fromSecret=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{secret:t})},KeyPair.prototype.secret=function(){return this._secret},a(KeyPair,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(KeyPair,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(KeyPair,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i}),a(KeyPair,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(KeyPair,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(KeyPair,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(e){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},KeyPair.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},KeyPair.prototype.getSecret=function(e){return s(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},KeyPair.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=KeyPair},917:function(e,t,r){"use strict";function Signature(e,t){this.eddsa=e,"object"!==("undefined"==typeof t?"undefined":i(t))&&(t=d(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=r(885),s=r(895),o=s.utils,a=o.assert,f=o.cachedProperty,d=o.parseBytes;f(Signature,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),f(Signature,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),f(Signature,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),f(Signature,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},e.exports=Signature},1167:function(e,t,r){"use strict";e.exports=r(1168)(r(1173))},1168:function(e,t,r){"use strict";function initCompressedValue(e,t){return void 0===e?t:(i.isBoolean(e,s.COMPRESSED_TYPE_INVALID),e)}var i=r(1169),n=r(1170),s=r(1172);e.exports=function(e){return{privateKeyVerify:function(t){return i.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,r){i.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),i.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r=initCompressedValue(r,!0);var o=e.privateKeyExport(t,r);return n.privateKeyExport(t,o,r)},privateKeyImport:function(t){if(i.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),t=n.privateKeyImport(t),t&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(s.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyTweakAdd:function(t,r){return i.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),i.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),i.isBuffer(r,s.TWEAK_TYPE_INVALID),i.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,r)},privateKeyTweakMul:function(t,r){return i.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),i.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),i.isBuffer(r,s.TWEAK_TYPE_INVALID),i.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,r)},publicKeyCreate:function(t,r){return i.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),i.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r=initCompressedValue(r,!0),e.publicKeyCreate(t,r)},publicKeyConvert:function(t,r){return i.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),i.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r=initCompressedValue(r,!0),e.publicKeyConvert(t,r)},publicKeyVerify:function(t){return i.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,r,n){return i.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),i.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),i.isBuffer(r,s.TWEAK_TYPE_INVALID),i.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),n=initCompressedValue(n,!0),e.publicKeyTweakAdd(t,r,n)},publicKeyTweakMul:function(t,r,n){return i.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),i.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),i.isBuffer(r,s.TWEAK_TYPE_INVALID),i.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),n=initCompressedValue(n,!0),e.publicKeyTweakMul(t,r,n)},publicKeyCombine:function(t,r){i.isArray(t,s.EC_PUBLIC_KEYS_TYPE_INVALID),i.isLengthGTZero(t,s.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var n=0;n<t.length;++n)i.isBuffer(t[n],s.EC_PUBLIC_KEY_TYPE_INVALID),i.isBufferLength2(t[n],33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID);return r=initCompressedValue(r,!0),e.publicKeyCombine(t,r)},signatureNormalize:function(t){return i.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),i.isBufferLength(t,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){i.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),i.isBufferLength(t,64,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=e.signatureExport(t);return n.signatureExport(r)},signatureImport:function(t){i.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),i.isLengthGTZero(t,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=n.signatureImport(t);if(r)return e.signatureImport(r);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){i.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),i.isLengthGTZero(t,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=n.signatureImportLax(t);if(r)return e.signatureImport(r);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,r,n){i.isBuffer(t,s.MSG32_TYPE_INVALID),i.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),i.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),i.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID);var o=null,a=null;return void 0!==n&&(i.isObject(n,s.OPTIONS_TYPE_INVALID),void 0!==n.data&&(i.isBuffer(n.data,s.OPTIONS_DATA_TYPE_INVALID),i.isBufferLength(n.data,32,s.OPTIONS_DATA_LENGTH_INVALID),o=n.data),void 0!==n.noncefn&&(i.isFunction(n.noncefn,s.OPTIONS_NONCEFN_TYPE_INVALID),a=n.noncefn)),e.sign(t,r,a,o)},verify:function(t,r,n){return i.isBuffer(t,s.MSG32_TYPE_INVALID),i.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),i.isBuffer(r,s.ECDSA_SIGNATURE_TYPE_INVALID),i.isBufferLength(r,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),i.isBuffer(n,s.EC_PUBLIC_KEY_TYPE_INVALID),i.isBufferLength2(n,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,r,n)},recover:function(t,r,n,o){return i.isBuffer(t,s.MSG32_TYPE_INVALID),i.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),i.isBuffer(r,s.ECDSA_SIGNATURE_TYPE_INVALID),i.isBufferLength(r,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),i.isNumber(n,s.RECOVERY_ID_TYPE_INVALID),i.isNumberInInterval(n,-1,4,s.RECOVERY_ID_VALUE_INVALID),o=initCompressedValue(o,!0),e.recover(t,r,n,o)},ecdh:function(t,r){return i.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),i.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),i.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),i.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,r)},ecdhUnsafe:function(t,r,n){return i.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),i.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),i.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),i.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n=initCompressedValue(n,!0),e.ecdhUnsafe(t,r,n)}}}},1169:function(e,t,r){(function(e){"use strict";var r=Object.prototype.toString;t.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},t.isBoolean=function(e,t){if("[object Boolean]"!==r.call(e))throw TypeError(t)},t.isBuffer=function(t,r){if(!e.isBuffer(t))throw TypeError(r)},t.isFunction=function(e,t){if("[object Function]"!==r.call(e))throw TypeError(t)},t.isNumber=function(e,t){if("[object Number]"!==r.call(e))throw TypeError(t)},t.isObject=function(e,t){if("[object Object]"!==r.call(e))throw TypeError(t)},t.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)},t.isBufferLength2=function(e,t,r,i){if(e.length!==t&&e.length!==r)throw RangeError(i)},t.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},t.isNumberInInterval=function(e,t,r,i){if(e<=t||e>=r)throw RangeError(i)}}).call(t,r(807).Buffer)},1170:function(e,t,r){(function(e){"use strict";var i=r(1171),n=new e([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=new e([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=new e([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t.privateKeyExport=function(t,r,i){var o=new e(i?n:s);return t.copy(o,i?8:9),r.copy(o,i?181:214),o},t.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||48!==e[r])&&(r+=1,!(t<r+1)&&128&e[r])){var i=127&e[r];if(r+=1,!(i<1||i>2||t<r+i)){var n=e[r+i-1]|(i>1?e[r+i-2]<<8:0);if(r+=i,!(t<r+n||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||(r+=3,t<r+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1])))return e.slice(r+2,r+2+e[r+1])}}},t.signatureExport=function(t){for(var r=e.concat([new e([0]),t.r]),n=33,s=0;n>1&&0===r[s]&&!(128&r[s+1]);--n,++s);for(var o=e.concat([new e([0]),t.s]),a=33,f=0;a>1&&0===o[f]&&!(128&o[f+1]);--a,++f);return i.encode(r.slice(s),o.slice(f))},t.signatureImport=function(t){var r=new e(o),n=new e(o);try{var s=i.decode(t);if(33===s.r.length&&0===s.r[0]&&(s.r=s.r.slice(1)),s.r.length>32)throw new Error("R length is too long");if(33===s.s.length&&0===s.s[0]&&(s.s=s.s.slice(1)),s.s.length>32)throw new Error("S length is too long")}catch(a){return}return s.r.copy(r,32-s.r.length),s.s.copy(n,32-s.s.length),{r:r,s:n}},t.signatureImportLax=function(t){var r=new e(o),i=new e(o),n=t.length,s=0;if(48===t[s++]){var a=t[s++];if(!(128&a&&(s+=a-128,s>n))&&2===t[s++]){var f=t[s++];if(128&f){if(a=f-128,s+a>n)return;for(;a>0&&0===t[s];s+=1,a-=1);for(f=0;a>0;s+=1,a-=1)f=(f<<8)+t[s]}if(!(f>n-s)){var d=s;if(s+=f,2===t[s++]){var u=t[s++];if(128&u){if(a=u-128,s+a>n)return;for(;a>0&&0===t[s];s+=1,a-=1);for(u=0;a>0;s+=1,a-=1)u=(u<<8)+t[s]}if(!(u>n-s)){var h=s;for(s+=u;f>0&&0===t[d];f-=1,d+=1);if(!(f>32)){var c=t.slice(d,d+f);for(c.copy(r,32-c.length);u>0&&0===t[h];u-=1,h+=1);if(!(u>32)){var l=t.slice(h,h+u);return l.copy(i,32-l.length),{r:r,s:i}}}}}}}}}}).call(t,r(807).Buffer)},1172:function(e,t){e.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}},1173:function(e,t,r){(function(e){"use strict";function loadCompressedPublicKey(e,t){var r=new n(t);if(r.cmp(f.p)>=0)return null;r=r.toRed(f.red);var i=r.redSqr().redIMul(r).redIAdd(f.b).redSqrt();return 3===e!==i.isOdd()&&(i=i.redNeg()),a.keyPair({pub:{x:r,y:i}})}function loadUncompressedPublicKey(e,t,r){var i=new n(t),s=new n(r);if(i.cmp(f.p)>=0||s.cmp(f.p)>=0)return null;if(i=i.toRed(f.red),s=s.toRed(f.red),(6===e||7===e)&&s.isOdd()!==(7===e))return null;var o=i.redSqr().redIMul(i);return s.redSqr().redISub(o.redIAdd(f.b)).isZero()?a.keyPair({pub:{x:i,y:s}}):null}function loadPublicKey(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:loadCompressedPublicKey(t,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:loadUncompressedPublicKey(t,e.slice(1,33),e.slice(33,65));default:return null}}var i=r(820),n=r(885),s=r(895).ec,o=r(1172),a=new s("secp256k1"),f=a.curve;t.privateKeyVerify=function(e){var t=new n(e);return t.cmp(f.n)<0&&!t.isZero()},t.privateKeyExport=function(t,r){var i=new n(t);if(i.cmp(f.n)>=0||i.isZero())throw new Error(o.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return new e(a.keyFromPrivate(t).getPublic(r,!0))},t.privateKeyTweakAdd=function(t,r){var i=new n(r);if(i.cmp(f.n)>=0)throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(i.iadd(new n(t)),i.cmp(f.n)>=0&&i.isub(f.n),i.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return i.toArrayLike(e,"be",32)},t.privateKeyTweakMul=function(t,r){var i=new n(r);if(i.cmp(f.n)>=0||i.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return i.imul(new n(t)),i.cmp(f.n)&&(i=i.umod(f.n)),i.toArrayLike(e,"be",32)},t.publicKeyCreate=function(t,r){var i=new n(t);if(i.cmp(f.n)>=0||i.isZero())throw new Error(o.EC_PUBLIC_KEY_CREATE_FAIL);return new e(a.keyFromPrivate(t).getPublic(r,!0))},t.publicKeyConvert=function(t,r){var i=loadPublicKey(t);if(null===i)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);return new e(i.getPublic(r,!0))},t.publicKeyVerify=function(e){return null!==loadPublicKey(e)},t.publicKeyTweakAdd=function(t,r,i){var s=loadPublicKey(t);if(null===s)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if(r=new n(r),r.cmp(f.n)>=0)throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return new e(f.g.mul(r).add(s.pub).encode(!0,i))},t.publicKeyTweakMul=function(t,r,i){var s=loadPublicKey(t);if(null===s)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if(r=new n(r),r.cmp(f.n)>=0||r.isZero())throw new Error(o.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return new e(s.pub.mul(r).encode(!0,i))},t.publicKeyCombine=function(t,r){for(var i=new Array(t.length),n=0;n<t.length;++n)if(i[n]=loadPublicKey(t[n]),null===i[n])throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);for(var s=i[0].pub,a=1;a<i.length;++a)s=s.add(i[a].pub);if(s.isInfinity())throw new Error(o.EC_PUBLIC_KEY_COMBINE_FAIL);return new e(s.encode(!0,r))},t.signatureNormalize=function(t){var r=new n(t.slice(0,32)),i=new n(t.slice(32,64));if(r.cmp(f.n)>=0||i.cmp(f.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);var s=new e(t);return 1===i.cmp(a.nh)&&f.n.sub(i).toArrayLike(e,"be",32).copy(s,32),s},t.signatureExport=function(e){var t=e.slice(0,32),r=e.slice(32,64);if(new n(t).cmp(f.n)>=0||new n(r).cmp(f.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:r}},t.signatureImport=function(t){var r=new n(t.r);r.cmp(f.n)>=0&&(r=new n(0));var i=new n(t.s);return i.cmp(f.n)>=0&&(i=new n(0)),e.concat([r.toArrayLike(e,"be",32),i.toArrayLike(e,"be",32)])},t.sign=function(t,r,i,s){if("function"==typeof i){var d=i;i=function(i){var a=d(t,r,null,s,i);if(!e.isBuffer(a)||32!==a.length)throw new Error(o.ECDSA_SIGN_FAIL);return new n(a)}}var u=new n(r);if(u.cmp(f.n)>=0||u.isZero())throw new Error(o.ECDSA_SIGN_FAIL);var h=a.sign(t,r,{canonical:!0,k:i,pers:s});return{signature:e.concat([h.r.toArrayLike(e,"be",32),h.s.toArrayLike(e,"be",32)]),recovery:h.recoveryParam}},t.verify=function(e,t,r){var i={r:t.slice(0,32),s:t.slice(32,64)},s=new n(i.r),d=new n(i.s);if(s.cmp(f.n)>=0||d.cmp(f.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);if(1===d.cmp(a.nh)||s.isZero()||d.isZero())return!1;var u=loadPublicKey(r);if(null===u)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);return a.verify(e,i,{x:u.pub.x,y:u.pub.y})},t.recover=function(t,r,i,s){var d={r:r.slice(0,32),s:r.slice(32,64)},u=new n(d.r),h=new n(d.s);if(u.cmp(f.n)>=0||h.cmp(f.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);try{if(u.isZero()||h.isZero())throw new Error;var c=a.recoverPubKey(t,d,i);return new e(c.encode(!0,s))}catch(l){throw new Error(o.ECDSA_RECOVER_FAIL)}},t.ecdh=function(e,r){var n=t.ecdhUnsafe(e,r,!0);return i("sha256").update(n).digest()},t.ecdhUnsafe=function(t,r,i){var s=loadPublicKey(t);if(null===s)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);var a=new n(r);if(a.cmp(f.n)>=0||a.isZero())throw new Error(o.ECDH_FAIL);return new e(s.pub.mul(a).encode(!0,i))}}).call(t,r(807).Buffer)},1334:function(e,t,r){"use strict";e.exports=r("undefined"!=typeof window&&window.crypto&&window.crypto.subtle?1335:1358)},1335:function(e,t,r){(function(i,n){"use strict";function getCurveSpec(e){return{name:"ECDSA",namedCurve:b(e),hash:{name:normalizeAlgorithm(t.DEFAULT_ALGORITHM)}}}function fromCryptoKey(e){var r=e.key,n=e.json,o=n.curve,a=getCurveSpec(o),f=getPropsForJSON(n);return f.sign=u.wrap(regeneratorRuntime.mark(function _callee2(e,n,o){var f,d;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if("function"!=typeof n){u.next=4;break}o=n,u.next=6;break;case 4:if(normalizeAlgorithm(n)===t.DEFAULT_ALGORITHM){u.next=6;break}return u.abrupt("return",o(new Error("algorithm must be specified during key generation")));case 6:return f=void 0,u.prev=7,u.next=10,s.sign(a,r.privateKey,y(e));case 10:f=u.sent,u.next=16;break;case 13:return u.prev=13,u.t0=u["catch"](7),u.abrupt("return",o(u.t0));case 16:d=v(new i(f)).toString("hex"),o(null,d);case 18:case"end":return u.stop()}},_callee2,this,[[7,13]])})),f.verify=u.wrap(regeneratorRuntime.mark(function _callee3(e,n,o,f){var d,u;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if("function"!=typeof o){h.next=5;break}f=o,o=n,h.next=7;break;case 5:if(normalizeAlgorithm(n)===t.DEFAULT_ALGORITHM){h.next=7;break}return h.abrupt("return",f(new Error("algorithm must be specified during key generation")));case 7:return d=m(new i(o,"hex")),u=void 0,h.prev=9,h.next=12,s.verify(a,r.publicKey,y(d),y(e));case 12:u=h.sent,h.next=18;break;case 15:return h.prev=15,h.t0=h["catch"](9),h.abrupt("return",f(h.t0));case 18:f(null,u);case 19:case"end":return h.stop()}},_callee3,this,[[9,15]])})),d.wrapInstance(f)}function normalizeAlgorithm(e){if(e=e.toLowerCase(),!A[e])throw new Error("expected one of: "+Object.keys(A).join(", "));return A[e]}function getPropsForJSON(e){var t=e.pub.toString("hex");return{type:h,pubKeyString:t,fingerprint:e.fingerprint,isPrivateKey:!!e.priv,toJSON:function(r){if(r){if(!e.priv)throw new Error("this is a public key");return e}var i=o(e,"priv");return i.pub||(i.pub=t),i.type||(i.type=h),i}}}function fromJSON(e){var t=getCurveSpec(e.curve),i=E("ECDSA",t.hash.name,t.namedCurve),n=void 0,o=u.wrap(regeneratorRuntime.mark(function _callee4(){var o,a;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,i;case 2:if(n=f.sent,!n){f.next=9;break}return o=e.priv?["sign"]:["verify"],a=l(e),f.abrupt("return",s.importKey("jwk",a,t,w,o));case 9:return f.abrupt("return",r(1358).fromJSON(e));case 10:case"end":return f.stop()}},_callee4,this)}))(),f=getPropsForJSON(e);a(o,f);var h=void 0;return u.wrap(regeneratorRuntime.mark(function _callee5(){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o;case 2:if(t=r.sent,n){r.next=5;break}return r.abrupt("return",h=t);case 5:h=fromCryptoKey({json:e,key:{privateKey:e.priv&&t,publicKey:t}});case 6:case"end":return r.stop()}},_callee5,this)}))(),S.forEach(function(e){Object.defineProperty(o,e,{get:function(){return h&&h[e]||f[e]}})}),["sign","verify"].forEach(function(e){o[e]=u.wrap(regeneratorRuntime.mark(function _callee6(){var t=arguments;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o;case 2:return r.abrupt("return",h[e].apply(h,t));case 3:case"end":return r.stop()}},_callee6,this)}))}),d.wrapInstance(o)}var s=window.crypto.subtle,o=r(1336),a=r(1147),f=r(774)("nkey-ecdsa:browser"),d=r(1340),u=(r(1341),r(1342)),h="ec",c=r(1343),l=c.toJWK,p=c.fromJWK,b=c.toJWKCurve,y=c.toArrayBuffer,v=c.toDER,m=c.fromDER,g=new i(16);g.fill(0);var w=!0,_=new Map,S=["type","pubKeyString","fingerprint","toJSON","isPrivateKey"],M=u.wrap(regeneratorRuntime.mark(function _callee(e,n){var o,a,d,u,c,l,b;return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return o=getCurveSpec(e.curve||t.DEFAULT_CURVE),y.next=3,E("ECDSA",o.hash.name,o.namedCurve);case 3:if(a=y.sent){y.next=6;break}return y.abrupt("return",r(1358).gen(e,n));case 6:return d=void 0,y.prev=7,y.next=10,s.generateKey(o,w,["sign","verify"]);case 10:return u=y.sent,y.next=13,s.exportKey("jwk",u.privateKey);case 13:return c=y.sent,l=p(c),y.next=17,s.digest({name:"SHA-256"},l.pub);case 17:b=y.sent,d=fromCryptoKey({key:u,json:{type:h,curve:l.curve,priv:l.priv.toString("hex"),pub:l.pub.toString("hex"),fingerprint:new i(b).toString("hex")}}),y.next=25;break;case 21:return y.prev=21,y.t0=y["catch"](7),f("failed to generate key",y.t0),y.abrupt("return",n(y.t0));case 25:n(null,d);case 26:case"end":return y.stop()}},_callee,this,[[7,21]])})),A={sha1:"SHA-1",sha256:"SHA-256",sha384:"SHA-384",sha512:"SHA-512"},E=u.wrap(regeneratorRuntime.mark(function _callee7(e,t,r){var o,a,d,u,h;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!n.process||n.process.browser){c.next=2;break}return c.abrupt("return",!1);case 2:if(s&&s.importKey&&s.sign&&s.verify){c.next=4;break}return c.abrupt("return",!1);case 4:if(o=t+"-"+e+"-"+r,!_.has(o)){c.next=7;break}return c.abrupt("return",_.get(o));case 7:return a={name:e},r?a.namedCurve=r:(a.modulusLength=1024,a.publicExponent=new i([1,0,1]),a.hash={name:t}),d={name:e},r&&(d.hash={name:t}),u=N({opts:a,signOpts:d}),_.set(t,u),c.next=15,u;case 15:return h=c.sent,h&&f("has working sublte crypto for type: "+e+" with digest "+t+" "+(r?"with curve: "+r:"")),c.abrupt("return",h);case 18:case"end":return c.stop()}},_callee7,this)})),N=u.wrap(regeneratorRuntime.mark(function _callee8(e){var t,r=e.opts,i=e.signOpts;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.generateKey(r,!1,["sign"]);case 3:return t=e.sent,e.next=6,s.sign(i,t.privateKey,g);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e["catch"](0),f(e.t0.message),e.abrupt("return",!1);case 13:case"end":return e.stop()}},_callee8,this,[[0,9]])}));e.exports=t=d.wrapAPI({gen:M,fromJSON:fromJSON}),t.DEFAULT_ALGORITHM="sha256",t.DEFAULT_CURVE="p256"}).call(t,r(807).Buffer,function(){return this}())},1340:function(e,t,r){(function(e){"use strict";function wrap(e){return e.gen||e.genSync?wrapAPI(e):wrapInstance(e)}function wrapInstance(e){var t={};Object.keys(e).forEach(function(n){"signSync"===n||"verifySync"===n?(setReadonly(t,n,e[n].bind(e)),addAsync(t,"signSync"===n?"sign":"verify")):"toJSON"===n?setReadonly(t,"toJSON",function(){
return i(r,e.toJSON.apply(e,arguments))}):setReadonly(t,n,"function"==typeof e[n]?e[n].bind(e):e[n])});var r={};return setReadonly(t,"set",function(e,t){return r[e]=t,this}),setReadonly(t,"get",function(e){return r[e]}),t}function wrapAPI(e){var t={};return Object.keys(e).forEach(function(r){"genSync"===r?(setReadonly(t,"genSync",function(){var t=e[r].apply(e,arguments);return"isPrivateKey"in t||(t.isPrivateKey=!0),t}),addAsync(t,"gen")):"gen"===r?setReadonly(t,"gen",function(t,i){e[r](t,function(e,t){return e?i(e):("isPrivateKey"in t||(t.isPrivateKey=!0),void i(null,t))})}):"fromJSON"===r?setReadonly(t,"fromJSON",function(t){var r=e.fromJSON.apply(e,arguments);return r.set&&Object.keys(t).forEach(function(e){r[e]||n.indexOf(e)!==-1||r.set(e,t[e])}),"isPrivateKey"in r||(r.isPrivateKey=!!t.priv),r}):setReadonly(t,r,"function"==typeof e[r]?e[r].bind(e):e[r])}),t}function asyncify(t){return function(){var r=[].slice.call(arguments),i=r.pop(),n=void 0;try{n=t.apply(null,r)}catch(s){return e.nextTick(function(){return i(s)})}e.nextTick(function(){return i(null,n)})}}function addAsync(e){[].slice.call(arguments,1).forEach(function(t){!e[t]&&e[t+"Sync"]&&setReadonly(e,t,asyncify(e[t+"Sync"]))})}function setReadonly(e,t,r){Object.defineProperty(e,t,{enumerable:!0,writable:!1,value:r})}var i=r(964),n=["pub","priv","type"];t.wrap=wrap,t.wrapAPI=wrapAPI,t.wrapInstance=wrapInstance,t.asyncify=asyncify}).call(t,r(295))},1343:function(e,t,r){(function(t){"use strict";function fromJWK(e){var r=new t(e.x,"base64"),i=new t(e.y,"base64"),n=new t(65);n[0]=4,r.copy(n,1),i.copy(n,33);var s=e.crv.replace("-","").toLowerCase(),o=e.d&&new t(e.d,"base64");return{pub:n,priv:o,curve:s}}function toJWK(e){var t=e.priv&&toBuffer(e.priv);t&&assert(32===t.length,"Expected 32 byte private key");var r=toBuffer(e.pub);assert(65===r.length,"Expected non-compressed public key"),assert(4===r[0],"Unexpected key encoding, expected hex: '04' + hex(x) + hex(y)");var i={kty:"EC",crv:toJWKCurve(e.curve),x:toUnpaddedBase64(r.slice(1,33)),y:toUnpaddedBase64(r.slice(33)),ext:!0};return t&&(i.d=toUnpaddedBase64(t)),i}function toBuffer(e){if(t.isBuffer(e))return e;if("string"==typeof e)return new t(e,"hex");throw new Error("expected string or Buffer")}function assert(e,t){if(!e)throw new Error(t||"assertion failed")}function toUnpaddedBase64(e){var t=e.toString("base64");return t.replace(/[=]+$/,"").replace(/[+]/g,"-").replace(/[\/]/g,"_")}function toJWKCurve(e){return"P-"+e.slice(1)}function toArrayBuffer(e){if(e instanceof ArrayBuffer)return e;if("string"==typeof e)return new t(e).buffer;if(t.isBuffer(e))return e.buffer;throw new Error("expected string, Buffer or ArrayBuffer")}function asn1SigToConcatSig(e){var r=s.decode(e,"der");return t.concat([r.r.toArrayLike(t,"be",32),r.s.toArrayLike(t,"be",32)])}function concatSigToAsn1Sig(e){var t=new n(e.slice(0,32).toString("hex"),16,"be"),r=new n(e.slice(32).toString("hex"),16,"be");return s.encode({r:t,s:r},"der")}var i=r(1344),n=r(885);e.exports={toJWK:toJWK,toJWKCurve:toJWKCurve,fromJWK:fromJWK,toBuffer:toBuffer,toArrayBuffer:toArrayBuffer,fromDER:asn1SigToConcatSig,toDER:concatSigToAsn1Sig,assert:assert};var s=i.define("ECPrivateKey",function(){return this.seq().obj(this.key("r")["int"](),this.key("s")["int"]())})}).call(t,r(807).Buffer)},1344:function(e,t,r){"use strict";var i=t;i.bignum=r(885),i.define=r(1345).define,i.base=r(1346),i.constants=r(1350),i.decoders=r(1352),i.encoders=r(1355)},1345:function(e,t,r){"use strict";function Entity(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var i=r(1344),n=r(821),s=t;s.define=function(e,t){return new Entity(e,t)},Entity.prototype._createNamed=function(e){var t;try{t=r(922).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(i){t=function(e){this._initNamed(e)}}return n(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},Entity.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i.decoders[e])),this.decoders[e]},Entity.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},Entity.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i.encoders[e])),this.encoders[e]},Entity.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},1346:function(e,t,r){"use strict";var i=t;i.Reporter=r(1347).Reporter,i.DecoderBuffer=r(1348).DecoderBuffer,i.EncoderBuffer=r(1348).EncoderBuffer,i.Node=r(1349)},1347:function(e,t,r){"use strict";function Reporter(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function ReporterError(e,t){this.path=e,this.rethrow(t)}var i=r(821);t.Reporter=Reporter,Reporter.prototype.isError=function(e){return e instanceof ReporterError},Reporter.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},Reporter.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},Reporter.prototype.enterKey=function(e){return this._reporterState.path.push(e)},Reporter.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},Reporter.prototype.leaveKey=function(e,t,r){var i=this._reporterState;this.exitKey(e),null!==i.obj&&(i.obj[t]=r)},Reporter.prototype.path=function(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},Reporter.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},Reporter.prototype.error=function(e){var t,r=this._reporterState,i=e instanceof ReporterError;if(t=i?e:new ReporterError(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!r.options.partial)throw t;return i||r.errors.push(t),t},Reporter.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},i(ReporterError,Error),ReporterError.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},1348:function(e,t,r){"use strict";function DecoderBuffer(e,t){return s.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,void(this.length=e.length)):void this.error("Input not Buffer")}function EncoderBuffer(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof EncoderBuffer||(e=new EncoderBuffer(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+("undefined"==typeof e?"undefined":i(e)));this.value=e,this.length=e.length}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=r(821),s=r(1346).Reporter,o=r(807).Buffer;n(DecoderBuffer,s),t.DecoderBuffer=DecoderBuffer,DecoderBuffer.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function(e){var t=new DecoderBuffer(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,s.prototype.restore.call(this,e.reporter),t},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new DecoderBuffer(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},DecoderBuffer.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=EncoderBuffer,EncoderBuffer.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},1349:function(e,t,r){"use strict";function Node(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r["default"]=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=r(1346).Reporter,s=r(1346).EncoderBuffer,o=r(1346).DecoderBuffer,a=r(878),f=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(f),u=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];e.exports=Node;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function(){var e=this._baseState,t={};h.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},Node.prototype._wrap=function(){var e=this._baseState;d.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},Node.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),a.equal(t.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(a(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!==("undefined"==typeof e?"undefined":i(e))||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var i=e[r];t[i]=r}),t}))},u.forEach(function(e){Node.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),f.forEach(function(e){Node.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(r),this}}),Node.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},Node.prototype.optional=function(){var e=this._baseState;return e.optional=!0,this},Node.prototype.def=function(e){var t=this._baseState;return a(null===t["default"]),t["default"]=e,t.optional=!0,this},Node.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},Node.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},Node.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},Node.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},Node.prototype.any=function(){var e=this._baseState;return e.any=!0,this},Node.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},Node.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},Node.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var i=r["default"],n=!0,s=null;if(null!==r.key&&(s=e.enterKey(r.key)),r.optional){var a=null;if(null!==r.explicit?a=r.explicit:null!==r.implicit?a=r.implicit:null!==r.tag&&(a=r.tag),null!==a||r.any){if(n=this._peekTag(e,a,r.any),e.isError(n))return n}else{var f=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),n=!0}catch(d){n=!1}e.restore(f)}}var u;if(r.obj&&n&&(u=e.enterObject()),n){if(null!==r.explicit){var h=this._decodeTag(e,r.explicit);if(e.isError(h))return h;e=h}var c=e.offset;if(null===r.use&&null===r.choice){if(r.any)var f=e.save();var l=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(l))return l;r.any?i=e.raw(f):e=l}if(t&&t.track&&null!==r.tag&&t.track(e.path(),c,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),i=r.any?i:null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(e,t)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var p=new o(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(p,t)}}return r.obj&&n&&(i=e.leaveObject(u)),null===r.key||null===i&&n!==!0?null!==s&&e.exitKey(s):e.leaveKey(s,r.key,i),i},Node.prototype._decodeGeneric=function(e,t,r){var i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],r):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},Node.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},Node.prototype._decodeChoice=function(e,t){var r=this._baseState,i=null,n=!1;return Object.keys(r.choice).some(function(s){var o=e.save(),a=r.choice[s];try{var f=a._decode(e,t);if(e.isError(f))return!1;i={type:s,value:f},n=!0}catch(d){return e.restore(o),!1}return!0},this),n?i:e.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(e){return new s(e,this.reporter)},Node.prototype._encode=function(e,t,r){var i=this._baseState;if(null===i["default"]||i["default"]!==e){var n=this._encodeValue(e,t,r);if(void 0!==n&&!this._skipDefault(n,t,r))return n}},Node.prototype._encodeValue=function(e,t,r){var s=this._baseState;if(null===s.parent)return s.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,s.optional&&void 0===e){if(null===s["default"])return;e=s["default"]}var a=null,f=!1;if(s.any)o=this._createEncoderBuffer(e);else if(s.choice)o=this._encodeChoice(e,t);else if(s.contains)a=this._getUse(s.contains,r)._encode(e,t),f=!0;else if(s.children)a=s.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!==("undefined"==typeof e?"undefined":i(e)))return t.error("Child expected, but input is not object");var s=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),s},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===s.tag||"setof"===s.tag){if(!s.args||1!==s.args.length)return t.error("Too many args for : "+s.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var d=this.clone();d._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(r){var i=this._baseState;return this._getUse(i.args[0],e)._encode(r,t)},d))}else null!==s.use?o=this._getUse(s.use,r)._encode(e,t):(a=this._encodePrimitive(s.tag,e),f=!0);var o;if(!s.any&&null===s.choice){var u=null!==s.implicit?s.implicit:s.tag,h=null===s.implicit?"universal":"context";null===u?null===s.use&&t.error("Tag could be ommited only for .use()"):null===s.use&&(o=this._encodeComposite(u,f,h,a))}return null!==s.explicit&&(o=this._encodeComposite(s.explicit,!1,"context",o)),o},Node.prototype._encodeChoice=function(e,t){var r=this._baseState,i=r.choice[e.type];return i||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(e.value,t)},Node.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},Node.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},Node.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},1350:function(e,t,r){"use strict";var i=t;i._reverse=function(e){var t={};return Object.keys(e).forEach(function(r){(0|r)==r&&(r=0|r);var i=e[r];t[i]=r}),t},i.der=r(1351)},1351:function(e,t,r){"use strict";var i=r(1350);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=i._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=i._reverse(t.tag)},1352:function(e,t,r){"use strict";var i=t;i.der=r(1353),i.pem=r(1354)},1353:function(e,t,r){"use strict";function DERDecoder(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new DERNode,this.tree._init(e.body)}function DERNode(e){s.Node.call(this,"der",e)}function derDecodeTag(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var i=a.tagClass[r>>6],n=0===(32&r);if(31===(31&r)){var s=r;for(r=0;128===(128&s);){if(s=e.readUInt8(t),e.isError(s))return s;r<<=7,r|=127&s}}else r&=31;var o=a.tag[r];return{cls:i,primitive:n,tag:r,tagStr:o}}function derDecodeLen(e,t,r){var i=e.readUInt8(r);if(e.isError(i))return i;if(!t&&128===i)return null;if(0===(128&i))return i;var n=127&i;if(n>4)return e.error("length octect is too long");i=0;for(var s=0;s<n;s++){i<<=8;var o=e.readUInt8(r);if(e.isError(o))return o;i|=o}return i}var i=r(821),n=r(1344),s=n.base,o=n.bignum,a=n.constants.der;e.exports=DERDecoder,DERDecoder.prototype.decode=function(e,t){return e instanceof s.DecoderBuffer||(e=new s.DecoderBuffer(e,t)),this.tree._decode(e,t)},i(DERNode,s.Node),DERNode.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var i=e.save(),n=derDecodeTag(e,'Failed to peek tag: "'+t+'"');return e.isError(n)?n:(e.restore(i),n.tag===t||n.tagStr===t||n.tagStr+"of"===t||r)},DERNode.prototype._decodeTag=function(e,t,r){var i=derDecodeTag(e,'Failed to decode tag of "'+t+'"');if(e.isError(i))return i;var n=derDecodeLen(e,i.primitive,'Failed to get length of "'+t+'"');if(e.isError(n))return n;if(!r&&i.tag!==t&&i.tagStr!==t&&i.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(i.primitive||null!==n)return e.skip(n,'Failed to match body of: "'+t+'"');var s=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(n=e.offset-s.offset,e.restore(s),e.skip(n,'Failed to match body of: "'+t+'"'))},DERNode.prototype._skipUntilEnd=function(e,t){for(;;){var r=derDecodeTag(e,t);if(e.isError(r))return r;var i=derDecodeLen(e,r.primitive,t);if(e.isError(i))return i;var n;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},DERNode.prototype._decodeList=function(e,t,r,i){for(var n=[];!e.isEmpty();){var s=this._peekTag(e,"end");if(e.isError(s))return s;var o=r.decode(e,"der",i);if(e.isError(o)&&s)break;n.push(o)}return n},DERNode.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var n="",s=0;s<i.length/2;s++)n+=String.fromCharCode(i.readUInt16BE(2*s));return n}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},DERNode.prototype._decodeObjid=function(e,t,r){for(var i,n=[],s=0;!e.isEmpty();){var o=e.readUInt8();s<<=7,s|=127&o,0===(128&o)&&(n.push(s),s=0)}128&o&&n.push(s);var a=n[0]/40|0,f=n[0]%40;if(i=r?n:[a,f].concat(n.slice(1)),t){var d=t[i.join(" ")];void 0===d&&(d=t[i.join(".")]),void 0!==d&&(i=d)}return i},DERNode.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var i=0|r.slice(0,4),n=0|r.slice(4,6),s=0|r.slice(6,8),o=0|r.slice(8,10),a=0|r.slice(10,12),f=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");var i=0|r.slice(0,2),n=0|r.slice(2,4),s=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),f=0|r.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,n-1,s,o,a,f,0)},DERNode.prototype._decodeNull=function(e){return null},DERNode.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},DERNode.prototype._decodeInt=function(e,t){var r=e.raw(),i=new o(r);return t&&(i=t[i.toString(10)]||i),i},DERNode.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},1354:function(e,t,r){"use strict";function PEMDecoder(e){s.call(this,e),this.enc="pem"}var i=r(821),n=r(807).Buffer,s=r(1353);i(PEMDecoder,s),e.exports=PEMDecoder,PEMDecoder.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),i=t.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,f=-1,d=0;d<r.length;d++){var u=r[d].match(o);if(null!==u&&u[2]===i){if(a!==-1){if("END"!==u[1])break;f=d;break}if("BEGIN"!==u[1])break;a=d}}if(a===-1||f===-1)throw new Error("PEM section not found for: "+i);var h=r.slice(a+1,f).join("");h.replace(/[^a-z0-9\+\/=]+/gi,"");var c=new n(h,"base64");return s.prototype.decode.call(this,c,t)}},1355:function(e,t,r){"use strict";var i=t;i.der=r(1356),i.pem=r(1357)},1356:function(e,t,r){"use strict";function DEREncoder(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new DERNode,this.tree._init(e.body)}function DERNode(e){o.Node.call(this,"der",e)}function two(e){return e<10?"0"+e:e}function encodeTag(e,t,r,i){var n;if("seqof"===e?e="seq":"setof"===e&&(e="set"),a.tagByName.hasOwnProperty(e))n=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return i.error("Unknown tag: "+e);n=e}return n>=31?i.error("Multi-octet tag encoding unsupported"):(t||(n|=32),n|=a.tagClassByName[r||"universal"]<<6)}var i=r(821),n=r(807).Buffer,s=r(1344),o=s.base,a=s.constants.der;e.exports=DEREncoder,DEREncoder.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},i(DERNode,o.Node),DERNode.prototype._encodeComposite=function(e,t,r,i){var s=encodeTag(e,t,r,this.reporter);if(i.length<128){var o=new n(2);return o[0]=s,o[1]=i.length,this._createEncoderBuffer([o,i])}for(var a=1,f=i.length;f>=256;f>>=8)a++;var o=new n(2+a);o[0]=s,o[1]=128|a;for(var f=1+a,d=i.length;d>0;f--,d>>=8)o[f]=255&d;return this._createEncoderBuffer([o,i])},DERNode.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new n(2*e.length),i=0;i<e.length;i++)r.writeUInt16BE(e.charCodeAt(i),2*i);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},DERNode.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var i=0;i<e.length;i++)e[i]|=0}else if(Array.isArray(e)){e=e.slice();for(var i=0;i<e.length;i++)e[i]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var s=0,i=0;i<e.length;i++){var o=e[i];for(s++;o>=128;o>>=7)s++}for(var a=new n(s),f=a.length-1,i=e.length-1;i>=0;i--){var o=e[i];for(a[f--]=127&o;(o>>=7)>0;)a[f--]=128|127&o}return this._createEncoderBuffer(a)},DERNode.prototype._encodeTime=function(e,t){var r,i=new Date(e);return"gentime"===t?r=[two(i.getFullYear()),two(i.getUTCMonth()+1),two(i.getUTCDate()),two(i.getUTCHours()),two(i.getUTCMinutes()),two(i.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[two(i.getFullYear()%100),two(i.getUTCMonth()+1),two(i.getUTCDate()),two(i.getUTCHours()),two(i.getUTCMinutes()),two(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!n.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new n(r)}if(n.isBuffer(e)){var i=e.length;0===e.length&&i++;var s=new n(i);return e.copy(s),0===e.length&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var i=1,o=e;o>=256;o>>=8)i++;for(var s=new Array(i),o=s.length-1;o>=0;o--)s[o]=255&e,e>>=8;return 128&s[0]&&s.unshift(0),this._createEncoderBuffer(new n(s))},DERNode.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},DERNode.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},DERNode.prototype._skipDefault=function(e,t,r){var i,n=this._baseState;if(null===n["default"])return!1;var s=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n["default"],t,r).join()),s.length!==n.defaultBuffer.length)return!1;for(i=0;i<s.length;i++)if(s[i]!==n.defaultBuffer[i])return!1;return!0}},1357:function(e,t,r){"use strict";function PEMEncoder(e){n.call(this,e),this.enc="pem"}var i=r(821),n=r(1356);i(PEMEncoder,n),e.exports=PEMEncoder,PEMEncoder.prototype.encode=function(e,t){for(var r=n.prototype.encode.call(this,e),i=r.toString("base64"),s=["-----BEGIN "+t.label+"-----"],o=0;o<i.length;o+=64)s.push(i.slice(o,o+64));return s.push("-----END "+t.label+"-----"),s.join("\n")}},1358:function(e,t,r){(function(i,n){"use strict";function createECDH(e){return s.createECDH(d[e]||e)}function getImpl(e){return f[e.curve]||h}function normalizeOpts(e){e=e||{};var r={};for(var i in e)r[i]=e[i];return r.curve||(r.curve=t.DEFAULT_CURVE),r}function genSync(e){var t=e.curve,r=createECDH(t);return r.generateKeys(),h.fromJSON({curve:t,priv:r.getPrivateKey()})}function gen(e,t){i.nextTick(function(){return t(null,genSync(e))})}function fromJSON(e){function getEncodedPriv(){return p||(p=l.encodePrivate(f,"raw","pem"))}function getEncodedPub(){return b||(b=l.encodePublic(d,"raw","pem"))}function signSync(e,r){var i=getEncodedPriv();return r=r||t.DEFAULT_ALGORITHM,s.createSign(r).update(e).sign(i,"hex")}function verifySync(e,r,i){var o=getEncodedPub();return"undefined"==typeof i&&(i=r,r=t.DEFAULT_ALGORITHM),"string"==typeof i&&(i=new n(i,"hex")),s.createVerify(r).update(e).verify(o,i)}function toJSON(e){var t={type:u,curve:r,pub:h,fingerprint:c};return e&&(t.priv=f.toString("hex")),t}if(!e.priv&&!e.pub)throw new Error('expected "priv" or "pub"');if(!e.curve)throw new Error('expected "curve"');var r=e.curve,i=createECDH(r),f="string"==typeof e.priv?new n(e.priv,"hex"):e.priv;f&&i.setPrivateKey(f);var d="string"==typeof e.pub?new n(e.pub,"hex"):e.pub;d||(d=i.getPublicKey());var h=d.toString("hex"),c=s.createHash("sha256").update(d).digest("hex"),l=new o(r),p=void 0,b=void 0;return a.wrapInstance({type:u,signSync:signSync,verifySync:verifySync,hasDeterministicSig:!0,pubKeyString:h,fingerprint:c,pub:d,priv:f,toJSON:toJSON})}var s=r(818),o=(r(964),r(1359)),a=r(1340),f={secp256k1:r(1396)},d={p192:"prime192v1",p256:"prime256v1",p384:"secp384r1",p521:"secp521r1"},u="ec",h=a.wrapAPI({type:u,gen:gen,genSync:genSync,fromJSON:fromJSON});e.exports=t=a.wrapAPI({gen:function(e,t){return e=normalizeOpts(e),getImpl(e).gen(e,t)},genSync:function(e){return e=normalizeOpts(e),getImpl(e).genSync(e)},fromJSON:function(e){return e=normalizeOpts(e),getImpl(e).fromJSON(e)}}),t.DEFAULT_ALGORITHM="sha256",t.DEFAULT_CURVE="p256",t.setImplementationForCurve=function(e,t){f[e]=t}}).call(t,r(295),r(807).Buffer)},1362:function(e,t,r){(function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,r){function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function BN(e,r,i){return null!==e&&"object"===("undefined"==typeof e?"undefined":t(e))&&Array.isArray(e.words)?e:(this.sign=!1,this.words=null,this.length=0,this.red=null,"le"!==r&&"be"!==r||(i=r,r=10),void(null!==e&&this._init(e||0,r||10,i||"be")))}function parseHex(e,t,r){for(var i=0,n=Math.min(e.length,r),s=t;s<n;s++){var o=e.charCodeAt(s)-48;i<<=4,i|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return i}function parseBase(e,t,r,i){for(var n=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}function MPrime(e,t){this.name=e,this.p=new BN(t,16),this.n=this.p.bitLength(),this.k=new BN(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001");
}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(e){if("string"==typeof e){var t=BN._prime(e);this.m=t.p,this.prime=t}else this.m=e,this.prime=null}function Mont(e){Red.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new BN(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv.sign=!0,this.minv=this.minv.mod(this.r)}"object"===("undefined"==typeof e?"undefined":t(e))?e.exports=BN:r.BN=BN,BN.BN=BN,BN.wordSize=26,BN.prototype._init=function(e,r,i){if("number"==typeof e)return this._initNumber(e,r,i);if("object"===("undefined"==typeof e?"undefined":t(e)))return this._initArray(e,r,i);"hex"===r&&(r=16),assert(r===(0|r)&&r>=2&&r<=36),e=e.toString().replace(/\s+/g,"");var n=0;"-"===e[0]&&n++,16===r?this._parseHex(e,n):this._parseBase(e,r,n),"-"===e[0]&&(this.sign=!0),this.strip(),"le"===i&&this._initArray(this.toArray(),r,i)},BN.prototype._initNumber=function(e,t,r){e<0&&(this.sign=!0,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(assert(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},BN.prototype._initArray=function(e,t,r){if(assert("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n=0;if("be"===r)for(var i=e.length-1,s=0;i>=0;i-=3){var o=e[i]|e[i-1]<<8|e[i-2]<<16;this.words[s]|=o<<n&67108863,this.words[s+1]=o>>>26-n&67108863,n+=24,n>=26&&(n-=26,s++)}else if("le"===r)for(var i=0,s=0;i<e.length;i+=3){var o=e[i]|e[i+1]<<8|e[i+2]<<16;this.words[s]|=o<<n&67108863,this.words[s+1]=o>>>26-n&67108863,n+=24,n>=26&&(n-=26,s++)}return this.strip()},BN.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;for(var i=0,r=e.length-6,n=0;r>=t;r-=6){var s=parseHex(e,r,r+6);this.words[n]|=s<<i&67108863,this.words[n+1]|=s>>>26-i&4194303,i+=24,i>=26&&(i-=26,n++)}if(r+6!==t){var s=parseHex(e,t,r+6);this.words[n]|=s<<i&67108863,this.words[n+1]|=s>>>26-i&4194303}this.strip()},BN.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,o=s%i,a=Math.min(s,s-o)+r,f=0,d=r;d<a;d+=i)f=parseBase(e,d,d+i,t),this.imuln(n),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==o){for(var u=1,f=parseBase(e,d,e.length,t),d=0;d<o;d++)u*=t;this.imuln(u),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}},BN.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.sign=this.sign,e.red=this.red},BN.prototype.clone=function(){var e=new BN(null);return this.copy(e),e},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var i=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],n=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],s=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(e,t){if(e=e||10,16===e||"hex"===e){for(var r="",o=0,t=0|t||1,a=0,f=0;f<this.length;f++){var d=this.words[f],u=(16777215&(d<<o|a)).toString(16);a=d>>>24-o&16777215,r=0!==a||f!==this.length-1?i[6-u.length]+u+r:u+r,o+=2,o>=26&&(o-=26,f--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!==0;)r="0"+r;return this.sign&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var h=n[e],c=s[e],r="",l=this.clone();for(l.sign=!1;0!==l.cmpn(0);){var p=l.modn(c).toString(e);l=l.idivn(c),r=0!==l.cmpn(0)?i[h-p.length]+p+r:p+r}return 0===this.cmpn(0)&&(r="0"+r),this.sign&&(r="-"+r),r}assert(!1,"Base should be between 2 and 36")},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toArray=function(e){this.strip();var t=new Array(this.byteLength());t[0]=0;var r=this.clone();if("le"!==e)for(var i=0;0!==r.cmpn(0);i++){var n=r.andln(255);r.ishrn(8),t[t.length-i-1]=n}else for(var i=0;0!==r.cmpn(0);i++){var n=r.andln(255);r.ishrn(8),t[i]=n}return t},Math.clz32?BN.prototype._countBits=function(e){return 32-Math.clz32(e)}:BN.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},BN.prototype.bitLength=function(){var e=0,t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},BN.prototype.zeroBits=function(){if(0===this.cmpn(0))return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var e=this.clone();return e.sign=!this.sign,e},BN.prototype.ior=function(e){for(this.sign=this.sign||e.sign;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},BN.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},BN.prototype.iand=function(e){this.sign=this.sign&&e.sign;var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},BN.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},BN.prototype.ixor=function(e){this.sign=this.sign||e.sign;var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},BN.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},BN.prototype.setn=function(e,t){assert("number"==typeof e&&e>=0);for(var r=e/26|0,i=e%26;this.length<=r;)this.words[this.length++]=0;return t?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this.strip()},BN.prototype.iadd=function(e){if(this.sign&&!e.sign){this.sign=!1;var t=this.isub(e);return this.sign=!this.sign,this._normSign()}if(!this.sign&&e.sign){e.sign=!1;var t=this.isub(e);return e.sign=!0,t._normSign()}var r,i;this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,s=0;s<i.length;s++){var t=r.words[s]+i.words[s]+n;this.words[s]=67108863&t,n=t>>>26}for(;0!==n&&s<r.length;s++){var t=r.words[s]+n;this.words[s]=67108863&t,n=t>>>26}if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},BN.prototype.add=function(e){if(e.sign&&!this.sign){e.sign=!1;var t=this.sub(e);return e.sign=!0,t}if(!e.sign&&this.sign){this.sign=!1;var t=e.sub(this);return this.sign=!0,t}return this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},BN.prototype.isub=function(e){if(e.sign){e.sign=!1;var t=this.iadd(e);return e.sign=!0,t._normSign()}if(this.sign)return this.sign=!1,this.iadd(e),this.sign=!0,this._normSign();var r=this.cmp(e);if(0===r)return this.sign=!1,this.length=1,this.words[0]=0,this;var i,n;r>0?(i=this,n=e):(i=e,n=this);for(var s=0,o=0;o<n.length;o++){var t=i.words[o]-n.words[o]+s;s=t>>26,this.words[o]=67108863&t}for(;0!==s&&o<i.length;o++){var t=i.words[o]+s;s=t>>26,this.words[o]=67108863&t}if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.sign=!0),this.strip()},BN.prototype.sub=function(e){return this.clone().isub(e)},BN.prototype._smallMulTo=function(e,t){t.sign=e.sign!==this.sign,t.length=this.length+e.length;for(var r=0,i=0;i<t.length-1;i++){for(var n=r>>>26,s=67108863&r,o=Math.min(i,e.length-1),a=Math.max(0,i-this.length+1);a<=o;a++){var f=i-a,d=0|this.words[f],u=0|e.words[a],h=d*u,c=67108863&h;n=n+(h/67108864|0)|0,c=c+s|0,s=67108863&c,n=n+(c>>>26)|0}t.words[i]=s,r=n}return 0!==r?t.words[i]=r:t.length--,t.strip()},BN.prototype._bigMulTo=function(e,t){t.sign=e.sign!==this.sign,t.length=this.length+e.length;for(var r=0,i=0,n=0;n<t.length-1;n++){var s=i;i=0;for(var o=67108863&r,a=Math.min(n,e.length-1),f=Math.max(0,n-this.length+1);f<=a;f++){var d=n-f,u=0|this.words[d],h=0|e.words[f],c=u*h,l=67108863&c;s=s+(c/67108864|0)|0,l=l+o|0,o=67108863&l,s=s+(l>>>26)|0,i+=s>>>26,s&=67108863}t.words[n]=o,r=s,s=i}return 0!==r?t.words[n]=r:t.length--,t.strip()},BN.prototype.mulTo=function(e,t){var r;return r=this.length+e.length<63?this._smallMulTo(e,t):this._bigMulTo(e,t)},BN.prototype.mul=function(e){var t=new BN(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},BN.prototype.imul=function(e){if(0===this.cmpn(0)||0===e.cmpn(0))return this.words[0]=0,this.length=1,this;var t=this.length,r=e.length;this.sign=e.sign!==this.sign,this.length=this.length+e.length,this.words[this.length-1]=0;for(var i=this.length-2;i>=0;i--){for(var n=0,s=0,o=Math.min(i,r-1),a=Math.max(0,i-t+1);a<=o;a++){var f=i-a,d=this.words[f],u=e.words[a],h=d*u,c=67108863&h;n+=h/67108864|0,c+=s,s=67108863&c,n+=c>>>26}this.words[i]=s,this.words[i+1]+=n,n=0}for(var n=0,f=1;f<this.length;f++){var l=this.words[f]+n;this.words[f]=67108863&l,n=l>>>26}return this.strip()},BN.prototype.imuln=function(e){assert("number"==typeof e);for(var t=0,r=0;r<this.length;r++){var i=this.words[r]*e,n=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=n>>>26,this.words[r]=67108863&n}return 0!==t&&(this.words[r]=t,this.length++),this},BN.prototype.muln=function(e){return this.clone().imuln(e)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.mul(this)},BN.prototype.ishln=function(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=67108863>>>26-t<<26-t;if(0!==t){for(var n=0,s=0;s<this.length;s++){var o=this.words[s]&i,a=this.words[s]-o<<t;this.words[s]=a|n,n=o>>>26-t}n&&(this.words[s]=n,this.length++)}if(0!==r){for(var s=this.length-1;s>=0;s--)this.words[s+r]=this.words[s];for(var s=0;s<r;s++)this.words[s]=0;this.length+=r}return this.strip()},BN.prototype.ishrn=function(e,t,r){assert("number"==typeof e&&e>=0);var i;i=t?(t-t%26)/26:0;var n=e%26,s=Math.min((e-n)/26,this.length),o=67108863^67108863>>>n<<n,a=r;if(i-=s,i=Math.max(0,i),a){for(var f=0;f<s;f++)a.words[f]=this.words[f];a.length=s}if(0===s);else if(this.length>s){this.length-=s;for(var f=0;f<this.length;f++)this.words[f]=this.words[f+s]}else this.words[0]=0,this.length=1;for(var d=0,f=this.length-1;f>=0&&(0!==d||f>=i);f--){var u=this.words[f];this.words[f]=d<<26-n|u>>>n,d=u&o}return a&&0!==d&&(a.words[a.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),this},BN.prototype.shln=function(e){return this.clone().ishln(e)},BN.prototype.shrn=function(e){return this.clone().ishrn(e)},BN.prototype.testn=function(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return!1;var n=this.words[r];return!!(n&i)},BN.prototype.imaskn=function(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(assert(!this.sign,"imaskn works only with positive numbers"),0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},BN.prototype.maskn=function(e){return this.clone().imaskn(e)},BN.prototype.iaddn=function(e){return assert("number"==typeof e),e<0?this.isubn(-e):this.sign?1===this.length&&this.words[0]<e?(this.words[0]=e-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(e),this.sign=!0,this):this._iaddn(e)},BN.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},BN.prototype.isubn=function(e){if(assert("number"==typeof e),e<0)return this.iaddn(-e);if(this.sign)return this.sign=!1,this.iaddn(e),this.sign=!0,this;this.words[0]-=e;for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},BN.prototype.addn=function(e){return this.clone().iaddn(e)},BN.prototype.subn=function(e){return this.clone().isubn(e)},BN.prototype.iabs=function(){return this.sign=!1,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(e,t,r){var i,n=e.length+r;if(this.words.length<n){for(var s=new Array(n),i=0;i<this.length;i++)s[i]=this.words[i];this.words=s}else i=this.length;for(this.length=Math.max(this.length,n);i<this.length;i++)this.words[i]=0;for(var o=0,i=0;i<e.length;i++){var a=this.words[i+r]+o,f=e.words[i]*t;a-=67108863&f,o=(a>>26)-(f/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++){var a=this.words[i+r]+o;o=a>>26,this.words[i+r]=67108863&a}if(0===o)return this.strip();assert(o===-1),o=0;for(var i=0;i<this.length;i++){var a=-this.words[i]+o;o=a>>26,this.words[i]=67108863&a}return this.sign=!0,this.strip()},BN.prototype._wordDiv=function(e,t){var r=this.length-e.length,i=this.clone(),n=e,s=n.words[n.length-1],o=this._countBits(s);r=26-o,0!==r&&(n=n.shln(r),i.ishln(r),s=n.words[n.length-1]);var a,f=i.length-n.length;if("mod"!==t){a=new BN(null),a.length=f+1,a.words=new Array(a.length);for(var d=0;d<a.length;d++)a.words[d]=0}var u=i.clone()._ishlnsubmul(n,1,f);u.sign||(i=u,a&&(a.words[f]=1));for(var h=f-1;h>=0;h--){var c=67108864*i.words[n.length+h]+i.words[n.length+h-1];for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(n,c,h);i.sign;)c--,i.sign=!1,i._ishlnsubmul(n,1,h),0!==i.cmpn(0)&&(i.sign=!i.sign);a&&(a.words[h]=c)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.ishrn(r),{div:a?a:null,mod:i}},BN.prototype.divmod=function(e,t){if(assert(0!==e.cmpn(0)),this.sign&&!e.sign){var r,i,n=this.neg().divmod(e,t);return"mod"!==t&&(r=n.div.neg()),"div"!==t&&(i=0===n.mod.cmpn(0)?n.mod:e.sub(n.mod)),{div:r,mod:i}}if(!this.sign&&e.sign){var r,n=this.divmod(e.neg(),t);return"mod"!==t&&(r=n.div.neg()),{div:r,mod:n.mod}}return this.sign&&e.sign?this.neg().divmod(e.neg(),t):e.length>this.length||this.cmp(e)<0?{div:new BN(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new BN(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new BN(this.modn(e.words[0]))}:this._wordDiv(e,t)},BN.prototype.div=function(e){return this.divmod(e,"div").div},BN.prototype.mod=function(e){return this.divmod(e,"mod").mod},BN.prototype.divRound=function(e){var t=this.divmod(e);if(0===t.mod.cmpn(0))return t.div;var r=t.div.sign?t.mod.isub(e):t.mod,i=e.shrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:t.div.sign?t.div.isubn(1):t.div.iaddn(1)},BN.prototype.modn=function(e){assert(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+this.words[i])%e;return r},BN.prototype.idivn=function(e){assert(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=this.words[r]+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},BN.prototype.divn=function(e){return this.clone().idivn(e)},BN.prototype.egcd=function(e){assert(!e.sign),assert(0!==e.cmpn(0));var t=this,r=e.clone();t=t.sign?t.mod(e):t.clone();for(var i=new BN(1),n=new BN(0),s=new BN(0),o=new BN(1),a=0;t.isEven()&&r.isEven();)t.ishrn(1),r.ishrn(1),++a;for(var f=r.clone(),d=t.clone();0!==t.cmpn(0);){for(;t.isEven();)t.ishrn(1),i.isEven()&&n.isEven()?(i.ishrn(1),n.ishrn(1)):(i.iadd(f).ishrn(1),n.isub(d).ishrn(1));for(;r.isEven();)r.ishrn(1),s.isEven()&&o.isEven()?(s.ishrn(1),o.ishrn(1)):(s.iadd(f).ishrn(1),o.isub(d).ishrn(1));t.cmp(r)>=0?(t.isub(r),i.isub(s),n.isub(o)):(r.isub(t),s.isub(i),o.isub(n))}return{a:s,b:o,gcd:r.ishln(a)}},BN.prototype._invmp=function(e){assert(!e.sign),assert(0!==e.cmpn(0));var t=this,r=e.clone();t=t.sign?t.mod(e):t.clone();for(var i=new BN(1),n=new BN(0),s=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(;t.isEven();)t.ishrn(1),i.isEven()?i.ishrn(1):i.iadd(s).ishrn(1);for(;r.isEven();)r.ishrn(1),n.isEven()?n.ishrn(1):n.iadd(s).ishrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(n)):(r.isub(t),n.isub(i))}return 0===t.cmpn(1)?i:n},BN.prototype.gcd=function(e){if(0===this.cmpn(0))return e.clone();if(0===e.cmpn(0))return this.clone();var t=this.clone(),r=e.clone();t.sign=!1,r.sign=!1;for(var i=0;t.isEven()&&r.isEven();i++)t.ishrn(1),r.ishrn(1);for(;;){for(;t.isEven();)t.ishrn(1);for(;r.isEven();)r.ishrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.ishln(i)},BN.prototype.invm=function(e){return this.egcd(e).a.mod(e)},BN.prototype.isEven=function(){return 0===(1&this.words[0])},BN.prototype.isOdd=function(){return 1===(1&this.words[0])},BN.prototype.andln=function(e){return this.words[0]&e},BN.prototype.bincn=function(e){assert("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r){for(var n=this.length;n<r+1;n++)this.words[n]=0;return this.words[r]|=i,this.length=r+1,this}for(var s=i,n=r;0!==s&&n<this.length;n++){var o=this.words[n];o+=s,s=o>>>26,o&=67108863,this.words[n]=o}return 0!==s&&(this.words[n]=s,this.length++),this},BN.prototype.cmpn=function(e){var t=e<0;if(t&&(e=-e),this.sign&&!t)return-1;if(!this.sign&&t)return 1;e&=67108863,this.strip();var r;if(this.length>1)r=1;else{var i=this.words[0];r=i===e?0:i<e?-1:1}return this.sign&&(r=-r),r},BN.prototype.cmp=function(e){if(this.sign&&!e.sign)return-1;if(!this.sign&&e.sign)return 1;var t=this.ucmp(e);return this.sign?-t:t},BN.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=this.words[r],n=e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},BN.red=function(e){return new Red(e)},BN.prototype.toRed=function(e){return assert(!this.red,"Already a number in reduction context"),assert(!this.sign,"red works only with positives"),e.convertTo(this)._forceRed(e)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(e){return this.red=e,this},BN.prototype.forceRed=function(e){return assert(!this.red,"Already a number in reduction context"),this._forceRed(e)},BN.prototype.redAdd=function(e){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},BN.prototype.redIAdd=function(e){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},BN.prototype.redSub=function(e){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},BN.prototype.redISub=function(e){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},BN.prototype.redShl=function(e){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},BN.prototype.redMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},BN.prototype.redIMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(e){return assert(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var o={k256:null,p224:null,p192:null,p25519:null};MPrime.prototype._tmp=function(){var e=new BN(null);return e.words=new Array(Math.ceil(this.n/13)),e},MPrime.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),t=r.bitLength();while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r.strip(),r},MPrime.prototype.split=function(e,t){e.ishrn(this.n,0,t)},MPrime.prototype.imulK=function(e){return e.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];t.words[t.length++]=s&r;for(var n=10;n<e.length;n++){var o=e.words[n];e.words[n-10]=(o&r)<<4|s>>>22,s=o}e.words[n-10]=s>>>22,e.length-=9},K256.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t,r=0,i=0;i<e.length;i++){var n=e.words[i];t=64*n,r+=977*n,t+=r/67108864|0,r&=67108863,e.words[i]=r,r=t}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*e.words[r]+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},BN._prime=function prime(e){if(o[e])return o[e];var prime;if("k256"===e)prime=new K256;else if("p224"===e)prime=new P224;else if("p192"===e)prime=new P192;else{if("p25519"!==e)throw new Error("Unknown prime "+e);prime=new P25519}return o[e]=prime,prime},Red.prototype._verify1=function(e){assert(!e.sign,"red works only with positives"),assert(e.red,"red works only with red numbers")},Red.prototype._verify2=function(e,t){assert(!e.sign&&!t.sign,"red works only with positives"),assert(e.red&&e.red===t.red,"red works only with red numbers")},Red.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.mod(this.m)._forceRed(this)},Red.prototype.neg=function(e){var t=e.clone();return t.sign=!t.sign,t.iadd(this.m)._forceRed(this)},Red.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},Red.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},Red.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},Red.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},Red.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.shln(t))},Red.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},Red.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},Red.prototype.isqr=function(e){return this.imul(e,e)},Red.prototype.sqr=function(e){return this.mul(e,e)},Red.prototype.sqrt=function(e){if(0===e.cmpn(0))return e.clone();var t=this.m.andln(3);if(assert(t%2===1),3===t){var r=this.m.add(new BN(1)).ishrn(2),i=this.pow(e,r);return i}for(var n=this.m.subn(1),s=0;0!==n.cmpn(0)&&0===n.andln(1);)s++,n.ishrn(1);assert(0!==n.cmpn(0));var o=new BN(1).toRed(this),a=o.redNeg(),f=this.m.subn(1).ishrn(1),d=this.m.bitLength();for(d=new BN(2*d*d).toRed(this);0!==this.pow(d,f).cmp(a);)d.redIAdd(a);for(var u=this.pow(d,n),i=this.pow(e,n.addn(1).ishrn(1)),h=this.pow(e,n),c=s;0!==h.cmp(o);){for(var l=h,p=0;0!==l.cmp(o);p++)l=l.redSqr();assert(p<c);var b=this.pow(u,new BN(1).ishln(c-p-1));i=i.redMul(b),u=b.redSqr(),h=h.redMul(u),c=p}return i},Red.prototype.invm=function(e){var t=e._invmp(this.m);return t.sign?(t.sign=!1,this.imod(t).redNeg()):this.imod(t)},Red.prototype.pow=function(e,t){var r=[];if(0===t.cmpn(0))return new BN(1);for(var i=t.clone();0!==i.cmpn(0);)r.push(i.andln(1)),i.ishrn(1);for(var n=e,s=0;s<r.length&&0===r[s];s++,n=this.sqr(n));if(++s<r.length)for(var i=this.sqr(n);s<r.length;s++,i=this.sqr(i))0!==r[s]&&(n=this.mul(n,i));return n},Red.prototype.convertTo=function(e){var t=e.mod(this.m);return t===e?t.clone():t},Red.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},BN.mont=function(e){return new Mont(e)},inherits(Mont,Red),Mont.prototype.convertTo=function(e){return this.imod(e.shln(this.shift))},Mont.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},Mont.prototype.imul=function(e,t){if(0===e.cmpn(0)||0===t.cmpn(0))return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).ishrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},Mont.prototype.mul=function(e,t){if(0===e.cmpn(0)||0===t.cmpn(0))return new BN(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).ishrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},Mont.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}}("undefined"==typeof e||e,void 0)}).call(t,r(294)(e))},1377:[2473,1378,1379,1381,1382,1387,1389,1392],1378:function(e,t){e.exports={_args:[[{raw:"elliptic@^5.1.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^5.1.0",spec:">=5.1.0 <6.0.0",type:"range"},"/Users/tenaciousmv/Code/tradle-app-web/node_modules/key-encoder"]],_from:"elliptic@>=5.1.0 <6.0.0",_id:"elliptic@5.2.1",_inCache:!0,_installable:!0,_location:"/key-encoder/elliptic",_nodeVersion:"4.2.1",_npmUser:{name:"indutny",email:"fedor@indutny.com"},_npmVersion:"2.14.7",_phantomChildren:{},_requested:{raw:"elliptic@^5.1.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^5.1.0",spec:">=5.1.0 <6.0.0",type:"range"},_requiredBy:["/key-encoder"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-5.2.1.tgz",_shasum:"fa294b6563c6ddbc9ba3dc8594687ae840858f10",_shrinkwrap:null,_spec:"elliptic@^5.1.0",_where:"/Users/tenaciousmv/Code/tradle-app-web/node_modules/key-encoder",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^3.1.1",brorand:"^1.0.1","hash.js":"^1.0.0",inherits:"^2.0.1"},description:"EC cryptography",devDependencies:{browserify:"^3.44.2",coveralls:"^2.11.3",istanbul:"^0.3.17",jscs:"^1.11.3",jshint:"^2.6.0",mocha:"^2.1.0","uglify-js":"^2.4.13"},directories:{},dist:{shasum:"fa294b6563c6ddbc9ba3dc8594687ae840858f10",tarball:"https://registry.npmjs.org/elliptic/-/elliptic-5.2.1.tgz"},gitHead:"676db36e64399e5b4c0e31ae5aa4cdf8e8362014",homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",maintainers:[{name:"indutny",email:"fedor@indutny.com"}],name:"elliptic",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{coveralls:"cat ./coverage/lcov.info | coveralls",test:"make lint && istanbul test _mocha --reporter=spec test/*-test.js"},version:"5.2.1"}},1379:function(e,t,r){"use strict";function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)r[i]=0|e[i];return r}if(t){if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e);for(var i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}}else for(var i=0;i<e.length;i++){var n=e.charCodeAt(i),s=n>>8,o=255&n;s?r.push(s,o):r.push(o)}return r}function zero2(e){return 1===e.length?"0"+e:e}function toHex(e){for(var t="",r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t}function getNAF(e,t){for(var r=[],i=1<<t+1,n=e.clone();n.cmpn(1)>=0;){var s;if(n.isOdd()){var o=n.andln(i-1);s=o>(i>>1)-1?(i>>1)-o:o,n.isubn(s)}else s=0;r.push(s);for(var a=0!==n.cmpn(0)&&0===n.andln(i-1)?t+1:1,f=1;f<a;f++)r.push(0);n.iushrn(a)}return r}function getJSF(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i=0,n=0;e.cmpn(-i)>0||t.cmpn(-n)>0;){var s=e.andln(3)+i&3,o=t.andln(3)+n&3;3===s&&(s=-1),3===o&&(o=-1);var a;if(0===(1&s))a=0;else{var f=e.andln(7)+i&7;a=3!==f&&5!==f||2!==o?s:-s}r[0].push(a);var d;if(0===(1&o))d=0;else{var f=t.andln(7)+n&7;d=3!==f&&5!==f||2!==s?o:-o}r[1].push(d),2*i===a+1&&(i=1-i),2*n===d+1&&(n=1-n),e.iushrn(1),t.iushrn(1)}return r}function cachedProperty(e,t){var r=t.name,i="_"+r;e.prototype[r]=function(){return void 0!==this[i]?this[i]:this[i]=t.call(this)}}function parseBytes(e){return"string"==typeof e?i.toArray(e,"hex"):e}function intFromLE(e){return new n(e,"hex","le")}var i=t,n=r(1380);i.assert=function(e,t){if(!e)throw new Error(t||"Assertion failed")},i.toArray=toArray,i.zero2=zero2,i.toHex=toHex,i.encode=function(e,t){return"hex"===t?toHex(e):e},i.getNAF=getNAF,i.getJSF=getJSF,i.cachedProperty=cachedProperty,i.parseBytes=parseBytes,i.intFromLE=intFromLE},1380:function(e,t,r){(function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,r){function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function BN(e,r,i){return null!==e&&"object"===("undefined"==typeof e?"undefined":t(e))&&Array.isArray(e.words)?e:(this.sign=!1,this.words=null,this.length=0,this.red=null,"le"!==r&&"be"!==r||(i=r,r=10),void(null!==e&&this._init(e||0,r||10,i||"be")))}function parseHex(e,t,r){for(var i=0,n=Math.min(e.length,r),s=t;s<n;s++){var o=e.charCodeAt(s)-48;i<<=4,i|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return i}function parseBase(e,t,r,i){for(var n=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}function toBitArray(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}function MPrime(e,t){this.name=e,this.p=new BN(t,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(e){if("string"==typeof e){var t=BN._prime(e);this.m=t.p,this.prime=t}else this.m=e,this.prime=null}function Mont(e){Red.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),
this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"===("undefined"==typeof e?"undefined":t(e))?e.exports=BN:r.BN=BN,BN.BN=BN,BN.wordSize=26,BN.max=function(e,t){return e.cmp(t)>0?e:t},BN.min=function(e,t){return e.cmp(t)<0?e:t},BN.prototype._init=function(e,r,i){if("number"==typeof e)return this._initNumber(e,r,i);if("object"===("undefined"==typeof e?"undefined":t(e)))return this._initArray(e,r,i);"hex"===r&&(r=16),assert(r===(0|r)&&r>=2&&r<=36),e=e.toString().replace(/\s+/g,"");var n=0;"-"===e[0]&&n++,16===r?this._parseHex(e,n):this._parseBase(e,r,n),"-"===e[0]&&(this.sign=!0),this.strip(),"le"===i&&this._initArray(this.toArray(),r,i)},BN.prototype._initNumber=function(e,t,r){e<0&&(this.sign=!0,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(assert(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},BN.prototype._initArray=function(e,t,r){if(assert("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n=0;if("be"===r)for(var i=e.length-1,s=0;i>=0;i-=3){var o=e[i]|e[i-1]<<8|e[i-2]<<16;this.words[s]|=o<<n&67108863,this.words[s+1]=o>>>26-n&67108863,n+=24,n>=26&&(n-=26,s++)}else if("le"===r)for(var i=0,s=0;i<e.length;i+=3){var o=e[i]|e[i+1]<<8|e[i+2]<<16;this.words[s]|=o<<n&67108863,this.words[s+1]=o>>>26-n&67108863,n+=24,n>=26&&(n-=26,s++)}return this.strip()},BN.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;for(var i=0,r=e.length-6,n=0;r>=t;r-=6){var s=parseHex(e,r,r+6);this.words[n]|=s<<i&67108863,this.words[n+1]|=s>>>26-i&4194303,i+=24,i>=26&&(i-=26,n++)}if(r+6!==t){var s=parseHex(e,t,r+6);this.words[n]|=s<<i&67108863,this.words[n+1]|=s>>>26-i&4194303}this.strip()},BN.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,o=s%i,a=Math.min(s,s-o)+r,f=0,d=r;d<a;d+=i)f=parseBase(e,d,d+i,t),this.imuln(n),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==o){for(var u=1,f=parseBase(e,d,e.length,t),d=0;d<o;d++)u*=t;this.imuln(u),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}},BN.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.sign=this.sign,e.red=this.red},BN.prototype.clone=function(){var e=new BN(null);return this.copy(e),e},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var i=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],n=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],s=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(e,t){e=e||10;var t=0|t||1;if(16===e||"hex"===e){for(var r="",o=0,a=0,f=0;f<this.length;f++){var d=this.words[f],u=(16777215&(d<<o|a)).toString(16);a=d>>>24-o&16777215,r=0!==a||f!==this.length-1?i[6-u.length]+u+r:u+r,o+=2,o>=26&&(o-=26,f--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!==0;)r="0"+r;return this.sign&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var h=n[e],c=s[e],r="",l=this.clone();for(l.sign=!1;0!==l.cmpn(0);){var p=l.modn(c).toString(e);l=l.idivn(c),r=0!==l.cmpn(0)?i[h-p.length]+p+r:p+r}for(0===this.cmpn(0)&&(r="0"+r);r.length%t!==0;)r="0"+r;return this.sign&&(r="-"+r),r}assert(!1,"Base should be between 2 and 36")},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toArray=function(e,t){this.strip();var r="le"===e,i=new Array(this.byteLength());i[0]=0;var n=this.clone();if(r)for(var s=0;0!==n.cmpn(0);s++){var o=n.andln(255);n.iushrn(8),i[s]=o}else for(var s=0;0!==n.cmpn(0);s++){var o=n.andln(255);n.iushrn(8),i[i.length-s-1]=o}if(t)for(assert(i.length<=t,"byte array longer than desired length");i.length<t;)r?i.push(0):i.unshift(0);return i},Math.clz32?BN.prototype._countBits=function(e){return 32-Math.clz32(e)}:BN.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},BN.prototype.bitLength=function(){var e=0,t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},BN.prototype.zeroBits=function(){if(0===this.cmpn(0))return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var e=this.clone();return e.sign=!this.sign,e},BN.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},BN.prototype.ior=function(e){return assert(!this.sign&&!e.sign),this.iuor(e)},BN.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},BN.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},BN.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},BN.prototype.iand=function(e){return assert(!this.sign&&!e.sign),this.iuand(e)},BN.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},BN.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},BN.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},BN.prototype.ixor=function(e){return assert(!this.sign&&!e.sign),this.iuxor(e)},BN.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},BN.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},BN.prototype.setn=function(e,t){assert("number"==typeof e&&e>=0);for(var r=e/26|0,i=e%26;this.length<=r;)this.words[this.length++]=0;return t?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this.strip()},BN.prototype.iadd=function(e){if(this.sign&&!e.sign){this.sign=!1;var t=this.isub(e);return this.sign=!this.sign,this._normSign()}if(!this.sign&&e.sign){e.sign=!1;var t=this.isub(e);return e.sign=!0,t._normSign()}var r,i;this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,s=0;s<i.length;s++){var t=r.words[s]+i.words[s]+n;this.words[s]=67108863&t,n=t>>>26}for(;0!==n&&s<r.length;s++){var t=r.words[s]+n;this.words[s]=67108863&t,n=t>>>26}if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},BN.prototype.add=function(e){if(e.sign&&!this.sign){e.sign=!1;var t=this.sub(e);return e.sign=!0,t}if(!e.sign&&this.sign){this.sign=!1;var t=e.sub(this);return this.sign=!0,t}return this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},BN.prototype.isub=function(e){if(e.sign){e.sign=!1;var t=this.iadd(e);return e.sign=!0,t._normSign()}if(this.sign)return this.sign=!1,this.iadd(e),this.sign=!0,this._normSign();var r=this.cmp(e);if(0===r)return this.sign=!1,this.length=1,this.words[0]=0,this;var i,n;r>0?(i=this,n=e):(i=e,n=this);for(var s=0,o=0;o<n.length;o++){var t=i.words[o]-n.words[o]+s;s=t>>26,this.words[o]=67108863&t}for(;0!==s&&o<i.length;o++){var t=i.words[o]+s;s=t>>26,this.words[o]=67108863&t}if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.sign=!0),this.strip()},BN.prototype.sub=function(e){return this.clone().isub(e)},BN.prototype._smallMulTo=function(e,t){t.sign=e.sign!==this.sign,t.length=this.length+e.length;for(var r=0,i=0;i<t.length-1;i++){for(var n=r>>>26,s=67108863&r,o=Math.min(i,e.length-1),a=Math.max(0,i-this.length+1);a<=o;a++){var f=i-a,d=0|this.words[f],u=0|e.words[a],h=d*u,c=67108863&h;n=n+(h/67108864|0)|0,c=c+s|0,s=67108863&c,n=n+(c>>>26)|0}t.words[i]=s,r=n}return 0!==r?t.words[i]=r:t.length--,t.strip()},BN.prototype._bigMulTo=function(e,t){t.sign=e.sign!==this.sign,t.length=this.length+e.length;for(var r=0,i=0,n=0;n<t.length-1;n++){var s=i;i=0;for(var o=67108863&r,a=Math.min(n,e.length-1),f=Math.max(0,n-this.length+1);f<=a;f++){var d=n-f,u=0|this.words[d],h=0|e.words[f],c=u*h,l=67108863&c;s=s+(c/67108864|0)|0,l=l+o|0,o=67108863&l,s=s+(l>>>26)|0,i+=s>>>26,s&=67108863}t.words[n]=o,r=s,s=i}return 0!==r?t.words[n]=r:t.length--,t.strip()},BN.prototype.mulTo=function(e,t){var r;return r=this.length+e.length<63?this._smallMulTo(e,t):this._bigMulTo(e,t)},BN.prototype.mul=function(e){var t=new BN(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},BN.prototype.imul=function(e){if(0===this.cmpn(0)||0===e.cmpn(0))return this.words[0]=0,this.length=1,this;var t=this.length,r=e.length;this.sign=e.sign!==this.sign,this.length=this.length+e.length,this.words[this.length-1]=0;for(var i=this.length-2;i>=0;i--){for(var n=0,s=0,o=Math.min(i,r-1),a=Math.max(0,i-t+1);a<=o;a++){var f=i-a,d=this.words[f],u=e.words[a],h=d*u,c=67108863&h;n+=h/67108864|0,c+=s,s=67108863&c,n+=c>>>26}this.words[i]=s,this.words[i+1]+=n,n=0}for(var n=0,f=1;f<this.length;f++){var l=this.words[f]+n;this.words[f]=67108863&l,n=l>>>26}return this.strip()},BN.prototype.imuln=function(e){assert("number"==typeof e);for(var t=0,r=0;r<this.length;r++){var i=this.words[r]*e,n=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=n>>>26,this.words[r]=67108863&n}return 0!==t&&(this.words[r]=t,this.length++),this},BN.prototype.muln=function(e){return this.clone().imuln(e)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.mul(this)},BN.prototype.pow=function(e){var t=toBitArray(e);if(0===t.length)return new BN(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},BN.prototype.iushln=function(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=67108863>>>26-t<<26-t;if(0!==t){for(var n=0,s=0;s<this.length;s++){var o=this.words[s]&i,a=this.words[s]-o<<t;this.words[s]=a|n,n=o>>>26-t}n&&(this.words[s]=n,this.length++)}if(0!==r){for(var s=this.length-1;s>=0;s--)this.words[s+r]=this.words[s];for(var s=0;s<r;s++)this.words[s]=0;this.length+=r}return this.strip()},BN.prototype.ishln=function(e){return assert(!this.sign),this.iushln(e)},BN.prototype.iushrn=function(e,t,r){assert("number"==typeof e&&e>=0);var i;i=t?(t-t%26)/26:0;var n=e%26,s=Math.min((e-n)/26,this.length),o=67108863^67108863>>>n<<n,a=r;if(i-=s,i=Math.max(0,i),a){for(var f=0;f<s;f++)a.words[f]=this.words[f];a.length=s}if(0===s);else if(this.length>s){this.length-=s;for(var f=0;f<this.length;f++)this.words[f]=this.words[f+s]}else this.words[0]=0,this.length=1;for(var d=0,f=this.length-1;f>=0&&(0!==d||f>=i);f--){var u=this.words[f];this.words[f]=d<<26-n|u>>>n,d=u&o}return a&&0!==d&&(a.words[a.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),this},BN.prototype.ishrn=function(e,t,r){return assert(!this.sign),this.iushrn(e,t,r)},BN.prototype.shln=function(e){return this.clone().ishln(e)},BN.prototype.ushln=function(e){return this.clone().iushln(e)},BN.prototype.shrn=function(e){return this.clone().ishrn(e)},BN.prototype.ushrn=function(e){return this.clone().iushrn(e)},BN.prototype.testn=function(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return!1;var n=this.words[r];return!!(n&i)},BN.prototype.imaskn=function(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(assert(!this.sign,"imaskn works only with positive numbers"),0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},BN.prototype.maskn=function(e){return this.clone().imaskn(e)},BN.prototype.iaddn=function(e){return assert("number"==typeof e),e<0?this.isubn(-e):this.sign?1===this.length&&this.words[0]<e?(this.words[0]=e-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(e),this.sign=!0,this):this._iaddn(e)},BN.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},BN.prototype.isubn=function(e){if(assert("number"==typeof e),e<0)return this.iaddn(-e);if(this.sign)return this.sign=!1,this.iaddn(e),this.sign=!0,this;this.words[0]-=e;for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},BN.prototype.addn=function(e){return this.clone().iaddn(e)},BN.prototype.subn=function(e){return this.clone().isubn(e)},BN.prototype.iabs=function(){return this.sign=!1,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(e,t,r){var i,n=e.length+r;if(this.words.length<n){for(var s=new Array(n),i=0;i<this.length;i++)s[i]=this.words[i];this.words=s}else i=this.length;for(this.length=Math.max(this.length,n);i<this.length;i++)this.words[i]=0;for(var o=0,i=0;i<e.length;i++){var a=this.words[i+r]+o,f=e.words[i]*t;a-=67108863&f,o=(a>>26)-(f/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++){var a=this.words[i+r]+o;o=a>>26,this.words[i+r]=67108863&a}if(0===o)return this.strip();assert(o===-1),o=0;for(var i=0;i<this.length;i++){var a=-this.words[i]+o;o=a>>26,this.words[i]=67108863&a}return this.sign=!0,this.strip()},BN.prototype._wordDiv=function(e,t){var r=this.length-e.length,i=this.clone(),n=e,s=n.words[n.length-1],o=this._countBits(s);r=26-o,0!==r&&(n=n.ushln(r),i.iushln(r),s=n.words[n.length-1]);var a,f=i.length-n.length;if("mod"!==t){a=new BN(null),a.length=f+1,a.words=new Array(a.length);for(var d=0;d<a.length;d++)a.words[d]=0}var u=i.clone()._ishlnsubmul(n,1,f);u.sign||(i=u,a&&(a.words[f]=1));for(var h=f-1;h>=0;h--){var c=67108864*i.words[n.length+h]+i.words[n.length+h-1];for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(n,c,h);i.sign;)c--,i.sign=!1,i._ishlnsubmul(n,1,h),0!==i.cmpn(0)&&(i.sign=!i.sign);a&&(a.words[h]=c)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a?a:null,mod:i}},BN.prototype.divmod=function(e,t,r){if(assert(0!==e.cmpn(0)),this.sign&&!e.sign){var i,n,s=this.neg().divmod(e,t);return"mod"!==t&&(i=s.div.neg()),"div"!==t&&(n=s.mod.neg(),r&&n.neg&&(n=n.add(e))),{div:i,mod:n}}if(!this.sign&&e.sign){var i,s=this.divmod(e.neg(),t);return"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}}if(this.sign&&e.sign){var n,s=this.neg().divmod(e.neg(),t);return"div"!==t&&(n=s.mod.neg(),r&&n.neg&&(n=n.isub(e))),{div:s.div,mod:n}}return e.length>this.length||this.cmp(e)<0?{div:new BN(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new BN(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new BN(this.modn(e.words[0]))}:this._wordDiv(e,t)},BN.prototype.div=function(e){return this.divmod(e,"div",!1).div},BN.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},BN.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},BN.prototype.divRound=function(e){var t=this.divmod(e);if(0===t.mod.cmpn(0))return t.div;var r=t.div.sign?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:t.div.sign?t.div.isubn(1):t.div.iaddn(1)},BN.prototype.modn=function(e){assert(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+this.words[i])%e;return r},BN.prototype.idivn=function(e){assert(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=this.words[r]+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},BN.prototype.divn=function(e){return this.clone().idivn(e)},BN.prototype.egcd=function(e){assert(!e.sign),assert(0!==e.cmpn(0));var t=this,r=e.clone();t=t.sign?t.umod(e):t.clone();for(var i=new BN(1),n=new BN(0),s=new BN(0),o=new BN(1),a=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++a;for(var f=r.clone(),d=t.clone();0!==t.cmpn(0);){for(;t.isEven();)t.iushrn(1),i.isEven()&&n.isEven()?(i.iushrn(1),n.iushrn(1)):(i.iadd(f).iushrn(1),n.isub(d).iushrn(1));for(;r.isEven();)r.iushrn(1),s.isEven()&&o.isEven()?(s.iushrn(1),o.iushrn(1)):(s.iadd(f).iushrn(1),o.isub(d).iushrn(1));t.cmp(r)>=0?(t.isub(r),i.isub(s),n.isub(o)):(r.isub(t),s.isub(i),o.isub(n))}return{a:s,b:o,gcd:r.iushln(a)}},BN.prototype._invmp=function(e){assert(!e.sign),assert(0!==e.cmpn(0));var t=this,r=e.clone();t=t.sign?t.umod(e):t.clone();for(var i=new BN(1),n=new BN(0),s=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(;t.isEven();)t.iushrn(1),i.isEven()?i.iushrn(1):i.iadd(s).iushrn(1);for(;r.isEven();)r.iushrn(1),n.isEven()?n.iushrn(1):n.iadd(s).iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(n)):(r.isub(t),n.isub(i))}var o;return o=0===t.cmpn(1)?i:n,o.cmpn(0)<0&&o.iadd(e),o},BN.prototype.gcd=function(e){if(0===this.cmpn(0))return e.clone();if(0===e.cmpn(0))return this.clone();var t=this.clone(),r=e.clone();t.sign=!1,r.sign=!1;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},BN.prototype.invm=function(e){return this.egcd(e).a.umod(e)},BN.prototype.isEven=function(){return 0===(1&this.words[0])},BN.prototype.isOdd=function(){return 1===(1&this.words[0])},BN.prototype.andln=function(e){return this.words[0]&e},BN.prototype.bincn=function(e){assert("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r){for(var n=this.length;n<r+1;n++)this.words[n]=0;return this.words[r]|=i,this.length=r+1,this}for(var s=i,n=r;0!==s&&n<this.length;n++){var o=this.words[n];o+=s,s=o>>>26,o&=67108863,this.words[n]=o}return 0!==s&&(this.words[n]=s,this.length++),this},BN.prototype.cmpn=function(e){var t=e<0;if(t&&(e=-e),this.sign&&!t)return-1;if(!this.sign&&t)return 1;e&=67108863,this.strip();var r;if(this.length>1)r=1;else{var i=this.words[0];r=i===e?0:i<e?-1:1}return this.sign&&(r=-r),r},BN.prototype.cmp=function(e){if(this.sign&&!e.sign)return-1;if(!this.sign&&e.sign)return 1;var t=this.ucmp(e);return this.sign?-t:t},BN.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=this.words[r],n=e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},BN.red=function(e){return new Red(e)},BN.prototype.toRed=function(e){return assert(!this.red,"Already a number in reduction context"),assert(!this.sign,"red works only with positives"),e.convertTo(this)._forceRed(e)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(e){return this.red=e,this},BN.prototype.forceRed=function(e){return assert(!this.red,"Already a number in reduction context"),this._forceRed(e)},BN.prototype.redAdd=function(e){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},BN.prototype.redIAdd=function(e){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},BN.prototype.redSub=function(e){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},BN.prototype.redISub=function(e){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},BN.prototype.redShl=function(e){return assert(this.red,"redShl works only with red numbers"),this.red.ushl(this,e)},BN.prototype.redMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},BN.prototype.redIMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(e){return assert(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var o={k256:null,p224:null,p192:null,p25519:null};MPrime.prototype._tmp=function(){var e=new BN(null);return e.words=new Array(Math.ceil(this.n/13)),e},MPrime.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),t=r.bitLength();while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r.strip(),r},MPrime.prototype.split=function(e,t){e.iushrn(this.n,0,t)},MPrime.prototype.imulK=function(e){return e.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];t.words[t.length++]=s&r;for(var n=10;n<e.length;n++){var o=e.words[n];e.words[n-10]=(o&r)<<4|s>>>22,s=o}e.words[n-10]=s>>>22,e.length-=9},K256.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t,r=0,i=0;i<e.length;i++){var n=e.words[i];t=64*n,r+=977*n,t+=r/67108864|0,r&=67108863,e.words[i]=r,r=t}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*e.words[r]+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},BN._prime=function prime(e){if(o[e])return o[e];var prime;if("k256"===e)prime=new K256;else if("p224"===e)prime=new P224;else if("p192"===e)prime=new P192;else{if("p25519"!==e)throw new Error("Unknown prime "+e);prime=new P25519}return o[e]=prime,prime},Red.prototype._verify1=function(e){assert(!e.sign,"red works only with positives"),assert(e.red,"red works only with red numbers")},Red.prototype._verify2=function(e,t){assert(!e.sign&&!t.sign,"red works only with positives"),assert(e.red&&e.red===t.red,"red works only with red numbers")},Red.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},Red.prototype.neg=function(e){var t=e.clone();return t.sign=!t.sign,t.iadd(this.m)._forceRed(this)},Red.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},Red.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},Red.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},Red.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},Red.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},Red.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},Red.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},Red.prototype.isqr=function(e){return this.imul(e,e)},Red.prototype.sqr=function(e){return this.mul(e,e)},Red.prototype.sqrt=function(e){if(0===e.cmpn(0))return e.clone();var t=this.m.andln(3);if(assert(t%2===1),3===t){var r=this.m.add(new BN(1)).iushrn(2),i=this.pow(e,r);return i}for(var n=this.m.subn(1),s=0;0!==n.cmpn(0)&&0===n.andln(1);)s++,n.iushrn(1);assert(0!==n.cmpn(0));var o=new BN(1).toRed(this),a=o.redNeg(),f=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new BN(2*d*d).toRed(this);0!==this.pow(d,f).cmp(a);)d.redIAdd(a);for(var u=this.pow(d,n),i=this.pow(e,n.addn(1).iushrn(1)),h=this.pow(e,n),c=s;0!==h.cmp(o);){for(var l=h,p=0;0!==l.cmp(o);p++)l=l.redSqr();assert(p<c);var b=this.pow(u,new BN(1).iushln(c-p-1));i=i.redMul(b),u=b.redSqr(),h=h.redMul(u),c=p}return i},Red.prototype.invm=function(e){var t=e._invmp(this.m);return t.sign?(t.sign=!1,this.imod(t).redNeg()):this.imod(t)},Red.prototype.pow=function(e,t){var r=toBitArray(t);if(0===r.length)return new BN(1);for(var i=e,n=0;n<r.length&&0===r[n];n++,i=this.sqr(i));if(++n<r.length)for(var s=this.sqr(i);n<r.length;n++,s=this.sqr(s))0!==r[n]&&(i=this.mul(i,s));return i},Red.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},Red.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},BN.mont=function(e){return new Mont(e)},inherits(Mont,Red),Mont.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Mont.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},Mont.prototype.imul=function(e,t){if(0===e.cmpn(0)||0===t.cmpn(0))return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},Mont.prototype.mul=function(e,t){if(0===e.cmpn(0)||0===t.cmpn(0))return new BN(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},Mont.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}}("undefined"==typeof e||e,void 0)}).call(t,r(294)(e))},1381:[2474,1377],1382:[2475,1383,1384,1385,1386],1383:function(e,t,r){"use strict";function BaseCurve(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4)}function BasePoint(e,t){this.curve=e,this.type=t,this.precomputed=null}var i=r(1380),n=r(1377),s=n.utils,o=s.getNAF,a=s.getJSF,f=s.assert;e.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(e,t){f(e.precomputed);var r=e._getDoubles(),i=o(t,1),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;for(var s=[],a=0;a<i.length;a+=r.step){for(var d=0,t=a+r.step-1;t>=a;t--)d=(d<<1)+i[t];s.push(d)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=n;c>0;c--){for(var a=0;a<s.length;a++){var d=s[a];d===c?h=h.mixedAdd(r.points[a]):d===-c&&(h=h.mixedAdd(r.points[a].neg()))}u=u.add(h)}return u.toP()},BaseCurve.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=o(t,r),a=this.jpoint(null,null,null),d=s.length-1;d>=0;d--){for(var t=0;d>=0&&0===s[d];d--)t++;if(d>=0&&t++,a=a.dblp(t),d<0)break;var u=s[d];f(0!==u),a="affine"===e.type?u>0?a.mixedAdd(n[u-1>>1]):a.mixedAdd(n[-u-1>>1].neg()):u>0?a.add(n[u-1>>1]):a.add(n[-u-1>>1].neg())}return"affine"===e.type?a.toP():a},BaseCurve.prototype._wnafMulAdd=function(e,t,r,i){for(var n=this._wnafT1,s=this._wnafT2,f=this._wnafT3,d=0,u=0;u<i;u++){var h=t[u],c=h._getNAFPoints(e);n[u]=c.wnd,s[u]=c.points}for(var u=i-1;u>=1;u-=2){var l=u-1,p=u;if(1===n[l]&&1===n[p]){var b=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(b[1]=t[l].add(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].add(t[p].neg())):(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=a(r[l],r[p]);d=Math.max(v[0].length,d),f[l]=new Array(d),f[p]=new Array(d);for(var m=0;m<d;m++){var g=0|v[0][m],w=0|v[1][m];f[l][m]=y[3*(g+1)+(w+1)],f[p][m]=0,s[l]=b}}else f[l]=o(r[l],n[l]),f[p]=o(r[p],n[p]),d=Math.max(f[l].length,d),d=Math.max(f[p].length,d)}for(var _=this.jpoint(null,null,null),S=this._wnafT4,u=d;u>=0;u--){for(var M=0;u>=0;){for(var A=!0,m=0;m<i;m++)S[m]=0|f[m][u],0!==S[m]&&(A=!1);if(!A)break;M++,u--}if(u>=0&&M++,_=_.dblp(M),u<0)break;for(var m=0;m<i;m++){var h,E=S[m];0!==E&&(E>0?h=s[m][E-1>>1]:E<0&&(h=s[m][-E-1>>1].neg()),_="affine"===h.type?_.mixedAdd(h):_.add(h))}}for(var u=0;u<i;u++)s[u]=null;return _.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(e,t){e=s.toArray(e,t);var r=this.p.byteLength();if(4===e[0]&&e.length-1===2*r)return this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint.prototype.encode=function(e,t){return s.encode(this._encode(t),e)},BasePoint.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},BasePoint.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},1384:function(e,t,r){"use strict";function ShortCurve(e){a.call(this,"short",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),
this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(e,t,r,i){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(t,16),this.y=new s(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(e,t,r,i){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(t,16),this.y=new s(r,16),this.z=new s(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var i=r(1382),n=r(1377),s=r(1380),o=r(821),a=i.base,f=n.utils.assert;o(ShortCurve,a),e.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new s(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new s(e.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))?r=n[0]:(r=n[1],f(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}var o;return o=e.basis?e.basis.map(function(e){return{a:new s(e.a,16),b:new s(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}},ShortCurve.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:s.mont(e),r=new s(2).toRed(t).redInvm(),i=r.redNeg(),n=new s(3).toRed(t).redNeg().redSqrt().redMul(r),o=i.redAdd(n).fromRed(),a=i.redSub(n).fromRed();return[o,a]},ShortCurve.prototype._getEndoBasis=function(e){for(var t,r,i,n,o,a,f,d,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=e,l=this.n.clone(),p=new s(1),b=new s(0),y=new s(0),v=new s(1),m=0;0!==c.cmpn(0);){var g=l.div(c);d=l.sub(g.mul(c)),u=y.sub(g.mul(p));var w=v.sub(g.mul(b));if(!i&&d.cmp(h)<0)t=f.neg(),r=p,i=d.neg(),n=u;else if(i&&2===++m)break;f=d,l=c,c=d,y=p,p=u,v=b,b=w}o=d.neg(),a=u;var _=i.sqr().add(n.sqr()),S=o.sqr().add(a.sqr());return S.cmp(_)>=0&&(o=t,a=r),i.sign&&(i=i.neg(),n=n.neg()),o.sign&&(o=o.neg(),a=a.neg()),[{a:i,b:n},{a:o,b:a}]},ShortCurve.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),f=n.mul(r.b),d=s.mul(i.b),u=e.sub(o).sub(a),h=f.add(d).neg();return{k1:u,k2:h}},ShortCurve.prototype.pointFromX=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt(),n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},ShortCurve.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(e,t){for(var r=this._endoWnafT1,i=this._endoWnafT2,n=0;n<e.length;n++){var s=this._endoSplit(t[n]),o=e[n],a=o._getBeta();s.k1.sign&&(s.k1.sign=!s.k1.sign,o=o.neg(!0)),s.k2.sign&&(s.k2.sign=!s.k2.sign,a=a.neg(!0)),r[2*n]=o,r[2*n+1]=a,i[2*n]=s.k1,i[2*n+1]=s.k2}for(var f=this._wnafMulAdd(1,r,i,2*n),d=0;d<2*n;d++)r[d]=null,i[d]=null;return f},o(Point,a.BasePoint),ShortCurve.prototype.point=function(e,t,r){return new Point(this,e,t,r)},ShortCurve.prototype.pointFromJSON=function(e,t){return Point.fromJSON(this,e,t)},Point.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(e,t,r){function obj2point(t){return e.point(t[0],t[1],r)}"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;var n=t[2];return i.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[i].concat(n.doubles.points.map(obj2point))},naf:n.naf&&{wnd:n.naf.wnd,points:[i].concat(n.naf.points.map(obj2point))}},i},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Point.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(e){return e=new s(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Point.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},o(JPoint,a.BasePoint),ShortCurve.prototype.jpoint=function(e,t,r){return new JPoint(this,e,t,r)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=i.redSub(n),f=s.redSub(o);if(0===a.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var d=a.redSqr(),u=d.redMul(a),h=i.redMul(d),c=f.redSqr().redIAdd(u).redISub(h).redISub(h),l=f.redMul(h.redISub(c)).redISub(s.redMul(u)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(c,l,p)},JPoint.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),d=f.redMul(o),u=r.redMul(f),h=a.redSqr().redIAdd(d).redISub(u).redISub(u),c=a.redMul(u.redISub(h)).redISub(n.redMul(d)),l=this.z.redMul(o);return this.curve.jpoint(h,c,l)},JPoint.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}for(var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,f=a.redSqr().redSqr(),d=o.redAdd(o),r=0;r<e;r++){var u=s.redSqr(),h=d.redSqr(),c=h.redSqr(),l=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(f)),p=s.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),v=l.redMul(y);v=v.redIAdd(v).redISub(c);var m=d.redMul(a);r+1<e&&(f=f.redMul(c)),s=b,a=m,d=v}return this.curve.jpoint(s,d.redMul(n),a)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),f=a.redSqr().redISub(o).redISub(o),d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),e=f,t=a.redMul(o.redISub(f)).redISub(d),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),c=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(u).redISub(c);l=l.redIAdd(l);var p=u.redAdd(u).redIAdd(u),b=p.redSqr(),y=c.redIAdd(c);y=y.redIAdd(y),y=y.redIAdd(y),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(y),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=a.redSqr().redISub(o).redISub(o);e=f;var d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),t=a.redMul(o.redISub(f)).redISub(d),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),c=this.x.redMul(h),l=this.x.redSub(u).redMul(this.x.redAdd(u));l=l.redAdd(l).redIAdd(l);var p=c.redIAdd(c);p=p.redIAdd(p);var b=p.redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var y=h.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y),t=l.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},JPoint.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),f=t.redAdd(t);f=f.redIAdd(f);var d=f.redMul(o),u=a.redSqr().redISub(d.redAdd(d)),h=d.redISub(u),c=o.redSqr();c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var l=a.redMul(h).redISub(c),p=r.redAdd(r).redMul(i);return this.curve.jpoint(u,l,p)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var a=o.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var d=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(f),u=t.redMul(d);u=u.redIAdd(u),u=u.redIAdd(u);var h=this.x.redMul(a).redISub(u);h=h.redIAdd(h),h=h.redIAdd(h);var c=this.y.redMul(d.redMul(f.redISub(d)).redISub(o.redMul(a)));c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var l=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,c,l)},JPoint.prototype.mul=function(e,t){return e=new s(e,t),this.curve._wnafMul(this,e)},JPoint.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},1385:function(e,t,r){"use strict";function MontCurve(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var i=r(1382),n=r(1380),s=r(821),o=i.base,a=r(1377),f=a.utils;s(MontCurve,o),e.exports=MontCurve,MontCurve.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t),n=i.redSqrt();return 0===n.redSqr().cmp(i)},s(Point,o.BasePoint),MontCurve.prototype.decodePoint=function(e,t){return this.point(f.toArray(e,t),1)},MontCurve.prototype.point=function(e,t){return new Point(this,e,t)},MontCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(e,t){return new Point(e,t[0],t[1]||e.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),r=this.x.redSub(this.z),i=r.redSqr(),n=t.redSub(i),s=t.redMul(i),o=n.redMul(i.redAdd(this.curve.a24.redMul(n)));return this.curve.point(s,o)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(r),a=n.redMul(i),f=t.z.redMul(o.redAdd(a).redSqr()),d=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(f,d)},Point.prototype.mul=function(e){for(var t=e.clone(),r=this,i=this.curve.point(null,null),n=this,s=[];0!==t.cmpn(0);t.iushrn(1))s.push(t.andln(1));for(var o=s.length-1;o>=0;o--)0===s[o]?(r=r.diffAdd(i,n),i=i.dbl()):(i=r.diffAdd(i,n),r=r.dbl());return i},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},1386:function(e,t,r){"use strict";function EdwardsCurve(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&(0|e.a)===-1,this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new s(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),f(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function Point(e,t,r,i,n){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(t,16),this.y=new s(r,16),this.z=i?new s(i,16):this.curve.one,this.t=n&&new s(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var i=r(1382),n=r(1377),s=r(1380),o=r(821),a=i.base,f=n.utils.assert;o(EdwardsCurve,a),e.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},EdwardsCurve.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},EdwardsCurve.prototype.jpoint=function(e,t,r,i){return this.point(e,t,r,i)},EdwardsCurve.prototype.pointFromX=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),n=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=i.redMul(n.redInvm()).redSqrt(),a=o.fromRed().isOdd();return(t&&!a||!t&&a)&&(o=o.redNeg()),this.point(e,o)},EdwardsCurve.prototype.pointFromY=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.one),n=r.redMul(this.d).redAdd(this.one),o=i.redMul(n.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},EdwardsCurve.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),i=t.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===i.cmp(n)},o(Point,a.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)},EdwardsCurve.prototype.point=function(e,t,r,i){return new Point(this,e,t,r,i)},Point.fromJSON=function(e,t){return new Point(e,t[0],t[1],t[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},Point.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=i.redAdd(t),o=s.redSub(r),a=i.redSub(t),f=n.redMul(o),d=s.redMul(a),u=n.redMul(a),h=o.redMul(s);return this.curve.point(f,d,h,u)},Point.prototype._projDbl=function(){var e,t,r,i=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var o=this.curve._mulA(n),a=o.redAdd(s);if(this.zOne)e=i.redSub(n).redSub(s).redMul(a.redSub(this.curve.two)),t=a.redMul(o.redSub(s)),r=a.redSqr().redSub(a).redSub(a);else{var f=this.z.redSqr(),d=a.redSub(f).redISub(f);e=i.redSub(n).redISub(s).redMul(d),t=a.redMul(o.redSub(s)),r=a.redMul(d)}}else{var o=n.redAdd(s),f=this.curve._mulC(this.c.redMul(this.z)).redSqr(),d=o.redSub(f).redSub(f);e=this.curve._mulC(i.redISub(o)).redMul(d),t=this.curve._mulC(o).redMul(n.redISub(s)),r=o.redMul(d)}return this.curve.point(e,t,r)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=n.redSub(i),a=n.redAdd(i),f=r.redAdd(t),d=s.redMul(o),u=a.redMul(f),h=s.redMul(f),c=o.redMul(a);return this.curve.point(d,u,c,h)},Point.prototype._projAdd=function(e){var t,r,i=this.z.redMul(e.z),n=i.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),f=n.redSub(a),d=n.redAdd(a),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),h=i.redMul(f).redMul(u);return this.curve.twisted?(t=i.redMul(d).redMul(o.redSub(this.curve._mulA(s))),r=f.redMul(d)):(t=i.redMul(d).redMul(o.redSub(s)),r=this.curve._mulC(f).redMul(d)),this.curve.point(h,t,r)},Point.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Point.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2)},Point.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},1387:[2476,1377,1388],1388:911,1389:function(e,t,r){"use strict";function EC(e){return this instanceof EC?("string"==typeof e&&(a(s.curves.hasOwnProperty(e),"Unknown curve "+e),e=s.curves[e]),e instanceof s.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),void(this.hash=e.hash||e.curve.hash)):new EC(e)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=r(1380),s=r(1377),o=s.utils,a=o.assert,f=r(1390),d=r(1391);e.exports=EC,EC.prototype.keyPair=function(e){return new f(this,e)},EC.prototype.keyFromPrivate=function(e,t){return f.fromPrivate(this,e,t)},EC.prototype.keyFromPublic=function(e,t){return f.fromPublic(this,e,t)},EC.prototype.genKeyPair=function(e){e||(e={});for(var t=new s.hmacDRBG({hash:this.hash,pers:e.pers,entropy:e.entropy||s.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new n(2));;){var o=new n(t.generate(r));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}},EC.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC.prototype.sign=function(e,t,r,o){"object"===("undefined"==typeof r?"undefined":i(r))&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),f=t.getPrivate().toArray(),u=f.length;u<a;u++)f.unshift(0);for(var h=e.toArray(),u=h.length;u<a;u++)h.unshift(0);for(var c=new s.hmacDRBG({hash:this.hash,entropy:f,nonce:h}),l=this.n.sub(new n(1));;){var p=new n(c.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(l)>=0)){var b=this.g.mul(p);if(!b.isInfinity()){var y=b.getX(),v=y.umod(this.n);if(0!==v.cmpn(0)){var m=p.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(m=m.umod(this.n),0!==m.cmpn(0)){o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m));var g=(b.getY().isOdd()?1:0)|(0!==y.cmp(v)?2:0);return new d({r:v,s:m,recoveryParam:g})}}}}}},EC.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i),t=new d(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),f=a.mul(e).umod(this.n),u=a.mul(s).umod(this.n),h=this.g.mulAdd(f,r.getPublic(),u);return!h.isInfinity()&&0===h.getX().umod(this.n).cmp(s)},EC.prototype.recoverPubKey=function(e,t,r,i){a((3&r)===r,"The recovery param is more than two bits"),t=new d(t,i);var s=this.n,o=new n(e),f=t.r,u=t.s,h=1&r,c=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");f=this.curve.pointFromX(f,h);var l=o.neg().umod(s),p=t.r.invm(s);return f.mul(u).add(this.g.mul(l)).mul(p)},EC.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new d(t,i),null!==t.recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var s=this.recoverPubKey(e,t,n);if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}},1390:function(e,t,r){"use strict";function KeyPair(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var i=r(1380);e.exports=KeyPair,KeyPair.fromPublic=function(e,t,r){return t instanceof KeyPair?t:new KeyPair(e,{pub:t,pubEnc:r})},KeyPair.fromPrivate=function(e,t,r){return t instanceof KeyPair?t:new KeyPair(e,{priv:t,privEnc:r})},KeyPair.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(e,t){return e.x||e.y?void(this.pub=this.ec.curve.point(e.x,e.y)):void(this.pub=this.ec.curve.decodePoint(e,t))},KeyPair.prototype.derive=function(e){return e.mul(this.priv).getX()},KeyPair.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},1391:function(e,t,r){"use strict";function Signature(e,t){return e instanceof Signature?e:void(this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),null!==e.recoveryParam?this.recoveryParam=e.recoveryParam:this.recoveryParam=null))}function Position(){this.place=0}function getLength(e,t){var r=e[t.place++];if(!(128&r))return r;for(var i=15&r,n=0,s=0,o=t.place;s<i;s++,o++)n<<=8,n|=e[o];return t.place=o,n}function rmPadding(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength(e,t){if(t<128)return void e.push(t);var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}var i=r(1380),n=r(1377),s=n.utils,o=s.assert;e.exports=Signature,Signature.prototype._importDER=function(e,t){e=s.toArray(e,t);var r=new Position;if(48!==e[r.place++])return!1;var n=getLength(e,r);if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=getLength(e,r),a=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var f=getLength(e,r);if(e.length!==f+r.place)return!1;var d=e.slice(r.place,f+r.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===d[0]&&128&d[1]&&(d=d.slice(1)),this.r=new i(a),this.s=new i(d),this.recoveryParam=null,!0},Signature.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding(t),r=rmPadding(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];constructLength(i,t.length),i=i.concat(t),i.push(2),constructLength(i,r.length);var n=i.concat(r),o=[48];return constructLength(o,n.length),o=o.concat(n),s.encode(o,e)}},1392:[2477,1377,1393,1394],1393:function(e,t,r){"use strict";function KeyPair(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}var i=r(1377),n=i.utils,s=n.assert,o=n.parseBytes,a=n.cachedProperty;KeyPair.fromPublic=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{pub:t})},KeyPair.fromSecret=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{secret:t})},KeyPair.prototype.secret=function(){return this._secret},a(KeyPair,function(){return this.eddsa.encodePoint(this.pub())}),a(KeyPair,function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(KeyPair,function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i}),a(KeyPair,function(){return this.eddsa.decodeInt(this.privBytes())}),a(KeyPair,function(){return this.eddsa.hash().update(this.secret()).digest()}),a(KeyPair,function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(e){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},KeyPair.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},KeyPair.prototype.getSecret=function(e){return s(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},KeyPair.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=KeyPair},1394:function(e,t,r){"use strict";function Signature(e,t){this.eddsa=e,"object"!==("undefined"==typeof t?"undefined":i(t))&&(t=d(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=r(1380),s=r(1377),o=s.utils,a=o.assert,f=o.cachedProperty,d=o.parseBytes;f(Signature,function(){return this.eddsa.decodeInt(this.Sencoded())}),f(Signature,function(){return this.eddsa.decodePoint(this.Rencoded())}),f(Signature,function(){return this.eddsa.encodePoint(this.R())}),f(Signature,function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},e.exports=Signature},1396:function(e,t,r){(function(t){"use strict";function genSync(){var e=void 0;do e=i.randomBytes(32);while(!n.privateKeyVerify(e));return a.fromJSON({priv:e})}function fromJSON(e){function signSync(e){if(!r)throw new Error("this is a public key");var i=n.sign(e,r);return i=n.signatureNormalize(i.signature),new t(n.signatureExport(i)).toString("hex")}function verifySync(e,r){return"string"==typeof r&&(r=new t(r,"hex")),r=n.signatureImport(r),n.verify(e,r,a)}function pubFromPriv(e){return n.publicKeyCreate(e)}function toJSON(e){var t={type:"ec",curve:"secp256k1",pub:f,fingerprint:u};return e&&(t.priv=d),t}if(!e.priv&&!e.pub)throw new Error('expected "priv" or "pub"');var r="string"==typeof e.priv?new t(e.priv,"hex"):e.priv,a="string"==typeof e.pub?new t(e.pub,"hex"):e.pub||pubFromPriv(r),f=a.toString("hex"),d=r&&n.privateKeyExport(r),u=i.createHash("sha256").update(a).digest("hex");return s.wrap({type:o,signSync:signSync,verifySync:verifySync,hasDeterministicSig:!1,pubKeyString:f,fingerprint:u,pub:a,priv:r,toJSON:toJSON})}var i=r(818),n=r(1167),s=r(1340),o="ec",a=s.wrap({type:o,genSync:genSync,fromJSON:fromJSON});e.exports=a}).call(t,r(807).Buffer)},1397:function(e,t,r){(function(t){"use strict";function genSync(){var e=n.keyPair();return a.fromJSON({priv:e})}function fromJSON(e){function pubFromPriv(e){var r=e.secretKey||n.keyPair.fromSecretKey(e).publicKey;return new t(r)}function toJSON(e){var t={type:"ec",curve:"curve25519",pub:d,fingerprint:h};return e&&(t.priv=u),t}if(!e.priv&&!e.pub)throw new Error('expected "priv" or "pub"');var r="string"==typeof e.priv?new t(e.priv,"hex"):e.priv&&e.priv.secretKey?new t(e.priv.secretKey):e.priv,a=r&&toUint8Array(r),f="string"==typeof e.pub?new t(e.pub,"hex"):e.pub||e.priv&&e.priv.publicKey&&new t(e.priv.publicKey)||pubFromPriv(r),d=f.toString("hex"),u=r&&r.toString("hex"),h=i.createHash("sha256").update(f).digest("hex");return s.wrap({type:o,pubKeyString:d,fingerprint:h,pub:f,priv:r,ecdh:function(e){if(!r)throw new Error("this is a public key!");e=toUint8Array(e);var i=n.before(e,a);return new t(i)},toJSON:toJSON})}function toUint8Array(e){if(e instanceof Uint8Array)return e;if(!t.isBuffer(e))throw new Error("expected Buffer or Uint8Array");for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e[i];
return r}var i=r(818),n=r(1398).box,s=r(1340),o="ec",a=s.wrap({type:o,genSync:genSync,fromJSON:fromJSON});e.exports=a}).call(t,r(807).Buffer)},1400:function(e,t,r){"use strict";function genSync(e){var r=e.networkName||t.DEFAULT_NETWORK;return o.fromJSON({priv:i.ECKey.makeRandom(),networkName:r})}function fromJSON(e){function signSync(e){if(!a)throw new Error("this is a public key");return o.sign(e).toDER()}function verifySync(e,t){return c.pub.verify(e,i.ECSignature.fromDER(t))}function toJSON(e){var r={type:s,networkName:t,fingerprint:c.fingerprint,pub:c.pubKeyString};return e&&(r.priv=d),r}if(!e.priv&&!e.pub)throw new Error('expected "priv" or "pub"');var t=e.networkName,r=i.networks[t];if(!r)throw new Error('invalid "networkName"');var o=void 0,a=e.priv,f=e.pub,d=void 0,u=void 0;"string"==typeof a?(d=a,o=i.ECKey.fromWIF(a)):a?(d=a.toWIF(r),o=a):"string"==typeof f?(u=f,o=i.ECPubKey.fromHex(f),f=o):o=f;var h=void 0,c={type:s,signSync:signSync,verifySync:verifySync,privKeyString:d,toJSON:toJSON,hasDeterministicSig:!0,wif:d};return Object.defineProperty(c,"pub",{enumerable:!0,get:function(){return o.pub||o}}),Object.defineProperty(c,"pubKeyString",{enumerable:!0,get:function(){return u||(u=c.pub.toHex()),u}}),Object.defineProperty(c,"fingerprint",{enumerable:!0,get:function(){return h||(h=c.pub.getAddress(r).toString()),h}}),n.wrap(c)}var i=(r(818),r(1297)),n=r(1340),s="bitcoin",o=n.wrap({type:s,genSync:genSync,fromJSON:fromJSON});e.exports=t=o,t.DEFAULT_NETWORK="bitcoin"},2051:function(e,t,r){(function(i){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(2052),a=_interopRequireDefault(o),f=r(2054),d=function(){function _default(){_classCallCheck(this,_default),this._store=null,this._rootKey=null,this._chainKeys={send:null,recv:null},this._identityKeys={send:null,priv:null,recv:null},this._ratchetKeys={send:null,priv:null,recv:null},this._counters={send:null,recv:null},this._prevCounter=null,this._ratchet=null,this._skippedMessageKeys=[],this._stagedSkippedMessageKeys=[],this._role=null,this._baseKeys=null,this._theirBaseKey=null}return s(_default,[{key:"storage",value:function(e){return this._store=function(t){return new Promise(function(r,i){e(t,function(e,t){return e?i(e):r(t)})})},this}},{key:"serialize",value:function(){var e={rootKey:this._rootKey.toString("hex"),chainKeys:Object.assign({},this._chainKeys),identityKeys:Object.assign({},this._identityKeys),ratchetKeys:Object.assign({},this._ratchetKeys),counters:this._counters,prevCounter:this._prevCounter,role:this._role,ratchet:this._ratchet,skippedMessageKeys:this._skippedMessageKeys.slice(0)};return null!==e.chainKeys.send&&(e.chainKeys.send=e.chainKeys.send.toString("hex")),null!==e.chainKeys.recv&&(e.chainKeys.recv=e.chainKeys.recv.toString("hex")),["identityKeys","ratchetKeys"].forEach(function(t){["send","priv","recv"].forEach(function(r){null!==e[t][r]&&(e[t][r]=f.typedArray.toBase64(e[t][r]))})}),e}},{key:"resume",value:function(e){var t=this;return this._rootKey=new i(e.rootKey,"hex"),null!==e.chainKeys.send&&(this._chainKeys.send=new i(e.chainKeys.send,"hex")),null!==e.chainKeys.recv&&(this._chainKeys.recv=new i(e.chainKeys.recv,"hex")),["identityKeys","ratchetKeys"].forEach(function(r){["send","priv","recv"].forEach(function(i){null!==e[r][i]&&(t["_"+r][i]=a["default"].util.decodeBase64(e[r][i]))})}),this._counters=e.counters,this._prevCounter=e.prevCounter,this._role=e.role,this._ratchet=e.ratchet,this._skippedMessageKeys=e.skippedMessageKeys,this}},{key:"identity",value:function(e){if(!(e.hasOwnProperty("publicKey")&&e.hasOwnProperty("secretKey")&&e.publicKey instanceof Uint8Array&&e.secretKey instanceof Uint8Array))throw new Error("identityKeys: invalid key pair");return this._identityKeys.send=e.publicKey,this._identityKeys.priv=e.secretKey,this}},{key:"handshake",value:function(e){if(!(e.hasOwnProperty("publicKey")&&e.hasOwnProperty("secretKey")&&e.publicKey instanceof Uint8Array&&e.secretKey instanceof Uint8Array))throw new Error("baseKeys: invalid key pair");return this._baseKeys=e,this}},{key:"theirHandshake",value:function(e){if(!e instanceof Uint8Array)throw new Error("theirBaseKey: Expected Uint8Array for publicKey");return this._theirBaseKey=e,this}},{key:"setRole",value:function(e){if("alice"===e||"initiator"===e)this._role=1;else{if("bob"!==e&&"receiver"!==e)throw new Error("setRole: Unexpected role assigned: "+e);this._role=2}return this}},{key:"theirIdentity",value:function(e){if(!e instanceof Uint8Array)throw new Error("theirIdentityKey: Expected Uint8Array");return this._identityKeys.recv=e,this}},{key:"computeMasterKey",value:function(){var e=this;if(!this._role)throw new Error("computeMasterKey: Role must be assigned first!");var t=null;t=1===this._role?[f.crypto.dh(this._theirBaseKey,this._identityKeys.priv),f.crypto.dh(this._identityKeys.recv,this._baseKeys.secretKey),f.crypto.dh(this._theirBaseKey,this._baseKeys.secretKey)]:[f.crypto.dh(this._identityKeys.recv,this._baseKeys.secretKey),f.crypto.dh(this._theirBaseKey,this._identityKeys.priv),f.crypto.dh(this._theirBaseKey,this._baseKeys.secretKey)];var r=i.concat(t.map(function(e){return f.typedArray.toBuffer(e)})),n=f.crypto.kdf(r,"",100,64);return this._rootKey=n.slice(0,32),this._counters.send=0,this._counters.recv=0,this._prevCounter=0,1===this._role?(this._chainKeys.recv=n.slice(32),this._ratchetKeys.send=null,this._ratchetKeys.priv=null,this._ratchetKeys.recv=this._theirBaseKey,this._ratchet=!0):(this._chainKeys.send=n.slice(32),this._ratchetKeys.send=this._baseKeys.publicKey,this._ratchetKeys.priv=this._baseKeys.secretKey,this._ratchetKeys.recv=null,this._ratchet=!1),new Promise(function(t,r){return e._store?void e._store(e.serialize()).then(function(){return t()})["catch"](function(e){return r(e)}):t()})}},{key:"encrypt",value:function(e){var t=this;if(this._ratchet===!0){var r=f.keys.newPair();this._ratchetKeys.send=r.publicKey,this._ratchetKeys.priv=r.secretKey;var i=f.crypto.kdf(f.typedArray.toBuffer(f.crypto.dh(this._ratchetKeys.recv,this._ratchetKeys.priv)),this._rootKey,100,64);this._rootKey=i.slice(0,32),this._chainKeys.send=i.slice(32),this._prevCounter=this._counters.send,this._counters.send=0,this._ratchet=!1}return new Promise(function(r,i){var n=f.crypto.hmac(t._chainKeys.send,"0"),s=a["default"].randomBytes(a["default"].secretbox.nonceLength),o=a["default"].secretbox(a["default"].util.decodeUTF8(e),s,f.buffer.toTypedArray(n)),d={ephemeralKey:f.buffer.toTypedArray(t._ratchetKeys.send),counter:t._counters.send,previousCounter:t._prevCounter,ciphertext:f.buffer.toTypedArray(o),nonce:f.buffer.toTypedArray(s)};return t._counters.send=t._counters.send+1,t._chainKeys.send=f.crypto.hmac(t._chainKeys.send,"1"),t._store?void t._store(t.serialize()).then(function(){return r(d)})["catch"](function(e){return i(e)}):r(d)})}},{key:"decrypt",value:function(e){var t=this;return new Promise(function(r,s){if(!(e&&e.hasOwnProperty("ephemeralKey")&&e.hasOwnProperty("counter")&&e.hasOwnProperty("previousCounter")&&e.hasOwnProperty("ciphertext")&&e.hasOwnProperty("nonce")&&32===e.ephemeralKey.length&&24===e.nonce.length&&e.ciphertext.length>0)||isNaN(e.counter)||isNaN(e.previousCounter))return s(new Error("decrypt: Message object invalid."));for(var o=e.counter,d=void 0,u=void 0,h=function(){var n=new i(t._skippedMessageKeys[c],"hex");d=a["default"].secretbox.open(e.ciphertext,e.nonce,f.buffer.toTypedArray(n));var o=a["default"].util.encodeUTF8(d);if(d!==!1)return t.consumeMessageKey(c),t._store?{v:t._store(t.serialize()).then(function(){return r({cleartext:o,outOfOrder:!0})})["catch"](function(e){return s(e)})}:{v:r({cleartext:o,outOfOrder:!0})}},c=0;c<t._skippedMessageKeys.length;c++){var l=h();if("object"===("undefined"==typeof l?"undefined":n(l)))return l.v}if(null!==t._ratchetKeys.recv&&f.buffer.equals(t._ratchetKeys.recv,e.ephemeralKey)){var p=t.stageSkippedMessageKeys(t._counters.recv,o,t._chainKeys.recv),b=p.messageKey;if(u=p.chainKey,d=a["default"].secretbox.open(e.ciphertext,e.nonce,f.buffer.toTypedArray(b)),d===!1)return t.cleanStagedKeys(),s(new Error("Undecryptable message."))}else{if(t._ratchet===!0)throw new Error("Undecryptable message, ratchet broken.");var y=e.previousCounter,v=e.ephemeralKey;t.stageSkippedMessageKeys(t._counters.recv,y,t._chainKeys.recv);var m=f.crypto.kdf(f.typedArray.toBuffer(f.crypto.dh(v,t._ratchetKeys.priv)),t._rootKey,100,64),g=m.slice(0,32);u=m.slice(32);var p=t.stageSkippedMessageKeys(0,o,u),b=p.messageKey;if(u=p.chainKey,d=a["default"].secretbox.open(e.ciphertext,e.nonce,f.buffer.toTypedArray(b)),d===!1)return t.cleanStagedKeys(),s(new Error("Undecryptable message."));t._rootKey=g,t._ratchetKeys.recv=v,t._ratchetKeys.send=null,t._ratchetKeys.priv=null,t._ratchet=!0}t.commitStagedKeys(),t._counters.recv=o+1,t._chainKeys.recv=u;var w=a["default"].util.encodeUTF8(d);return t._store?void t._store(t.serialize()).then(function(){return r({cleartext:w})})["catch"](function(e){return s(e)}):r({cleartext:w})})}},{key:"stageSkippedMessageKeys",value:function(e,t,r){if(i.isBuffer(r)){var n=r;0!==e&&(n=f.crypto.hmac(n,"1"));var s=f.crypto.hmac(n,"0");this.stageKey(s);for(var o=e;o<t;o++)n=f.crypto.hmac(n,"1"),s=f.crypto.hmac(n,"0"),this.stageKey(s);return this._stagedSkippedMessageKeys.pop(),{messageKey:s,chainKey:n}}}},{key:"stageKey",value:function(e){var t=e;i.isBuffer(t)&&(t=t.toString("hex")),this._stagedSkippedMessageKeys.push(t)}},{key:"cleanStagedKeys",value:function(){this._stagedSkippedMessageKeys=[]}},{key:"commitStagedKeys",value:function(){this._skippedMessageKeys=this._skippedMessageKeys.concat(this._stagedSkippedMessageKeys)}},{key:"consumeMessageKey",value:function(e){this._skippedMessageKeys.splice(e,1)}}]),_default}();t["default"]=d,e.exports=t["default"]}).call(t,r(807).Buffer)},2052:function(e,t,r){(function(t){"use strict";!function(e){function ts64(e,t,r,i){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=i>>24&255,e[t+5]=i>>16&255,e[t+6]=i>>8&255,e[t+7]=255&i}function vn(e,t,r,i,n){var s,o=0;for(s=0;s<n;s++)o|=e[t+s]^r[i+s];return(1&o-1>>>8)-1}function crypto_verify_16(e,t,r,i){return vn(e,t,r,i,16)}function crypto_verify_32(e,t,r,i){return vn(e,t,r,i,32)}function core_salsa20(e,t,r,i){for(var n,s=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,d=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,c=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,g=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,_=s,S=o,M=a,A=f,E=d,N=u,B=h,I=c,P=l,x=p,R=b,k=y,C=v,K=m,T=g,L=w,D=0;D<20;D+=2)n=_+C|0,E^=n<<7|n>>>25,n=E+_|0,P^=n<<9|n>>>23,n=P+E|0,C^=n<<13|n>>>19,n=C+P|0,_^=n<<18|n>>>14,n=N+S|0,x^=n<<7|n>>>25,n=x+N|0,K^=n<<9|n>>>23,n=K+x|0,S^=n<<13|n>>>19,n=S+K|0,N^=n<<18|n>>>14,n=R+B|0,T^=n<<7|n>>>25,n=T+R|0,M^=n<<9|n>>>23,n=M+T|0,B^=n<<13|n>>>19,n=B+M|0,R^=n<<18|n>>>14,n=L+k|0,A^=n<<7|n>>>25,n=A+L|0,I^=n<<9|n>>>23,n=I+A|0,k^=n<<13|n>>>19,n=k+I|0,L^=n<<18|n>>>14,n=_+A|0,S^=n<<7|n>>>25,n=S+_|0,M^=n<<9|n>>>23,n=M+S|0,A^=n<<13|n>>>19,n=A+M|0,_^=n<<18|n>>>14,n=N+E|0,B^=n<<7|n>>>25,n=B+N|0,I^=n<<9|n>>>23,n=I+B|0,E^=n<<13|n>>>19,n=E+I|0,N^=n<<18|n>>>14,n=R+x|0,k^=n<<7|n>>>25,n=k+R|0,P^=n<<9|n>>>23,n=P+k|0,x^=n<<13|n>>>19,n=x+P|0,R^=n<<18|n>>>14,n=L+T|0,C^=n<<7|n>>>25,n=C+L|0,K^=n<<9|n>>>23,n=K+C|0,T^=n<<13|n>>>19,n=T+K|0,L^=n<<18|n>>>14;_=_+s|0,S=S+o|0,M=M+a|0,A=A+f|0,E=E+d|0,N=N+u|0,B=B+h|0,I=I+c|0,P=P+l|0,x=x+p|0,R=R+b|0,k=k+y|0,C=C+v|0,K=K+m|0,T=T+g|0,L=L+w|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=S>>>0&255,e[5]=S>>>8&255,e[6]=S>>>16&255,e[7]=S>>>24&255,e[8]=M>>>0&255,e[9]=M>>>8&255,e[10]=M>>>16&255,e[11]=M>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=N>>>0&255,e[21]=N>>>8&255,e[22]=N>>>16&255,e[23]=N>>>24&255,e[24]=B>>>0&255,e[25]=B>>>8&255,e[26]=B>>>16&255,e[27]=B>>>24&255,e[28]=I>>>0&255,e[29]=I>>>8&255,e[30]=I>>>16&255,e[31]=I>>>24&255,e[32]=P>>>0&255,e[33]=P>>>8&255,e[34]=P>>>16&255,e[35]=P>>>24&255,e[36]=x>>>0&255,e[37]=x>>>8&255,e[38]=x>>>16&255,e[39]=x>>>24&255,e[40]=R>>>0&255,e[41]=R>>>8&255,e[42]=R>>>16&255,e[43]=R>>>24&255,e[44]=k>>>0&255,e[45]=k>>>8&255,e[46]=k>>>16&255,e[47]=k>>>24&255,e[48]=C>>>0&255,e[49]=C>>>8&255,e[50]=C>>>16&255,e[51]=C>>>24&255,e[52]=K>>>0&255,e[53]=K>>>8&255,e[54]=K>>>16&255,e[55]=K>>>24&255,e[56]=T>>>0&255,e[57]=T>>>8&255,e[58]=T>>>16&255,e[59]=T>>>24&255,e[60]=L>>>0&255,e[61]=L>>>8&255,e[62]=L>>>16&255,e[63]=L>>>24&255}function core_hsalsa20(e,t,r,i){for(var n,s=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,d=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,c=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,g=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,_=s,S=o,M=a,A=f,E=d,N=u,B=h,I=c,P=l,x=p,R=b,k=y,C=v,K=m,T=g,L=w,D=0;D<20;D+=2)n=_+C|0,E^=n<<7|n>>>25,n=E+_|0,P^=n<<9|n>>>23,n=P+E|0,C^=n<<13|n>>>19,n=C+P|0,_^=n<<18|n>>>14,n=N+S|0,x^=n<<7|n>>>25,n=x+N|0,K^=n<<9|n>>>23,n=K+x|0,S^=n<<13|n>>>19,n=S+K|0,N^=n<<18|n>>>14,n=R+B|0,T^=n<<7|n>>>25,n=T+R|0,M^=n<<9|n>>>23,n=M+T|0,B^=n<<13|n>>>19,n=B+M|0,R^=n<<18|n>>>14,n=L+k|0,A^=n<<7|n>>>25,n=A+L|0,I^=n<<9|n>>>23,n=I+A|0,k^=n<<13|n>>>19,n=k+I|0,L^=n<<18|n>>>14,n=_+A|0,S^=n<<7|n>>>25,n=S+_|0,M^=n<<9|n>>>23,n=M+S|0,A^=n<<13|n>>>19,n=A+M|0,_^=n<<18|n>>>14,n=N+E|0,B^=n<<7|n>>>25,n=B+N|0,I^=n<<9|n>>>23,n=I+B|0,E^=n<<13|n>>>19,n=E+I|0,N^=n<<18|n>>>14,n=R+x|0,k^=n<<7|n>>>25,n=k+R|0,P^=n<<9|n>>>23,n=P+k|0,x^=n<<13|n>>>19,n=x+P|0,R^=n<<18|n>>>14,n=L+T|0,C^=n<<7|n>>>25,n=C+L|0,K^=n<<9|n>>>23,n=K+C|0,T^=n<<13|n>>>19,n=T+K|0,L^=n<<18|n>>>14;e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=N>>>0&255,e[5]=N>>>8&255,e[6]=N>>>16&255,e[7]=N>>>24&255,e[8]=R>>>0&255,e[9]=R>>>8&255,e[10]=R>>>16&255,e[11]=R>>>24&255,e[12]=L>>>0&255,e[13]=L>>>8&255,e[14]=L>>>16&255,e[15]=L>>>24&255,e[16]=B>>>0&255,e[17]=B>>>8&255,e[18]=B>>>16&255,e[19]=B>>>24&255,e[20]=I>>>0&255,e[21]=I>>>8&255,e[22]=I>>>16&255,e[23]=I>>>24&255,e[24]=P>>>0&255,e[25]=P>>>8&255,e[26]=P>>>16&255,e[27]=P>>>24&255,e[28]=x>>>0&255,e[29]=x>>>8&255,e[30]=x>>>16&255,e[31]=x>>>24&255}function crypto_core_salsa20(e,t,r,i){core_salsa20(e,t,r,i)}function crypto_core_hsalsa20(e,t,r,i){core_hsalsa20(e,t,r,i)}function crypto_stream_salsa20_xor(e,t,r,i,n,s,o){var a,f,d=new Uint8Array(16),u=new Uint8Array(64);for(f=0;f<16;f++)d[f]=0;for(f=0;f<8;f++)d[f]=s[f];for(;n>=64;){for(crypto_core_salsa20(u,d,o,b),f=0;f<64;f++)e[t+f]=r[i+f]^u[f];for(a=1,f=8;f<16;f++)a=a+(255&d[f])|0,d[f]=255&a,a>>>=8;n-=64,t+=64,i+=64}if(n>0)for(crypto_core_salsa20(u,d,o,b),f=0;f<n;f++)e[t+f]=r[i+f]^u[f];return 0}function crypto_stream_salsa20(e,t,r,i,n){var s,o,a=new Uint8Array(16),f=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=i[o];for(;r>=64;){for(crypto_core_salsa20(f,a,n,b),o=0;o<64;o++)e[t+o]=f[o];for(s=1,o=8;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(crypto_core_salsa20(f,a,n,b),o=0;o<r;o++)e[t+o]=f[o];return 0}function crypto_stream(e,t,r,i,n){var s=new Uint8Array(32);crypto_core_hsalsa20(s,i,n,b);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=i[a+16];return crypto_stream_salsa20(e,t,r,o,s)}function crypto_stream_xor(e,t,r,i,n,s,o){var a=new Uint8Array(32);crypto_core_hsalsa20(a,s,o,b);for(var f=new Uint8Array(8),d=0;d<8;d++)f[d]=s[d+16];return crypto_stream_salsa20_xor(e,t,r,i,n,f,a)}function crypto_onetimeauth(e,t,r,i,n,s){var o=new y(s);return o.update(r,i,n),o.finish(e,t),0}function crypto_onetimeauth_verify(e,t,r,i,n,s){var o=new Uint8Array(16);return crypto_onetimeauth(o,0,r,i,n,s),crypto_verify_16(e,t,o,0)}function crypto_secretbox(e,t,r,i,n){var s;if(r<32)return-1;for(crypto_stream_xor(e,0,t,0,r,i,n),crypto_onetimeauth(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function crypto_secretbox_open(e,t,r,i,n){var s,o=new Uint8Array(32);if(r<32)return-1;if(crypto_stream(o,0,32,i,n),0!==crypto_onetimeauth_verify(t,16,t,32,r-32,o))return-1;for(crypto_stream_xor(e,0,t,0,r,i,n),s=0;s<32;s++)e[s]=0;return 0}function set25519(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function car25519(e){var t,r,i=1;for(t=0;t<16;t++)r=e[t]+i+65535,i=Math.floor(r/65536),e[t]=r-65536*i;e[0]+=i-1+37*(i-1)}function sel25519(e,t,r){for(var i,n=~(r-1),s=0;s<16;s++)i=n&(e[s]^t[s]),e[s]^=i,t[s]^=i}function pack25519(e,t){var r,n,s,o=i(),a=i();for(r=0;r<16;r++)a[r]=t[r];for(car25519(a),car25519(a),car25519(a),n=0;n<2;n++){for(o[0]=a[0]-65517,r=1;r<15;r++)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,sel25519(a,o,1-s)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function neq25519(e,t){var r=new Uint8Array(32),i=new Uint8Array(32);return pack25519(r,e),pack25519(i,t),crypto_verify_32(r,0,i,0)}function par25519(e){var t=new Uint8Array(32);return pack25519(t,e),1&t[0]}function unpack25519(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function A(e,t,r){for(var i=0;i<16;i++)e[i]=t[i]+r[i]}function Z(e,t,r){for(var i=0;i<16;i++)e[i]=t[i]-r[i]}function M(e,t,r){var i,n,s=0,o=0,a=0,f=0,d=0,u=0,h=0,c=0,l=0,p=0,b=0,y=0,v=0,m=0,g=0,w=0,_=0,S=0,M=0,A=0,E=0,N=0,B=0,I=0,P=0,x=0,R=0,k=0,C=0,K=0,T=0,L=r[0],D=r[1],q=r[2],O=r[3],z=r[4],j=r[5],U=r[6],F=r[7],V=r[8],Y=r[9],J=r[10],H=r[11],G=r[12],W=r[13],Z=r[14],X=r[15];i=t[0],s+=i*L,o+=i*D,a+=i*q,f+=i*O,d+=i*z,u+=i*j,h+=i*U,c+=i*F,l+=i*V,p+=i*Y,b+=i*J,y+=i*H,v+=i*G,m+=i*W,g+=i*Z,w+=i*X,i=t[1],o+=i*L,a+=i*D,f+=i*q,d+=i*O,u+=i*z,h+=i*j,c+=i*U,l+=i*F,p+=i*V,b+=i*Y,y+=i*J,v+=i*H,m+=i*G,g+=i*W,w+=i*Z,_+=i*X,i=t[2],a+=i*L,f+=i*D,d+=i*q,u+=i*O,h+=i*z,c+=i*j,l+=i*U,p+=i*F,b+=i*V,y+=i*Y,v+=i*J,m+=i*H,g+=i*G,w+=i*W,_+=i*Z,S+=i*X,i=t[3],f+=i*L,d+=i*D,u+=i*q,h+=i*O,c+=i*z,l+=i*j,p+=i*U,b+=i*F,y+=i*V,v+=i*Y,m+=i*J,g+=i*H,w+=i*G,_+=i*W,S+=i*Z,M+=i*X,i=t[4],d+=i*L,u+=i*D,h+=i*q,c+=i*O,l+=i*z,p+=i*j,b+=i*U,y+=i*F,v+=i*V,m+=i*Y,g+=i*J,w+=i*H,_+=i*G,S+=i*W,M+=i*Z,A+=i*X,i=t[5],u+=i*L,h+=i*D,c+=i*q,l+=i*O,p+=i*z,b+=i*j,y+=i*U,v+=i*F,m+=i*V,g+=i*Y,w+=i*J,_+=i*H,S+=i*G,M+=i*W,A+=i*Z,E+=i*X,i=t[6],h+=i*L,c+=i*D,l+=i*q,p+=i*O,b+=i*z,y+=i*j,v+=i*U,m+=i*F,g+=i*V,w+=i*Y,_+=i*J,S+=i*H,M+=i*G,A+=i*W,E+=i*Z,N+=i*X,i=t[7],c+=i*L,l+=i*D,p+=i*q,b+=i*O,y+=i*z,v+=i*j,m+=i*U,g+=i*F,w+=i*V,_+=i*Y,S+=i*J,M+=i*H,A+=i*G,E+=i*W,N+=i*Z,B+=i*X,i=t[8],l+=i*L,p+=i*D,b+=i*q,y+=i*O,v+=i*z,m+=i*j,g+=i*U,w+=i*F,_+=i*V,S+=i*Y,M+=i*J,A+=i*H,E+=i*G,N+=i*W,B+=i*Z,I+=i*X,i=t[9],p+=i*L,b+=i*D,y+=i*q,v+=i*O,m+=i*z,g+=i*j,w+=i*U,_+=i*F,S+=i*V,M+=i*Y,A+=i*J,E+=i*H,N+=i*G,B+=i*W,I+=i*Z,P+=i*X,i=t[10],b+=i*L,y+=i*D,v+=i*q,m+=i*O,g+=i*z,w+=i*j,_+=i*U,S+=i*F,M+=i*V,A+=i*Y,E+=i*J,N+=i*H,B+=i*G,I+=i*W,P+=i*Z,x+=i*X,i=t[11],y+=i*L,v+=i*D,m+=i*q,g+=i*O,w+=i*z,_+=i*j,S+=i*U,M+=i*F,A+=i*V,E+=i*Y,N+=i*J,B+=i*H,I+=i*G,P+=i*W,x+=i*Z,R+=i*X,i=t[12],v+=i*L,m+=i*D,g+=i*q,w+=i*O,_+=i*z,S+=i*j,M+=i*U,A+=i*F,E+=i*V,N+=i*Y,B+=i*J,I+=i*H,P+=i*G,x+=i*W,R+=i*Z,k+=i*X,i=t[13],m+=i*L,g+=i*D,w+=i*q,_+=i*O,S+=i*z,M+=i*j,A+=i*U,E+=i*F,N+=i*V,B+=i*Y,I+=i*J,P+=i*H,x+=i*G,R+=i*W,k+=i*Z,C+=i*X,i=t[14],g+=i*L,w+=i*D,_+=i*q,S+=i*O,M+=i*z,A+=i*j,E+=i*U,N+=i*F,B+=i*V,I+=i*Y,P+=i*J,x+=i*H,R+=i*G,k+=i*W,C+=i*Z,K+=i*X,i=t[15],w+=i*L,_+=i*D,S+=i*q,M+=i*O,A+=i*z,E+=i*j,N+=i*U,B+=i*F,I+=i*V,P+=i*Y,x+=i*J,R+=i*H,k+=i*G,C+=i*W,K+=i*Z,T+=i*X,s+=38*_,o+=38*S,a+=38*M,f+=38*A,d+=38*E,u+=38*N,h+=38*B,c+=38*I,l+=38*P,p+=38*x,b+=38*R,y+=38*k,v+=38*C,m+=38*K,g+=38*T,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=w+n+65535,n=Math.floor(i/65536),w=i-65536*n,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=w+n+65535,n=Math.floor(i/65536),w=i-65536*n,s+=n-1+37*(n-1),e[0]=s,e[1]=o,e[2]=a,e[3]=f,e[4]=d,e[5]=u,e[6]=h,e[7]=c,e[8]=l,e[9]=p,e[10]=b,e[11]=y,e[12]=v,e[13]=m,e[14]=g,e[15]=w}function S(e,t){M(e,t,t)}function inv25519(e,t){var r,n=i();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)S(n,n),2!==r&&4!==r&&M(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function pow2523(e,t){var r,n=i();for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)S(n,n),1!==r&&M(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function crypto_scalarmult(e,t,r){var n,s,o=new Uint8Array(32),a=new Float64Array(80),f=i(),u=i(),h=i(),c=i(),l=i(),p=i();for(s=0;s<31;s++)o[s]=t[s];for(o[31]=127&t[31]|64,o[0]&=248,unpack25519(a,r),s=0;s<16;s++)u[s]=a[s],c[s]=f[s]=h[s]=0;for(f[0]=c[0]=1,s=254;s>=0;--s)n=o[s>>>3]>>>(7&s)&1,sel25519(f,u,n),sel25519(h,c,n),A(l,f,h),Z(f,f,h),A(h,u,c),Z(u,u,c),S(c,l),S(p,f),M(f,h,f),M(h,u,l),A(l,f,h),Z(f,f,h),S(u,f),Z(h,c,p),M(f,h,d),A(f,f,c),M(h,h,f),M(f,c,p),M(c,u,a),S(u,l),sel25519(f,u,n),sel25519(h,c,n);for(s=0;s<16;s++)a[s+16]=f[s],a[s+32]=h[s],a[s+48]=u[s],a[s+64]=c[s];var b=a.subarray(32),y=a.subarray(16);return inv25519(b,b),M(y,y,b),pack25519(e,y),0}function crypto_scalarmult_base(e,t){return crypto_scalarmult(e,t,o)}function crypto_box_keypair(e,t){return n(t,32),crypto_scalarmult_base(e,t)}function crypto_box_beforenm(e,t,r){var i=new Uint8Array(32);return crypto_scalarmult(i,r,t),crypto_core_hsalsa20(e,s,i,b)}function crypto_box(e,t,r,i,n,s){var o=new Uint8Array(32);return crypto_box_beforenm(o,n,s),v(e,t,r,i,o)}function crypto_box_open(e,t,r,i,n,s){var o=new Uint8Array(32);return crypto_box_beforenm(o,n,s),m(e,t,r,i,o)}function crypto_hashblocks_hl(e,t,r,i){for(var n,s,o,a,f,d,u,h,c,l,p,b,y,v,m,w,_,S,M,A,E,N,B,I,P,x,R=new Int32Array(16),k=new Int32Array(16),C=e[0],K=e[1],T=e[2],L=e[3],D=e[4],q=e[5],O=e[6],z=e[7],j=t[0],U=t[1],F=t[2],V=t[3],Y=t[4],J=t[5],H=t[6],G=t[7],W=0;i>=128;){for(M=0;M<16;M++)A=8*M+W,R[M]=r[A+0]<<24|r[A+1]<<16|r[A+2]<<8|r[A+3],k[M]=r[A+4]<<24|r[A+5]<<16|r[A+6]<<8|r[A+7];for(M=0;M<80;M++)if(n=C,s=K,o=T,a=L,f=D,d=q,u=O,h=z,c=j,l=U,p=F,b=V,y=Y,v=J,m=H,w=G,E=z,N=G,B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=(D>>>14|Y<<18)^(D>>>18|Y<<14)^(Y>>>9|D<<23),N=(Y>>>14|D<<18)^(Y>>>18|D<<14)^(D>>>9|Y<<23),B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,E=D&q^~D&O,N=Y&J^~Y&H,B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,E=g[2*M],N=g[2*M+1],B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,E=R[M%16],N=k[M%16],B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,_=65535&P|x<<16,S=65535&B|I<<16,E=_,N=S,B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=(C>>>28|j<<4)^(j>>>2|C<<30)^(j>>>7|C<<25),N=(j>>>28|C<<4)^(C>>>2|j<<30)^(C>>>7|j<<25),B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,E=C&K^C&T^K&T,N=j&U^j&F^U&F,B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,h=65535&P|x<<16,w=65535&B|I<<16,E=a,N=b,B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=_,N=S,B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,a=65535&P|x<<16,b=65535&B|I<<16,K=n,T=s,L=o,D=a,q=f,O=d,z=u,C=h,U=c,F=l,V=p,Y=b,J=y,H=v,G=m,j=w,M%16===15)for(A=0;A<16;A++)E=R[A],N=k[A],B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=R[(A+9)%16],N=k[(A+9)%16],B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,_=R[(A+1)%16],S=k[(A+1)%16],E=(_>>>1|S<<31)^(_>>>8|S<<24)^_>>>7,N=(S>>>1|_<<31)^(S>>>8|_<<24)^(S>>>7|_<<25),B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,_=R[(A+14)%16],S=k[(A+14)%16],E=(_>>>19|S<<13)^(S>>>29|_<<3)^_>>>6,N=(S>>>19|_<<13)^(_>>>29|S<<3)^(S>>>6|_<<26),B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,R[A]=65535&P|x<<16,k[A]=65535&B|I<<16;E=C,N=j,B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=e[0],N=t[0],B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,e[0]=C=65535&P|x<<16,t[0]=j=65535&B|I<<16,E=K,N=U,B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=e[1],N=t[1],B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,e[1]=K=65535&P|x<<16,t[1]=U=65535&B|I<<16,E=T,N=F,B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=e[2],N=t[2],B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,e[2]=T=65535&P|x<<16,t[2]=F=65535&B|I<<16,E=L,N=V,B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=e[3],N=t[3],B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,e[3]=L=65535&P|x<<16,t[3]=V=65535&B|I<<16,E=D,N=Y,B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=e[4],N=t[4],B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,e[4]=D=65535&P|x<<16,t[4]=Y=65535&B|I<<16,E=q,N=J,B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=e[5],N=t[5],B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,e[5]=q=65535&P|x<<16,t[5]=J=65535&B|I<<16,E=O,N=H,B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=e[6],N=t[6],B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,e[6]=O=65535&P|x<<16,t[6]=H=65535&B|I<<16,E=z,N=G,B=65535&N,I=N>>>16,P=65535&E,x=E>>>16,E=e[7],N=t[7],B+=65535&N,I+=N>>>16,P+=65535&E,x+=E>>>16,I+=B>>>16,P+=I>>>16,x+=P>>>16,e[7]=z=65535&P|x<<16,t[7]=G=65535&B|I<<16,W+=128,i-=128}return i}function crypto_hash(e,t,r){var i,n=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(n[0]=1779033703,n[1]=3144134277,n[2]=1013904242,n[3]=2773480762,n[4]=1359893119,n[5]=2600822924,n[6]=528734635,n[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,crypto_hashblocks_hl(n,s,t,r),r%=128,i=0;i<r;i++)o[i]=t[a-r+i];for(o[r]=128,r=256-128*(r<112?1:0),o[r-9]=0,ts64(o,r-8,a/536870912|0,a<<3),crypto_hashblocks_hl(n,s,o,r),i=0;i<8;i++)ts64(e,8*i,n[i],s[i]);return 0}function add(e,t){var r=i(),n=i(),s=i(),o=i(),a=i(),f=i(),d=i(),u=i(),c=i();Z(r,e[1],e[0]),Z(c,t[1],t[0]),M(r,r,c),A(n,e[0],e[1]),A(c,t[0],t[1]),M(n,n,c),M(s,e[3],t[3]),M(s,s,h),M(o,e[2],t[2]),A(o,o,o),Z(a,n,r),Z(f,o,s),A(d,o,s),A(u,n,r),M(e[0],a,f),M(e[1],u,d),M(e[2],d,f),M(e[3],a,u)}function cswap(e,t,r){var i;for(i=0;i<4;i++)sel25519(e[i],t[i],r)}function pack(e,t){var r=i(),n=i(),s=i();inv25519(s,t[2]),M(r,t[0],s),M(n,t[1],s),pack25519(e,n),e[31]^=par25519(r)<<7}function scalarmult(e,t,r){var i,n;for(set25519(e[0],a),set25519(e[1],f),set25519(e[2],f),set25519(e[3],a),n=255;n>=0;--n)i=r[n/8|0]>>(7&n)&1,cswap(e,t,i),add(t,e),add(e,e),cswap(e,t,i)}function scalarbase(e,t){var r=[i(),i(),i(),i()];set25519(r[0],c),set25519(r[1],l),set25519(r[2],f),M(r[3],c,l),scalarmult(e,r,t)}function crypto_sign_keypair(e,t,r){var s,o=new Uint8Array(64),a=[i(),i(),i(),i()];for(r||n(t,32),crypto_hash(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,scalarbase(a,o),pack(e,a),s=0;s<32;s++)t[s+32]=e[s];return 0}function modL(e,t){var r,i,n,s;for(i=63;i>=32;--i){for(r=0,n=i-32,s=i-12;n<s;++n)t[n]+=r-16*t[i]*w[n-(i-32)],r=t[n]+128>>8,t[n]-=256*r;t[n]+=r,t[i]=0}for(r=0,n=0;n<32;n++)t[n]+=r-(t[31]>>4)*w[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*w[n];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function reduce(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;modL(e,r)}function crypto_sign(e,t,r,n){var s,o,a=new Uint8Array(64),f=new Uint8Array(64),d=new Uint8Array(64),u=new Float64Array(64),h=[i(),i(),i(),i()];crypto_hash(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64;var c=r+64;for(s=0;s<r;s++)e[64+s]=t[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(crypto_hash(d,e.subarray(32),r+32),reduce(d),scalarbase(h,d),pack(e,h),s=32;s<64;s++)e[s]=n[s];for(crypto_hash(f,e,r+64),reduce(f),s=0;s<64;s++)u[s]=0;for(s=0;s<32;s++)u[s]=d[s];for(s=0;s<32;s++)for(o=0;o<32;o++)u[s+o]+=f[s]*a[o];return modL(e.subarray(32),u),c}function unpackneg(e,t){var r=i(),n=i(),s=i(),o=i(),d=i(),h=i(),c=i();return set25519(e[2],f),unpack25519(e[1],t),S(s,e[1]),M(o,s,u),Z(s,s,e[2]),A(o,e[2],o),S(d,o),S(h,d),M(c,h,d),M(r,c,s),M(r,r,o),pow2523(r,r),M(r,r,s),M(r,r,o),M(r,r,o),M(e[0],r,o),S(n,e[0]),M(n,n,o),neq25519(n,s)&&M(e[0],e[0],p),S(n,e[0]),M(n,n,o),neq25519(n,s)?-1:(par25519(e[0])===t[31]>>7&&Z(e[0],a,e[0]),M(e[3],e[0],e[1]),0)}function crypto_sign_open(e,t,r,n){var s,o,a=new Uint8Array(32),f=new Uint8Array(64),d=[i(),i(),i(),i()],u=[i(),i(),i(),i()];if(o=-1,r<64)return-1;if(unpackneg(u,n))return-1;for(s=0;s<r;s++)e[s]=t[s];for(s=0;s<32;s++)e[s+32]=n[s];if(crypto_hash(f,e,r),reduce(f),scalarmult(d,u,f),scalarbase(u,t.subarray(32)),add(d,u),pack(a,d),r-=64,crypto_verify_32(t,0,a,0)){for(s=0;s<r;s++)e[s]=0;return-1}for(s=0;s<r;s++)e[s]=t[s+64];return o=r}function checkLengths(e,t){if(e.length!==_)throw new Error("bad key size");if(t.length!==E)throw new Error("bad nonce size")}function checkBoxLengths(e,t){if(e.length!==x)throw new Error("bad public key size");if(t.length!==R)throw new Error("bad secret key size")}function checkArrayTypes(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function cleanup(e){for(var t=0;t<e.length;t++)e[t]=0}var i=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=i(),f=i([1]),d=i([56129,1]),u=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),y=function(e){
this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var t,r,i,n,s,o,a,f;t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),i=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|i<<6),n=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(i>>>7|n<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(n>>>4|s<<12),this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|o<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(o>>>11|a<<5),f=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|f<<8),this.r[9]=f>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};y.prototype.blocks=function(e,t,r){for(var i,n,s,o,a,f,d,u,h,c,l,p,b,y,v,m,g,w,_,S=this.fin?0:2048,M=this.h[0],A=this.h[1],E=this.h[2],N=this.h[3],B=this.h[4],I=this.h[5],P=this.h[6],x=this.h[7],R=this.h[8],k=this.h[9],C=this.r[0],K=this.r[1],T=this.r[2],L=this.r[3],D=this.r[4],q=this.r[5],O=this.r[6],z=this.r[7],j=this.r[8],U=this.r[9];r>=16;)i=255&e[t+0]|(255&e[t+1])<<8,M+=8191&i,n=255&e[t+2]|(255&e[t+3])<<8,A+=8191&(i>>>13|n<<3),s=255&e[t+4]|(255&e[t+5])<<8,E+=8191&(n>>>10|s<<6),o=255&e[t+6]|(255&e[t+7])<<8,N+=8191&(s>>>7|o<<9),a=255&e[t+8]|(255&e[t+9])<<8,B+=8191&(o>>>4|a<<12),I+=a>>>1&8191,f=255&e[t+10]|(255&e[t+11])<<8,P+=8191&(a>>>14|f<<2),d=255&e[t+12]|(255&e[t+13])<<8,x+=8191&(f>>>11|d<<5),u=255&e[t+14]|(255&e[t+15])<<8,R+=8191&(d>>>8|u<<8),k+=u>>>5|S,h=0,c=h,c+=M*C,c+=A*(5*U),c+=E*(5*j),c+=N*(5*z),c+=B*(5*O),h=c>>>13,c&=8191,c+=I*(5*q),c+=P*(5*D),c+=x*(5*L),c+=R*(5*T),c+=k*(5*K),h+=c>>>13,c&=8191,l=h,l+=M*K,l+=A*C,l+=E*(5*U),l+=N*(5*j),l+=B*(5*z),h=l>>>13,l&=8191,l+=I*(5*O),l+=P*(5*q),l+=x*(5*D),l+=R*(5*L),l+=k*(5*T),h+=l>>>13,l&=8191,p=h,p+=M*T,p+=A*K,p+=E*C,p+=N*(5*U),p+=B*(5*j),h=p>>>13,p&=8191,p+=I*(5*z),p+=P*(5*O),p+=x*(5*q),p+=R*(5*D),p+=k*(5*L),h+=p>>>13,p&=8191,b=h,b+=M*L,b+=A*T,b+=E*K,b+=N*C,b+=B*(5*U),h=b>>>13,b&=8191,b+=I*(5*j),b+=P*(5*z),b+=x*(5*O),b+=R*(5*q),b+=k*(5*D),h+=b>>>13,b&=8191,y=h,y+=M*D,y+=A*L,y+=E*T,y+=N*K,y+=B*C,h=y>>>13,y&=8191,y+=I*(5*U),y+=P*(5*j),y+=x*(5*z),y+=R*(5*O),y+=k*(5*q),h+=y>>>13,y&=8191,v=h,v+=M*q,v+=A*D,v+=E*L,v+=N*T,v+=B*K,h=v>>>13,v&=8191,v+=I*C,v+=P*(5*U),v+=x*(5*j),v+=R*(5*z),v+=k*(5*O),h+=v>>>13,v&=8191,m=h,m+=M*O,m+=A*q,m+=E*D,m+=N*L,m+=B*T,h=m>>>13,m&=8191,m+=I*K,m+=P*C,m+=x*(5*U),m+=R*(5*j),m+=k*(5*z),h+=m>>>13,m&=8191,g=h,g+=M*z,g+=A*O,g+=E*q,g+=N*D,g+=B*L,h=g>>>13,g&=8191,g+=I*T,g+=P*K,g+=x*C,g+=R*(5*U),g+=k*(5*j),h+=g>>>13,g&=8191,w=h,w+=M*j,w+=A*z,w+=E*O,w+=N*q,w+=B*D,h=w>>>13,w&=8191,w+=I*L,w+=P*T,w+=x*K,w+=R*C,w+=k*(5*U),h+=w>>>13,w&=8191,_=h,_+=M*U,_+=A*j,_+=E*z,_+=N*O,_+=B*q,h=_>>>13,_&=8191,_+=I*D,_+=P*L,_+=x*T,_+=R*K,_+=k*C,h+=_>>>13,_&=8191,h=(h<<2)+h|0,h=h+c|0,c=8191&h,h>>>=13,l+=h,M=c,A=l,E=p,N=b,B=y,I=v,P=m,x=g,R=w,k=_,t+=16,r-=16;this.h[0]=M,this.h[1]=A,this.h[2]=E,this.h[3]=N,this.h[4]=B,this.h[5]=I,this.h[6]=P,this.h[7]=x,this.h[8]=R,this.h[9]=k},y.prototype.finish=function(e,t){var r,i,n,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,i=(o[9]>>>15)-1,s=0;s<10;s++)o[s]&=i;for(i=~i,s=0;s<10;s++)this.h[s]=this.h[s]&i|o[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),n=this.h[0]+this.pad[0],this.h[0]=65535&n,s=1;s<8;s++)n=(this.h[s]+this.pad[s]|0)+(n>>>16)|0,this.h[s]=65535&n;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},y.prototype.update=function(e,t,r){var i,n;if(this.leftover){for(n=16-this.leftover,n>r&&(n=r),i=0;i<n;i++)this.buffer[this.leftover+i]=e[t+i];if(r-=n,t+=n,this.leftover+=n,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(n=r-r%16,this.blocks(e,t,n),t+=n,r-=n),r){for(i=0;i<r;i++)this.buffer[this.leftover+i]=e[t+i];this.leftover+=r}};var v=crypto_secretbox,m=crypto_secretbox_open,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],w=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),_=32,E=24,N=32,B=16,I=32,P=32,x=32,R=32,k=32,C=E,K=N,T=B,L=64,D=32,q=64,O=32,z=64;e.lowlevel={crypto_core_hsalsa20:crypto_core_hsalsa20,crypto_stream_xor:crypto_stream_xor,crypto_stream:crypto_stream,crypto_stream_salsa20_xor:crypto_stream_salsa20_xor,crypto_stream_salsa20:crypto_stream_salsa20,crypto_onetimeauth:crypto_onetimeauth,crypto_onetimeauth_verify:crypto_onetimeauth_verify,crypto_verify_16:crypto_verify_16,crypto_verify_32:crypto_verify_32,crypto_secretbox:crypto_secretbox,crypto_secretbox_open:crypto_secretbox_open,crypto_scalarmult:crypto_scalarmult,crypto_scalarmult_base:crypto_scalarmult_base,crypto_box_beforenm:crypto_box_beforenm,crypto_box_afternm:v,crypto_box:crypto_box,crypto_box_open:crypto_box_open,crypto_box_keypair:crypto_box_keypair,crypto_hash:crypto_hash,crypto_sign:crypto_sign,crypto_sign_keypair:crypto_sign_keypair,crypto_sign_open:crypto_sign_open,crypto_secretbox_KEYBYTES:_,crypto_secretbox_NONCEBYTES:E,crypto_secretbox_ZEROBYTES:N,crypto_secretbox_BOXZEROBYTES:B,crypto_scalarmult_BYTES:I,crypto_scalarmult_SCALARBYTES:P,crypto_box_PUBLICKEYBYTES:x,crypto_box_SECRETKEYBYTES:R,crypto_box_BEFORENMBYTES:k,crypto_box_NONCEBYTES:C,crypto_box_ZEROBYTES:K,crypto_box_BOXZEROBYTES:T,crypto_sign_BYTES:L,crypto_sign_PUBLICKEYBYTES:D,crypto_sign_SECRETKEYBYTES:q,crypto_sign_SEEDBYTES:O,crypto_hash_BYTES:z},e.util={},e.util.decodeUTF8=function(e){var t,r=unescape(encodeURIComponent(e)),i=new Uint8Array(r.length);for(t=0;t<r.length;t++)i[t]=r.charCodeAt(t);return i},e.util.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},e.util.encodeBase64=function(e){if("undefined"==typeof btoa)return new t(e).toString("base64");var r,i=[],n=e.length;for(r=0;r<n;r++)i.push(String.fromCharCode(e[r]));return btoa(i.join(""))},e.util.decodeBase64=function(e){if("undefined"==typeof atob)return new Uint8Array(Array.prototype.slice.call(new t(e,"base64"),0));var r,i=atob(e),n=new Uint8Array(i.length);for(r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){checkArrayTypes(e,t,r),checkLengths(r,t);for(var i=new Uint8Array(N+e.length),n=new Uint8Array(i.length),s=0;s<e.length;s++)i[s+N]=e[s];return crypto_secretbox(n,i,i.length,t,r),n.subarray(B)},e.secretbox.open=function(e,t,r){checkArrayTypes(e,t,r),checkLengths(r,t);for(var i=new Uint8Array(B+e.length),n=new Uint8Array(i.length),s=0;s<e.length;s++)i[s+B]=e[s];return!(i.length<32)&&(0===crypto_secretbox_open(n,i,i.length,t,r)&&n.subarray(N))},e.secretbox.keyLength=_,e.secretbox.nonceLength=E,e.secretbox.overheadLength=B,e.scalarMult=function(e,t){if(checkArrayTypes(e,t),e.length!==P)throw new Error("bad n size");if(t.length!==I)throw new Error("bad p size");var r=new Uint8Array(I);return crypto_scalarmult(r,e,t),r},e.scalarMult.base=function(e){if(checkArrayTypes(e),e.length!==P)throw new Error("bad n size");var t=new Uint8Array(I);return crypto_scalarmult_base(t,e),t},e.scalarMult.scalarLength=P,e.scalarMult.groupElementLength=I,e.box=function(t,r,i,n){var s=e.box.before(i,n);return e.secretbox(t,r,s)},e.box.before=function(e,t){checkArrayTypes(e,t),checkBoxLengths(e,t);var r=new Uint8Array(k);return crypto_box_beforenm(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,i,n){var s=e.box.before(i,n);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(x),t=new Uint8Array(R);return crypto_box_keypair(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(checkArrayTypes(e),e.length!==R)throw new Error("bad secret key size");var t=new Uint8Array(x);return crypto_scalarmult_base(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=x,e.box.secretKeyLength=R,e.box.sharedKeyLength=k,e.box.nonceLength=C,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(checkArrayTypes(e,t),t.length!==q)throw new Error("bad secret key size");var r=new Uint8Array(L+e.length);return crypto_sign(r,e,e.length,t),r},e.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(checkArrayTypes(e,t),t.length!==D)throw new Error("bad public key size");var r=new Uint8Array(e.length),i=crypto_sign_open(r,e,e.length,t);if(i<0)return null;for(var n=new Uint8Array(i),s=0;s<n.length;s++)n[s]=r[s];return n},e.sign.detached=function(t,r){for(var i=e.sign(t,r),n=new Uint8Array(L),s=0;s<n.length;s++)n[s]=i[s];return n},e.sign.detached.verify=function(e,t,r){if(checkArrayTypes(e,t,r),t.length!==L)throw new Error("bad signature size");if(r.length!==D)throw new Error("bad public key size");var i,n=new Uint8Array(L+e.length),s=new Uint8Array(L+e.length);for(i=0;i<L;i++)n[i]=t[i];for(i=0;i<e.length;i++)n[i+L]=e[i];return crypto_sign_open(s,n,n.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(D),t=new Uint8Array(q);return crypto_sign_keypair(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(checkArrayTypes(e),e.length!==q)throw new Error("bad secret key size");for(var t=new Uint8Array(D),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(checkArrayTypes(e),e.length!==O)throw new Error("bad seed size");for(var t=new Uint8Array(D),r=new Uint8Array(q),i=0;i<32;i++)r[i]=e[i];return crypto_sign_keypair(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=D,e.sign.secretKeyLength=q,e.sign.seedLength=O,e.sign.signatureLength=L,e.hash=function(e){checkArrayTypes(e);var t=new Uint8Array(z);return crypto_hash(t,e,e.length),t},e.hash.hashLength=z,e.verify=function(e,t){return checkArrayTypes(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===vn(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t;"undefined"!=typeof window?(window.crypto&&window.crypto.getRandomValues?t=window.crypto:window.msCrypto&&window.msCrypto.getRandomValues&&(t=window.msCrypto),t&&e.setPRNG(function(e,r){var i,n=new Uint8Array(r);for(t.getRandomValues(n),i=0;i<r;i++)e[i]=n[i];cleanup(n)})):(t=r(2053),t&&e.setPRNG(function(e,r){var i,n=t.randomBytes(r);for(i=0;i<r;i++)e[i]=n[i];cleanup(n)}))}()}("undefined"!=typeof e&&e.exports?e.exports:window.nacl=window.nacl||{})}).call(t,r(807).Buffer)},2054:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(2055),n=_interopRequireDefault(i),s=r(2057),o=_interopRequireDefault(s),a=r(2058),f=_interopRequireDefault(a),d=r(2059),u=_interopRequireDefault(d);t.crypto=n["default"],t.buffer=o["default"],t.keys=f["default"],t.typedArray=u["default"]},2055:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(2056),s=_interopRequireDefault(n),o=r(818),a=_interopRequireDefault(o),f=r(2052),d=_interopRequireDefault(f);t["default"]=new(function(){function _class(){_classCallCheck(this,_class)}return i(_class,[{key:"hmac",value:function(e,t){return a["default"].createHmac("sha256",e).update(t).digest()}},{key:"kdf",value:function(e,t,r,i){return(0,s["default"])(e,t,r,i)}},{key:"dh",value:function(e,t){return d["default"].box.before(e,t)}}]),_class}()),e.exports=t["default"]},2057:function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t["default"]=new(function(){function _class(){_classCallCheck(this,_class)}return r(_class,[{key:"toTypedArray",value:function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),i=0;i<e.length;++i)r[i]=e[i];return r}},{key:"equals",value:function(e,t){if(e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0}}]),_class}()),e.exports=t["default"]},2058:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(2052),s=_interopRequireDefault(n);t["default"]=new(function(){function _class(){_classCallCheck(this,_class)}return i(_class,[{key:"newPair",value:function(){return s["default"].box.keyPair()}}]),_class}()),e.exports=t["default"]},2059:function(e,t,r){(function(i){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),s=r(2052),o=_interopRequireDefault(s);t["default"]=new(function(){function _class(){_classCallCheck(this,_class)}return n(_class,[{key:"toBuffer",value:function(e){for(var t=new i(e.byteLength),r=new Uint8Array(e),n=0;n<t.length;++n)t[n]=r[n];return t}},{key:"toBase64",value:function(e){return o["default"].util.encodeBase64(e)}}]),_class}()),e.exports=t["default"]}).call(t,r(807).Buffer)},2473:function(e,t,r,i,n,s,o,a,f,d){"use strict";var u=t;u.version=r(i).version,u.utils=r(n),u.rand=r(887),u.hmacDRBG=r(s),u.curve=r(o),u.curves=r(a),u.ec=r(f),u.eddsa=r(d)},2474:function(e,t,r,i){"use strict";function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc),r=o.toArray(e.nonce,e.nonceEnc),i=o.toArray(e.pers,e.persEnc);a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var n=r(899),s=r(i),o=s.utils,a=o.assert;e.exports=HmacDRBG,HmacDRBG.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this.reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(e,t,r,i){"string"!=typeof t&&(i=r,r=t,t=null),e=o.toBuffer(e,t),r=o.toBuffer(r,i),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this.reseed=1},HmacDRBG.prototype.generate=function(e,t,r,i){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(i=r,r=t,t=null),r&&(r=o.toArray(r,i),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,e);return this._update(r),this.reseed++,o.encode(s,t)}},2475:function(e,t,r,i,n,s,o){"use strict";var a=t;a.base=r(i),a["short"]=r(n),a.mont=r(s),a.edwards=r(o)},2476:function(e,t,r,i,n){"use strict";function PresetCurve(e){"short"===e.type?this.curve=new a.curve["short"](e):"edwards"===e.type?this.curve=new a.curve.edwards(e):this.curve=new a.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,f(this.g.validate(),"Invalid curve"),f(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(e,t){Object.defineProperty(s,e,{configurable:!0,enumerable:!0,get:function(){var r=new PresetCurve(t);return Object.defineProperty(s,e,{configurable:!0,enumerable:!0,value:r}),r}})}var s=t,o=r(899),a=r(i),f=a.utils.assert;s.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var d;try{d=r(n)}catch(u){d=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",d]})},2477:function(e,t,r,i,n,s){"use strict";function EDDSA(e){if(d("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(e);var e=a.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=o.sha512}var o=r(899),a=r(i),f=a.utils,d=f.assert,u=f.parseBytes,h=r(n),c=r(s);e.exports=EDDSA,EDDSA.prototype.sign=function(e,t){e=u(e);var r=this.keyFromSecret(t),i=this.hashInt(r.messagePrefix(),e),n=this.g.mul(i),s=this.encodePoint(n),o=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),a=i.add(o).umod(this.curve.n);return this.makeSignature({R:n,S:a,Rencoded:s})},EDDSA.prototype.verify=function(e,t,r){e=u(e),t=this.makeSignature(t);var i=this.keyFromPublic(r),n=this.hashInt(t.Rencoded(),i.pubBytes(),e),s=this.g.mul(t.S()),o=t.R().add(i.pub().mul(n));return o.eq(s)},EDDSA.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return f.intFromLE(e.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(e){return h.fromPublic(this,e)},EDDSA.prototype.keyFromSecret=function(e){return h.fromSecret(this,e)},EDDSA.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},EDDSA.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},EDDSA.prototype.decodePoint=function(e){e=f.parseBytes(e);var t=e.length-1,r=e.slice(0,t).concat(e[t]&-129),i=0!==(128&e[t]),n=f.intFromLE(r);return this.curve.pointFromY(n,i)},EDDSA.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(e){return f.intFromLE(e)},EDDSA.prototype.isPoint=function(e){return e instanceof this.pointClass}}});
//# sourceMappingURL=crypto.964b81415615bbd854d0.js.map